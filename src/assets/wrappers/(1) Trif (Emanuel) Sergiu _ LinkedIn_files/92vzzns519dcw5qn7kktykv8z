define.alias("@glimmer/component/-private/ember-component-manager","msg-overlay/component-managers/glimmer")
define("msg-overlay/components/-dynamic-element-alt",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var t=Ember.Component.extend()
e.default=t}))
define("msg-overlay/components/-dynamic-element",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var t=Ember.Component.extend()
e.default=t}))
define("msg-overlay/components/abi-flow",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const t=Ember.HTMLBars.template({id:"xmZEezLZ",block:'{"symbols":["@isAbiComplete"],"statements":[[2,"\\n"],[11,"div"],[24,0,"msg-overlay-abi text-align-center ph6"],[4,[38,5],null,[["pageKey","routeName","currentRoute"],[[30,[36,4],[[32,1],"flagship3_messaging_overlay_abi_completed.page","flagship3_messaging_overlay_abi.page"],null],[30,[36,3],[[30,[36,2],["outletState"],null],"render.name"],null],[30,[36,3],[[30,[36,2],["outletState"],null],"render"],null]]]],[12],[2,"\\n  "],[10,"div"],[14,0,"msg-overlay-list-bubble__illustration msg-overlay-abi__illustration"],[12],[13],[2,"\\n"],[6,[37,4],[[32,1]],null,[["default","else"],[{"statements":[[2,"    "],[10,"p"],[14,0,"t-14 t-black--light t-normal"],[12],[2,"\\n      "],[1,[30,[36,0],["i18n_start_conversations","msg-overlay/components/abi-flow"],null]],[2,"\\n    "],[13],[2,"\\n    "],[8,"ember-engines@link-to-external",[[4,[38,1],["overlay.find_connections"],null]],[["@route","@class"],["mynetwork","msg-overlay-abi__cta artdeco-button artdeco-button--primary mt4"]],[["default"],[{"statements":[[2,"\\n      "],[1,[30,[36,0],["i18n_find_connections","msg-overlay/components/abi-flow"],null]],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"    "],[10,"h4"],[14,0,"t-16 t-black t-bold"],[12],[2,"\\n      "],[1,[30,[36,0],["i18n_keep_in_touch","msg-overlay/components/abi-flow"],null]],[2,"\\n    "],[13],[2,"\\n    "],[10,"p"],[14,0,"t-14 t-black--light t-normal mt3 mb3"],[12],[2,"\\n      "],[1,[30,[36,0],["i18n_find_people","msg-overlay/components/abi-flow"],null]],[2,"\\n    "],[13],[2,"\\n    "],[8,"ember-engines@link-to-external",[[4,[38,1],["overlay.abi"],null]],[["@route","@class"],["mynetwork.abi","msg-overlay-abi__find-new-connections artdeco-button artdeco-button--3 artdeco-button--tertiary t-14"]],[["default"],[{"statements":[[2,"\\n      "],[1,[30,[36,0],["i18n_find_new_connections","msg-overlay/components/abi-flow"],null]],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]}]]],[13]],"hasEval":false,"upvars":["t","ember-cli-pemberly-tracking@track-interaction","-get-dynamic-var","get","if","ember-cli-pemberly-tracking@track-render"]}',moduleName:"msg-overlay/components/abi-flow.hbs"})
var n=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=n}))
define("msg-overlay/components/active-status-onboarding",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@glimmer/component","global-utils/utils/get-csrf-token"],(function(e,t,n,a,o,s,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var r,l,c,m,u,d,p,b,g,h,v,y,f,_,E,C,w,S,M
const O=Ember.HTMLBars.template({id:"OThlHzpB",block:'{"symbols":[],"statements":[[6,[37,3],[[32,0,["showActiveStatusOnboarding"]]],null,[["default"],[{"statements":[[2,"  "],[11,"div"],[24,0,"msg-overlay-active-status-onboarding"],[4,[38,0],["click",[32,0,["stopPropagation"]]],null],[12],[2,"\\n    "],[10,"p"],[14,0,"t-14"],[12],[2,"\\n      "],[1,[30,[36,1],["i18n_active_status","msg-overlay/components/active-status-onboarding"],null]],[2,"\\n      "],[10,"a"],[14,6,"/help/linkedin/answer/84123"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[14,0,"t-black link-without-visited-state"],[12],[2,"\\n        "],[1,[30,[36,1],["i18n_learn_more","msg-overlay/components/active-status-onboarding"],null]],[2,"\\n      "],[13],[2,"\\n    "],[13],[2,"\\n    "],[10,"div"],[14,0,"display-flex justify-flex-end mt2"],[12],[2,"\\n      "],[8,"artdeco-button@artdeco-button",[[16,"aria-label",[30,[36,1],["a11y_manage_active_status","msg-overlay/components/active-status-onboarding"],null]],[4,[38,0],["click",[32,0,["manageActiveStatus"]]],null],[4,[38,2],["active_status_onboarding_manage"],null]],[["@class","@size","@type","@color"],["mr2","1","tertiary","muted"]],[["default"],[{"statements":[[2,"\\n        "],[1,[30,[36,1],["i18n_manage","msg-overlay/components/active-status-onboarding"],null]],[2,"\\n      "]],"parameters":[]}]]],[2,"\\n      "],[8,"artdeco-button@artdeco-button",[[16,"aria-label",[30,[36,1],["a11y_enable_active_status","msg-overlay/components/active-status-onboarding"],null]],[4,[38,0],["click",[32,0,["enableActiveStatus"]]],null],[4,[38,2],["active_status_onboarding_enable"],null]],[["@size"],["1"]],[["default"],[{"statements":[[2,"\\n        "],[1,[30,[36,1],["i18n_got_it","msg-overlay/components/active-status-onboarding"],null]],[2,"\\n      "]],"parameters":[]}]]],[2,"\\n    "],[13],[2,"\\n  "],[13],[2,"\\n"]],"parameters":[]}]]]],"hasEval":false,"upvars":["on","t","ember-cli-pemberly-tracking@track-interaction","if"]}',moduleName:"msg-overlay/components/active-status-onboarding.hbs"})
let k=(r=Ember.inject.service("global-services@a11y-notification"),l=Ember.inject.service("i18n"),c=Ember.inject.service("lego@resolver"),m=Ember.inject.service("lego@tracking"),u=Ember.inject.service("store"),d=Ember.inject.service("tracking"),p=Ember.inject.service("global-services@window"),b=Ember._tracked,g=Ember._action,h=Ember._action,v=class extends s.default{constructor(){super(...arguments);(0,t.default)(this,"a11yNotification",y,this);(0,t.default)(this,"i18n",f,this);(0,t.default)(this,"legoResolver",_,this);(0,t.default)(this,"legoTracking",E,this);(0,t.default)(this,"store",C,this);(0,t.default)(this,"tracking",w,this);(0,t.default)(this,"windowService",S,this);(0,t.default)(this,"showActiveStatusOnboarding",M,this);(0,n.default)(this,"_legoWidgetTrackingToken",void 0)
this._fetchLegoWidget().then((()=>this._fetchActiveStatusSetting())).then((e=>{this.isDestroying||("HIDDEN"===e?this._showActiveStatusOnboarding():this._dismissLegoWidget())}))}stopPropagation(e){e.stopPropagation()}_showActiveStatusOnboarding(){this.showActiveStatusOnboarding=!0
this.tracking.firePageViewEvent("flagship3_messaging_active_status_onboarding")
const e=this.i18n.lookupTranslation("components/msg-overlay@active-status-onboarding","i18n_active_status")()
this.a11yNotification.setTextInLiveRegion(e)}_completeActiveStatusOnboarding(){this.showActiveStatusOnboarding=!1
return this._enableActiveStatusSetting().then((()=>this._dismissLegoWidget()))}_fetchLegoWidget(){return this.legoResolver.fireLegoCall({pageKey:"messaging_presence",slotId:"onboarding",groupId:"onboarding_group",widgetId:"presence_onboarding"}).then((e=>{if(!e)return Ember.RSVP.reject()
if(!this.isDestroying){this._legoWidgetTrackingToken=Ember.get(e,"trackingToken")
return e}}))}_dismissLegoWidget(){this.legoTracking.sendLegoAction(this._legoWidgetTrackingToken,this.legoTracking.LEGO_ACTION_DISMISS,1)}_fetchActiveStatusSetting(){return this.store.adapterFor("-ember-m3").ajax("/psettings/presence","get",{data:{asJson:!0}}).then((e=>{const t=Ember.get(e,"map.data.visibility")
if(!t)throw new Error("failed to get active status setting")
return t}))}_enableActiveStatusSetting(){return this.store.adapterFor("-ember-m3").ajax("/psettings/presence/update-presence-settings","post",{data:{visibility:"CONNECTIONS",csrfToken:(0,i.default)()},headers:{"x-requested-with":"XMLHttpRequest"}}).then((e=>{const t=Ember.get(e,"result.responseCode")
if(200!==t)throw new Error(`failed to set active status setting, responseCode: ${t}`)}))}enableActiveStatus(){this._completeActiveStatusOnboarding()}manageActiveStatus(){this._completeActiveStatusOnboarding().then((()=>this.windowService.open("/psettings/presence","_blank")))}},y=(0,a.default)(v.prototype,"a11yNotification",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=(0,a.default)(v.prototype,"i18n",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=(0,a.default)(v.prototype,"legoResolver",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=(0,a.default)(v.prototype,"legoTracking",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=(0,a.default)(v.prototype,"store",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=(0,a.default)(v.prototype,"tracking",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=(0,a.default)(v.prototype,"windowService",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=(0,a.default)(v.prototype,"showActiveStatusOnboarding",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),(0,a.default)(v.prototype,"enableActiveStatus",[g],Object.getOwnPropertyDescriptor(v.prototype,"enableActiveStatus"),v.prototype),(0,a.default)(v.prototype,"manageActiveStatus",[h],Object.getOwnPropertyDescriptor(v.prototype,"manageActiveStatus"),v.prototype),v)
e.default=k
Ember._setComponentTemplate(O,k)}))
define.alias("artdeco-button/components/artdeco-button","msg-overlay/components/artdeco-button")
define.alias("artdeco-datepicker/components/artdeco-calendar","msg-overlay/components/artdeco-calendar")
define.alias("artdeco-carousel/components/artdeco-carousel-item","msg-overlay/components/artdeco-carousel-item")
define.alias("artdeco-carousel/components/artdeco-carousel-slider","msg-overlay/components/artdeco-carousel-slider")
define.alias("artdeco-carousel/components/artdeco-carousel-title","msg-overlay/components/artdeco-carousel-title")
define.alias("artdeco-carousel/components/artdeco-carousel","msg-overlay/components/artdeco-carousel")
define.alias("artdeco-modal/components/artdeco-confirmation-dialog","msg-overlay/components/artdeco-confirmation-dialog")
define.alias("artdeco-datepicker/components/artdeco-datepicker-embedded-cal","msg-overlay/components/artdeco-datepicker-embedded-cal")
define.alias("artdeco-datepicker/components/artdeco-datepicker","msg-overlay/components/artdeco-datepicker")
define.alias("artdeco-datepicker/components/artdeco-daterange-embedded-cal","msg-overlay/components/artdeco-daterange-embedded-cal")
define.alias("artdeco-datepicker/components/artdeco-daterange","msg-overlay/components/artdeco-daterange")
define.alias("artdeco-dropdown/components/artdeco-dropdown-content","msg-overlay/components/artdeco-dropdown-content")
define.alias("artdeco-dropdown/components/artdeco-dropdown-header","msg-overlay/components/artdeco-dropdown-header")
define.alias("artdeco-dropdown/components/artdeco-dropdown-item","msg-overlay/components/artdeco-dropdown-item")
define.alias("artdeco-dropdown/components/artdeco-dropdown-trigger","msg-overlay/components/artdeco-dropdown-trigger")
define.alias("artdeco-dropdown/components/artdeco-dropdown","msg-overlay/components/artdeco-dropdown")
define.alias("artdeco-empty-state/components/artdeco-empty-state","msg-overlay/components/artdeco-empty-state")
define.alias("artdeco-entity-lockup/components/artdeco-entity-lockup-badge","msg-overlay/components/artdeco-entity-lockup-badge")
define.alias("artdeco-entity-lockup/components/artdeco-entity-lockup-caption","msg-overlay/components/artdeco-entity-lockup-caption")
define.alias("artdeco-entity-lockup/components/artdeco-entity-lockup-content","msg-overlay/components/artdeco-entity-lockup-content")
define.alias("artdeco-entity-lockup/components/artdeco-entity-lockup-image","msg-overlay/components/artdeco-entity-lockup-image")
define.alias("artdeco-entity-lockup/components/artdeco-entity-lockup-metadata","msg-overlay/components/artdeco-entity-lockup-metadata")
define.alias("artdeco-entity-lockup/components/artdeco-entity-lockup-subtitle","msg-overlay/components/artdeco-entity-lockup-subtitle")
define.alias("artdeco-entity-lockup/components/artdeco-entity-lockup-title","msg-overlay/components/artdeco-entity-lockup-title")
define.alias("artdeco-entity-lockup/components/artdeco-entity-lockup","msg-overlay/components/artdeco-entity-lockup")
define.alias("artdeco-entity-pile/components/artdeco-entity-pile","msg-overlay/components/artdeco-entity-pile")
define.alias("artdeco-hoverables/components/artdeco-hoverable-content","msg-overlay/components/artdeco-hoverable-content")
define.alias("artdeco-hoverables/components/artdeco-hoverable-trigger","msg-overlay/components/artdeco-hoverable-trigger")
define.alias("artdeco-inline-feedback/components/artdeco-inline-feedback","msg-overlay/components/artdeco-inline-feedback")
define.alias("artdeco-loader/components/artdeco-loader","msg-overlay/components/artdeco-loader")
define.alias("artdeco-modal/components/container","msg-overlay/components/artdeco-modal-container")
define.alias("artdeco-modal/components/artdeco-modal-content","msg-overlay/components/artdeco-modal-content")
define.alias("artdeco-modal/components/artdeco-modal-footer","msg-overlay/components/artdeco-modal-footer")
define.alias("artdeco-modal/components/artdeco-modal-header","msg-overlay/components/artdeco-modal-header")
define.alias("artdeco-modal/components/artdeco-modal","msg-overlay/components/artdeco-modal")
define.alias("artdeco-notification-badge/components/artdeco-notification-badge","msg-overlay/components/artdeco-notification-badge")
define.alias("artdeco-pagination/components/artdeco-pagination-ellipsis","msg-overlay/components/artdeco-pagination-ellipsis")
define.alias("artdeco-pagination/components/artdeco-pagination-indicator","msg-overlay/components/artdeco-pagination-indicator")
define.alias("artdeco-pagination/components/artdeco-pagination","msg-overlay/components/artdeco-pagination")
define.alias("artdeco-pill/components/artdeco-pill-choice-group","msg-overlay/components/artdeco-pill-choice-group")
define.alias("artdeco-pill/components/artdeco-pill-choice","msg-overlay/components/artdeco-pill-choice")
define.alias("artdeco-pill/components/artdeco-pill-dismiss","msg-overlay/components/artdeco-pill-dismiss")
define.alias("artdeco-pill/components/artdeco-pill-input","msg-overlay/components/artdeco-pill-input")
define.alias("artdeco-pill/components/artdeco-pill-link","msg-overlay/components/artdeco-pill-link")
define.alias("artdeco-pill/components/artdeco-pill-toggle","msg-overlay/components/artdeco-pill-toggle")
define.alias("ember-cli-artdeco-tabs/components/artdeco-spotlight-tab","msg-overlay/components/artdeco-spotlight-tab")
define.alias("ember-cli-artdeco-tabs/components/artdeco-spotlight-tablist","msg-overlay/components/artdeco-spotlight-tablist")
define.alias("ember-cli-artdeco-tabs/components/artdeco-tab","msg-overlay/components/artdeco-tab")
define.alias("ember-cli-artdeco-tabs/components/artdeco-tablist","msg-overlay/components/artdeco-tablist")
define.alias("ember-cli-artdeco-tabs/components/artdeco-tabpanel","msg-overlay/components/artdeco-tabpanel")
define.alias("ember-cli-artdeco-tabs/components/artdeco-tabs","msg-overlay/components/artdeco-tabs")
define.alias("artdeco-text-input/components/artdeco-text-input-multi","msg-overlay/components/artdeco-text-input-multi")
define.alias("artdeco-text-input/components/artdeco-text-input-single","msg-overlay/components/artdeco-text-input-single")
define.alias("artdeco-text-input/components/artdeco-text-input","msg-overlay/components/artdeco-text-input")
define.alias("artdeco-toast/components/artdeco-toast-item","msg-overlay/components/artdeco-toast-item")
define.alias("artdeco-toast/components/artdeco-toasts","msg-overlay/components/artdeco-toasts")
define.alias("artdeco-toggle/components/artdeco-toggle","msg-overlay/components/artdeco-toggle")
define.alias("ember-cli-artdeco-typeahead/components/artdeco-typeahead-input","msg-overlay/components/artdeco-typeahead-input")
define.alias("ember-cli-artdeco-typeahead/components/artdeco-typeahead-result","msg-overlay/components/artdeco-typeahead-result")
define.alias("ember-cli-artdeco-typeahead/components/artdeco-typeahead-results-list","msg-overlay/components/artdeco-typeahead-results-list")
define.alias("ember-cli-artdeco-typeahead/components/artdeco-typeahead","msg-overlay/components/artdeco-typeahead")
define("msg-overlay/components/audio-bubble",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@glimmer/component"],(function(e,t,n,a,o,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var i,r,l,c,m,u
const d=Ember.HTMLBars.template({id:"f3RWIL+o",block:'{"symbols":["assetLoader","@bubble","@isMinimized","@toggleMinimize","@bubbleId"],"statements":[[11,"div"],[16,1,[31,[[32,5]]]],[24,"tabindex","-1"],[16,0,[31,["msg-overlay-bubble msg-overlay-audio-bubble\\n    ",[30,[36,0],[[32,3],"msg-overlay-audio-bubble--is-minimized"],null],"\\n    ",[30,[36,0],[[32,0,["isInMinimizeTransition"]],"msg-overlay-list-bubble--during-transition"],null],"\\n    display-flex flex-column ml4"]]],[4,[38,1],null,null],[4,[38,3],["transitioned",[30,[36,2],[[32,0],"isInMinimizeTransition",false],null]],null],[12],[2,"\\n  "],[8,"asset-loader@deferred-asset-loader",[],[["@bundle"],["rooms"]],[["default"],[{"statements":[[2,"\\n"],[6,[37,0],[[32,1,["state","fulfilled"]]],null,[["default","else"],[{"statements":[[2,"      "],[8,"rooms@rooms-call-container",[],[["@room","@ugcPostUrn","@autoJoin","@onLeaveCall","@isMinimized","@toggleMinimize"],[[32,2,["room"]],[32,2,["ugcPostUrn"]],[32,2,["autoJoin"]],[32,0,["closeBubble"]],[32,3],[32,4]]],null],[2,"\\n"]],"parameters":[]},{"statements":[[2,"      "],[10,"div"],[14,0,"msg-overlay-audio-bubble__loading-section"],[12],[2,"\\n        "],[8,"artdeco-loader@artdeco-loader",[],[[],[]],null],[2,"\\n      "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"  "]],"parameters":[1]}]]],[2,"\\n"],[13]],"hasEval":false,"upvars":["if","msg-shared@block-scrolling","ember-set-helper@set","on"]}',moduleName:"msg-overlay/components/audio-bubble.hbs"})
let p=(i=Ember.inject.service("msg-overlay-manager@msg-overlay-manager"),r=Ember._tracked,l=Ember._action,c=class extends s.default{constructor(){super(...arguments);(0,t.default)(this,"msgOverlayService",m,this);(0,t.default)(this,"isInMinimizeTransition",u,this)}closeBubble(){var e,t,n,a
null===(e=(t=this.args.bubble).onCloseBubble)||void 0===e||e.call(t)
null===(n=(a=this.args).closeBubble)||void 0===n||n.call(a)}},m=(0,a.default)(c.prototype,"msgOverlayService",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=(0,a.default)(c.prototype,"isInMinimizeTransition",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),(0,a.default)(c.prototype,"closeBubble",[l],Object.getOwnPropertyDescriptor(c.prototype,"closeBubble"),c.prototype),c)
e.default=p
Ember._setComponentTemplate(d,p)}))
define("msg-overlay/components/contextual-recommendation-list",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@glimmer/component","msg-shared/utils/constants","msg-overlay/utils/recommendation-helpers"],(function(e,t,n,a,o,s,i,r){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var l,c,m,u,d,p,b,g,h,v,y,f,_
const E=Ember.HTMLBars.template({id:"KzjR19O5",block:'{"symbols":["suggestion","index","@suggestedRecipients","@classNames"],"statements":[[10,"div"],[15,0,[31,["msg-overlay-list-bubble__contextual\\n    ",[30,[36,2],[[32,0,["isMinimized"]],"msg-overlay-list-bubble__contextual--minimized "],null],"\\n    ",[30,[36,2],[[32,0,["isRedesignedUI"]],"msg-overlay-list-bubble__contextual--redesigned mb2 mh2"],null],"\\n    ",[32,4]]]],[12],[2,"\\n"],[6,[37,2],[[32,0,["isRedesignedUI"]]],null,[["default","else"],[{"statements":[[2,"    "],[11,"div"],[24,0,"msg-conversation-listitem__link display-flex msg-overlay-list-bubble__contextual--redesigned m1"],[4,[38,0],["click",[32,0,["toggleRemainingSuggestedRecipients"]]],null],[12],[2,"\\n      "],[10,"div"],[15,0,[31,["msg-overlay-list-bubble__contextual-preview-entity\\n          ",[30,[36,2],[[32,0,["showRemainingSuggestions"]],"msg-overlay-list-bubble__contextual--fade-out","msg-overlay-list-bubble__contextual-preview--fade-in"],null]]]],[12],[2,"\\n        "],[8,"msg-facepile-grid@facepile-grid",[],[["@participants","@groupChat","@entitySize","@iconSize"],[[32,0,["previewMutualConnections"]],false,0,"small"]],null],[2,"\\n      "],[13],[2,"\\n      "],[10,"div"],[14,0,"msg-overlay-list-bubble__contextual-header overflow-hidden"],[12],[2,"\\n        "],[10,"div"],[14,0,"msg-overlay-list-bubble__convo-card-content-wrapper fl"],[12],[2,"\\n          "],[10,"div"],[14,0,"msg-conversation-card__row"],[12],[2,"\\n            "],[10,"h5"],[15,0,[31,["msg-overlay-list-bubble__contextual-header-title t-bold\\n                ",[30,[36,2],[[32,0,["showRemainingSuggestions"]],"pl1"],null]]]],[12],[2,"\\n"],[6,[37,2],[[32,0,["isFeedContext"]]],null,[["default","else"],[{"statements":[[2,"                "],[1,[30,[36,1],[[30,[36,2],[[32,0,["showRemainingSuggestions"]],"i18n_connection_to_context_article_v2_expanded","i18n_connection_to_context_article_v2"],null],"msg-overlay/components/contextual-recommendation-list"],[["count"],[[32,3,["length"]]]]]],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,2],[[32,0,["isProfileContext"]]],null,[["default","else"],[{"statements":[[2,"                "],[1,[30,[36,1],[[30,[36,2],[[32,0,["showRemainingSuggestions"]],"i18n_connection_to_context_actor_member_v2_expanded","i18n_connection_to_context_actor_member_v2"],null],"msg-overlay/components/contextual-recommendation-list"],[["count","memberName"],[[32,3,["length"]],[30,[36,5],[[32,0,["msgOverlayService","contextActor"]]],null]]]]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                "],[1,[30,[36,1],[[30,[36,2],[[32,0,["showRemainingSuggestions"]],"i18n_connection_to_context_actor_company_v2_expanded","i18n_connection_to_context_actor_company_v2"],null],"msg-overlay/components/contextual-recommendation-list"],[["count","companyName"],[[32,3,["length"]],[32,0,["msgOverlayService","contextActor"]]]]]],[2,"\\n              "]],"parameters":[]}]]]],"parameters":[]}]]],[2,"            "],[13],[2,"\\n            "],[10,"div"],[14,0,"t-12 t-black--light t-bold"],[12],[2,"\\n              "],[10,"span"],[14,0,"msg-overlay-list-bubble__view-more-suggestions display-flex justify-center full-width"],[12],[2,"\\n                "],[1,[30,[36,3],null,[["type","size","class"],[[30,[36,2],[[32,0,["showRemainingSuggestions"]],"chevron-up-icon","chevron-down-icon"],null],"small","ml1"]]]],[2,"\\n              "],[13],[2,"\\n            "],[13],[2,"\\n          "],[13],[2,"\\n          "],[10,"div"],[14,0,"msg-conversation-card__row"],[12],[2,"\\n            "],[10,"div"],[15,0,[31,["msg-overlay-list-bubble__contextual-subheader\\n                ",[30,[36,2],[[32,0,["showRemainingSuggestions"]],"msg-overlay-list-bubble__contextual--fade-out","msg-overlay-list-bubble__contextual--fade-in"],null]]]],[12],[2,"\\n"],[6,[37,2],[[30,[36,6],[[32,3,["length"]],1],null]],null,[["default","else"],[{"statements":[[2,"                "],[1,[30,[36,1],["i18n_mutual_connection_subtitle_single","msg-overlay/components/contextual-recommendation-list"],[["name"],[[32,0,["firstMutualConnectionName"]]]]]],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,2],[[30,[36,6],[[32,3,["length"]],2],null]],null,[["default","else"],[{"statements":[[2,"                "],[1,[30,[36,1],["i18n_mutual_connection_subtitle_double","msg-overlay/components/contextual-recommendation-list"],[["firstMember","secondMember"],[[32,0,["firstMutualConnectionName"]],[32,0,["secondMutualConnectionName"]]]]]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                "],[1,[30,[36,1],["i18n_mutual_connection_subtitle_more","msg-overlay/components/contextual-recommendation-list"],[["firstMember","secondMember"],[[32,0,["firstMutualConnectionName"]],[32,0,["secondMutualConnectionName"]]]]]],[2,"\\n              "]],"parameters":[]}]]]],"parameters":[]}]]],[2,"            "],[13],[2,"\\n          "],[13],[2,"\\n        "],[13],[2,"\\n      "],[13],[2,"\\n    "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"    "],[10,"header"],[14,0,"msg-overlay-list-bubble__list-header"],[12],[2,"\\n"],[6,[37,2],[[32,0,["isFeedContext"]]],null,[["default","else"],[{"statements":[[2,"        "],[8,"ember-line-clamp@line-clamp",[],[["@text","@lines","@tagName","@classNames","@interactive"],[[30,[36,1],["i18n_connection_to_context_article","msg-overlay/components/contextual-recommendation-list"],[["count"],[[32,3,["length"]]]]],2,"h5","msg-overlay-list-bubble__list-header-title msg-overlay-list-bubble__list-header-title-suggestions msg-overlay-list-bubble__list-header-title-suggestions--feed-update t-12 t-black--light t-bold",false]],null],[2,"\\n"]],"parameters":[]},{"statements":[[2,"        "],[10,"h5"],[14,0,"msg-overlay-list-bubble__list-header-title msg-overlay-list-bubble__list-header-title-suggestions t-12 t-black--light t-bold truncate"],[12],[2,"\\n          "],[1,[30,[36,2],[[32,0,["isProfileContext"]],[30,[36,1],["i18n_connection_to_context_actor_member","msg-overlay/components/contextual-recommendation-list"],[["count","memberName"],[[32,3,["length"]],[30,[36,5],[[32,0,["msgOverlayService","contextActor"]]],null]]]],[30,[36,1],["i18n_connection_to_context_actor_company","msg-overlay/components/contextual-recommendation-list"],[["count","companyName"],[[32,3,["length"]],[32,0,["msgOverlayService","contextActor"]]]]]],null]],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"    "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"  "],[10,"span"],[14,0,"visually-hidden"],[12],[2,"\\n    "],[1,[30,[36,1],["i18n_a11y_infinite_scroll","msg-overlay/components/contextual-recommendation-list"],null]],[2,"\\n  "],[13],[2,"\\n  "],[10,"ul"],[15,0,[31,["msg-conversations-container__conversations-list msg-overlay-list-bubble__conversations-list\\n      ",[30,[36,2],[[32,0,["isRedesignedUI"]],"msg-overlay-list-bubble__contextual-expended"],null]]]],[12],[2,"\\n"],[6,[37,9],[[30,[36,8],[[30,[36,8],[[30,[36,7],[[32,3],0,[32,0,["suggestedRecipientsDisplayCount"]]],null]],null]],null]],null,[["default"],[{"statements":[[2,"      "],[8,"msg-overlay@recommendation-card",[],[["@suggestion","@actor","@messageRecommendation","@isFeedContext","@interactionTrackingHandler","@impressionTrackingHandler"],[[32,1],[32,0,["msgOverlayService","contextActor"]],[30,[36,4],[[32,0,["messageRecommendation"]],[32,1]],null],[32,0,["isFeedContext"]],[30,[36,4],[[32,0,["contextualRecommandationCardInteractionTracking"]],[32,1],"EXPAND"],null],[30,[36,4],[[32,0,["contextualRecommandationCardImpressionTracking"]],[32,1],[32,2]],null]]],null],[2,"\\n"]],"parameters":[1,2]}]]],[2,"  "],[13],[2,"\\n"],[6,[37,10],[[32,0,["isRedesignedUI"]]],null,[["default"],[{"statements":[[6,[37,2],[[32,0,["hasMoreSuggestedRecipients"]]],null,[["default"],[{"statements":[[2,"      "],[11,"button"],[24,0,"full-width pv2 t-12 t-black--light t-bold"],[24,4,"button"],[4,[38,0],["click",[32,0,["toggleRemainingSuggestedRecipients"]]],null],[12],[2,"\\n        "],[10,"span"],[14,0,"msg-overlay-list-bubble__view-more-suggestions display-flex justify-center full-width"],[12],[2,"\\n          "],[1,[30,[36,2],[[32,0,["showRemainingSuggestions"]],[30,[36,1],["close","msg-overlay/components/contextual-recommendation-list"],null],[30,[36,1],["view_all","msg-overlay/components/contextual-recommendation-list"],null]],null]],[2,"\\n          "],[1,[30,[36,3],null,[["type","size","class"],[[30,[36,2],[[32,0,["showRemainingSuggestions"]],"chevron-up-icon","chevron-down-icon"],null],"small","ml1"]]]],[2,"\\n        "],[13],[2,"\\n      "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[13]],"hasEval":false,"upvars":["on","t","if","artdeco-icons-web@li-icon","fn","global-helpers@name","global-helpers@eq","global-helpers@slice","-track-array","each","unless"]}',moduleName:"msg-overlay/components/contextual-recommendation-list.hbs"}),{OVERLAY:{CONTEXT_TYPES:{FEED_CONTEXT:C,PROFILE_CONTEXT:w}}}=i.default
let S=(l=Ember.inject.service("tracking"),c=Ember.inject.service("msg-overlay-manager@msg-overlay-manager"),m=Ember.inject.service("lix"),u=Ember._tracked,d=Ember._action,p=Ember._action,b=Ember._action,g=Ember._action,h=class extends s.default{constructor(){super(...arguments);(0,t.default)(this,"tracking",v,this);(0,t.default)(this,"msgOverlayService",y,this);(0,t.default)(this,"lix",f,this);(0,t.default)(this,"showRemainingSuggestions",_,this)}get isFeedContext(){return this.msgOverlayService.contextType===C}get isProfileContext(){return this.msgOverlayService.contextType===w}get suggestedRecipientsDisplayCount(){var e
if(this.isRedesignedUI){var t
return this.showRemainingSuggestions?null===(t=this.args.suggestedRecipients)||void 0===t?void 0:t.length:0}return this.showRemainingSuggestions?null===(e=this.args.suggestedRecipients)||void 0===e?void 0:e.length:2}get hasMoreSuggestedRecipients(){return Ember.get(this,"args.suggestedRecipients.length")>2}get isRedesignedUI(){return this.lix.getTreatmentIsEnabled("voyager.web.messaging-mutual-connection-redesign")}get previewMutualConnections(){const e=[],{suggestedRecipients:t}=this.args
t.length&&e.push(t[0].content.get("suggestedRecipientProfile"))
t.length>1&&e.push(t[1].content.get("suggestedRecipientProfile"))
return e}get mutualConnectionNames(){return this.previewMutualConnections.map((e=>Ember.getProperties(Ember.get(e,"miniProfile"),"firstName","lastName")))}get hasMultipleMutualConnection(){return this.args.suggestedRecipients.length>2}get firstMutualConnectionName(){return this.mutualConnectionNames[0]}get secondMutualConnectionName(){return this.mutualConnectionNames[1]}toggleRemainingSuggestedRecipients(){this.showRemainingSuggestions=!this.showRemainingSuggestions}messageRecommendation(e){this.args.openNewConversation({recipients:Ember.get(e,"recipientProfile"),messageActions:{afterSendTracking:()=>this.contextualRecommandationCardInteractionTracking(e,"MESSAGE",{controlUrn:this.tracking.generateControlUrn("overlay.message_recommendation")})}})}contextualRecommandationCardInteractionTracking(e,t,n){let{controlUrn:a}=n,o={}
this.isDestroyed||(o={name:"MessagingRecommendationActionEvent",body:{actionCategory:t,controlUrn:a,recommendationTrackingId:Ember.get(e,"trackingId"),usecase:(0,r.normalizeUsecase)(this.msgOverlayService.contextType,this.showRemainingSuggestions)}})
return o}contextualRecommandationCardImpressionTracking(e,t,n){let{duration:a,visibleTime:o}=n
return{name:"MessagingRecommendationImpressionEvent",body:{recommendedEntity:{recommendedEntityUrn:Ember.get(e,"miniProfile.objectUrn"),recommendationTrackingId:Ember.get(e,"trackingId"),referenceEntityTrackingObject:{objectUrn:this.msgOverlayService.contextEntityUrn,trackingId:Ember.get(e,"trackingId")},listPosition:{index:t},usecase:(0,r.normalizeUsecase)(this.msgOverlayService.contextType,this.showRemainingSuggestions),visibleTime:o,duration:a}}}}},v=(0,a.default)(h.prototype,"tracking",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=(0,a.default)(h.prototype,"msgOverlayService",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=(0,a.default)(h.prototype,"lix",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=(0,a.default)(h.prototype,"showRemainingSuggestions",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),(0,a.default)(h.prototype,"toggleRemainingSuggestedRecipients",[d],Object.getOwnPropertyDescriptor(h.prototype,"toggleRemainingSuggestedRecipients"),h.prototype),(0,a.default)(h.prototype,"messageRecommendation",[p],Object.getOwnPropertyDescriptor(h.prototype,"messageRecommendation"),h.prototype),(0,a.default)(h.prototype,"contextualRecommandationCardInteractionTracking",[b],Object.getOwnPropertyDescriptor(h.prototype,"contextualRecommandationCardInteractionTracking"),h.prototype),(0,a.default)(h.prototype,"contextualRecommandationCardImpressionTracking",[g],Object.getOwnPropertyDescriptor(h.prototype,"contextualRecommandationCardImpressionTracking"),h.prototype),h)
e.default=S
Ember._setComponentTemplate(E,S)}))
define("msg-overlay/components/conversation-bubble-compose",["exports","@babel/runtime/helpers/esm/defineProperty","@glimmer/component","msg-shared/utils/constants"],(function(e,t,n,a){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const o=Ember.HTMLBars.template({id:"qvXyIBqk",block:'{"symbols":["@bubbleId","@composeToNonConnection","@setComposeContext","@composeViewContext","@bubble","@didSubmitMessage","@draftConversation","@dragAndDropTrackingKeys","@handleSuccessfulDiscardRequest","@setHasDraft","@hasPrefilledConversationName","@isOriginalSize","@messageBarText","@messageContext","@messagingSettings","@createDraftGroupConversation","@openConversation","@showRenameConversationForm","@toggleShowRenameConversation","@setFocusToRenameConversationForm","@shouldShowExpandedTypeahead","@contextWidth","@onConversationFetched","@showDraftGroupConversation","@openEditGroupScreen","@recipientsChanged","@contextByRecipients"],"statements":[[8,"msg-ui@compose",[],[["@actionTrackingPrefix","@addParticipantsPageKey","@bubbleId","@composeModuleKey","@composeToNonConnection","@setComposeContext","@composeViewContext","@conversation","@conversationDetailModuleKey","@customTrackingObject","@customPlaceholderText","@didSubmitMessage","@draftConversation","@dragAndDropTrackingKeys","@fileUploadControlName","@forwardedEvent","@handleSuccessfulDiscardRequest","@hasDraft","@setHasDraft","@hasPrefilledConversationName","@imagePasteControlName","@imageUploadControlName","@invitationUrn","@isInMailCompose","@isNew","@isOpenedFromMsgButton","@isOriginalSize","@isOverlay","@messageBarText","@messageContext","@messageActions","@messageRecipients","@messagingSettings","@msgAdapterOptions","@muteConversationControlName","@mutePageKey","@nextButtonDataControlName","@createDraftGroupConversation","@openConversation","@prefilledAttachments","@prefilledMessage","@quickRepliesUseCase","@renamePageKey","@sendMessageControlName","@showGroupEditScreen","@showRenameConversationForm","@subject","@targetUrl","@toggleShowRenameConversation","@update","@smpContent","@is1on1Compose","@recipientSuggestionEnabled","@setFocusToRenameConversationForm","@showPremiumUpsell","@isJumboBubble","@shouldShowExpandedTypeahead","@contextWidth","@onConversationFetched","@showDraftGroupConversation","@openEditGroupScreen","@recipientsChanged","@contextByRecipients","@conversationName","@inmailReplyDeepLink"],[[32,0,["CONTROL_NAMES","OVERLAY_PREFIX"]],"flagship3_messaging_overlay_participant_detail_screen_displayed",[32,1],[32,0,["MODULE_KEYS","OVERLAY_COMPOSE"]],[32,2],[32,3],[32,4],[32,5,["conversation"]],[32,0,["MODULE_KEYS","OVERLAY_CONVERSATION_DETAIL"]],[32,5,["trackingObject"]],[32,5,["placeholderText"]],[32,6],[32,7],[32,8],[32,0,["CONTROL_NAMES","OVERLAY","FILE_UPLOAD"]],[32,5,["forwardedEvent"]],[32,9],[32,5,["hasDraft"]],[32,10],[32,11],[32,0,["CONTROL_NAMES","OVERLAY","IMAGE_PASTE"]],[32,0,["CONTROL_NAMES","OVERLAY","IMAGE_UPLOAD"]],[32,5,["invitationUrn"]],[32,5,["isInMailCompose"]],[32,5,["isNew"]],[32,5,["isOpenedFromMsgButton"]],[32,12],true,[32,13],[32,14],[32,5,["messageActions"]],[32,5,["messageRecipients"]],[32,15],[32,5,["msgAdapterOptions"]],[32,0,["CONTROL_NAMES","OVERLAY","MUTE"]],"flagship3_messaging_overlay_conversation_window_muted.page",[32,0,["CONTROL_NAMES","OVERLAY","COMPOSE_GROUP_NEXT"]],[32,16],[32,17],[32,5,["attachments"]],[32,5,["message"]],"QUICK_REPLY_OVERLAY","flagship3_messaging_overlay_conversation_window_rename.page",[32,0,["CONTROL_NAMES","OVERLAY","SEND"]],[32,5,["showGroupEditScreen"]],[32,18],[32,5,["subject"]],[32,5,["targetUrl"]],[32,19],[32,5,["update"]],[32,5,["smpContent"]],[32,5,["is1on1Compose"]],true,[32,20],[32,5,["showPremiumUpsell"]],[32,5,["isJumbo"]],[32,21],[32,22],[32,23],[32,24],[32,25],[32,26],[32,27],[32,5,["groupConversationName"]],[32,5,["inmailReplyDeepLink"]]]],null]],"hasEval":false,"upvars":[]}',moduleName:"msg-overlay/components/conversation-bubble-compose.hbs"}),{CONTROL_NAMES:s,MODULE_KEYS:i}=a.default
class r extends n.default{constructor(){super(...arguments);(0,t.default)(this,"CONTROL_NAMES",s);(0,t.default)(this,"MODULE_KEYS",i)}}e.default=r
Ember._setComponentTemplate(o,r)}))
define("msg-overlay/components/conversation-bubble-header-controls",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const t=Ember.HTMLBars.template({id:"pCu0YabM",block:'{"symbols":["dropdown","@bubble","@updateMessageCompose","@hasBadge","@handleSuccessfulDiscardRequest","@toggleShowRenameConversation","@enableReportingSponsoredConversation","@toggleConversationMute","@createGroupChat","@trackingModuleName","@actionTrackingPrefix","@showVideoMeetingButtonInHeader","@openEditGroupScreen","@showDraftGroupConversation","@toggleJumboSize","@handleCloseBubble"],"statements":[[10,"div"],[14,0,"msg-overlay-bubble-header__controls display-flex align-items-center"],[12],[2,"\\n"],[6,[37,10],[[32,2,["isMinimized"]]],null,[["default"],[{"statements":[[6,[37,4],[[32,14]],null,[["default","else"],[{"statements":[[2,"      "],[8,"artdeco-dropdown@artdeco-dropdown",[],[["@isOpen","@onVisibilityChange","@placement","@justification","@classNames"],[[30,[36,5],[[32,0,["isDraftThreadActionsDropdownOpen"]],false],null],[30,[36,6],[[32,0],"isDraftThreadActionsDropdownOpen"],null],"bottom","right","msg-thread-actions__dropdown"]],[["default"],[{"statements":[[2,"\\n        "],[8,[32,1,["dropdown-trigger"]],[],[["@class"],[[31,["msg-thread-actions__control artdeco-button artdeco-button--1 artdeco-button--circle artdeco-button--tertiary ",[30,[36,4],[[32,4],"artdeco-button--inverse","artdeco-button--muted"],null]]]]],[["default"],[{"statements":[[2,"\\n          "],[1,[30,[36,9],null,[["type","class","size","color","a11y-text"],["ellipsis-horizontal-icon","artdeco-button__icon","small",true,[30,[36,8],[[30,[36,4],[[32,2,["conversation","isNew"]],"a11y_open_convo_new","a11y_open_convo"],null],"msg-overlay/components/conversation-bubble-header-controls"],[["names"],[[30,[36,8],[[30,[36,4],[[32,2,["conversation","groupChat"]],[30,[36,4],[[32,2,["conversation","name"]],[32,2,["conversation","name"]],"i18n_participants_full_names"],null],"i18n_participants_full_names"],null],"msg-overlay/components/conversation-bubble-header-controls"],[["names"],[[30,[36,8],["i18n_participants_full_names","msg-overlay/components/conversation-bubble-header-controls"],[["names"],[[30,[36,7],[[32,2,["conversation"]]],null]]]]]]]]]]]]]],[2,"\\n        "]],"parameters":[]}]]],[2,"\\n        "],[10,"div"],[14,0,"msg-thread-actions__dropdown-container"],[12],[2,"\\n          "],[8,[32,1,["dropdown-content"]],[],[["@arrowDir","@class"],["right","msg-thread-actions__dropdown-options"]],[["default"],[{"statements":[[2,"\\n            "],[10,"ul"],[12],[2,"\\n              "],[8,"artdeco-dropdown@artdeco-dropdown-item",[],[["@class","@itemSelected"],["msg-thread-actions__dropdown-option",[32,13]]],[["default"],[{"statements":[[2,"\\n                "],[1,[30,[36,8],["i18n_edit_group_conversation","msg-overlay/components/conversation-bubble-header-controls"],null]],[2,"\\n              "]],"parameters":[]}]]],[2,"\\n            "],[13],[2,"\\n          "]],"parameters":[]}]]],[2,"\\n        "],[13],[2,"\\n      "]],"parameters":[1]}]]],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,4],[[32,2,["conversation"]]],null,[["default"],[{"statements":[[2,"        "],[8,"msg-shared-modals@thread-actions",[],[["@conversation","@handleSuccessfulDiscardRequest","@showRenameConversationForm","@externalComps","@enableReportingSponsoredConversation","@toggleConversationMute","@createGroupChat","@trackingModuleName","@actionTrackingPrefix","@addParticipantsPageKey","@isOverlay","@inverse"],[[32,2,["conversation"]],[32,5],[30,[36,1],[[32,6],true],null],[30,[36,3],null,[["semaphoreComp"],[[30,[36,2],["ember-semaphore@ember-semaphore"],null]]]],[32,7],[32,8],[32,9],[32,10],[32,11],"flagship3_messaging_overlay_participant_detail_screen_displayed",true,[32,4]]],null],[2,"\\n\\n"],[6,[37,4],[[32,12]],null,[["default"],[{"statements":[[2,"          "],[8,"msg-ui@virtual-meeting-cta",[],[["@bubbleId","@conversation","@conversationUrn","@conversationFeatureTypes","@ctaSize","@isOverlay","@updateTextarea","@parentRefocusElement","@invertColor"],[[32,2,["id"]],[32,2,["conversation"]],[32,2,["conversation","entityUrn"]],[32,2,["conversation","featureTypes"]],1,true,[32,3],[30,[36,0],["#",[32,2,["id"]]],null],[32,4]]],null],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]],[2,"    "],[8,"artdeco-button@artdeco-button",[[16,"data-control-name",[30,[36,4],[[32,2,["isJumbo"]],"overlay.shrink_conversation_window","overlay.expand_conversation_window"],null]],[16,"aria-expanded",[30,[36,4],[[32,2,["isJumbo"]],"true","false"],null]]],[["@type","@color","@circle","@size","@icon","@class","@click","@text"],[[30,[36,4],[[32,4],"primary","tertiary"],null],[30,[36,4],[[32,4],"default","muted"],null],true,1,[30,[36,4],[[32,2,["isJumbo"]],"arrows-in-icon","arrows-out-icon"],null],"msg-overlay-bubble-header__control msg-overlay-conversation-bubble__expand-btn",[32,15],[30,[36,4],[[32,2,["isJumbo"]],[30,[36,8],[[30,[36,4],[[32,2,["isNew"]],"i18n_minimize_bubble_new","i18n_minimize_bubble"],null],"msg-overlay/components/conversation-bubble-header-controls"],[["names"],[[30,[36,7],[[32,2,["conversation"]]],null]]]],[30,[36,8],[[30,[36,4],[[32,2,["isNew"]],"i18n_maximize_bubble_new","i18n_maximize_bubble"],null],"msg-overlay/components/conversation-bubble-header-controls"],[["names"],[[30,[36,7],[[32,2,["conversation"]]],null]]]]],null]]],null],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[2,"  "],[8,"artdeco-button@artdeco-button",[[16,"data-control-name",[30,[36,4],[[32,2,["isConversationPreview"]],"overlay.ltj_preview_exit","overlay.close_conversation_window"],null]]],[["@type","@color","@class","@circle","@size","@icon","@click","@text"],[[30,[36,4],[[32,4],"primary","tertiary"],null],[30,[36,4],[[32,4],"default","muted"],null],"msg-overlay-bubble-header__control",true,1,"cancel-icon",[32,16],[30,[36,8],[[30,[36,4],[[32,2,["isNew"]],"a11y_close_convo_new","a11y_close_convo"],null],"msg-overlay/components/conversation-bubble-header-controls"],[["names"],[[30,[36,4],[[32,2,["conversation","name"]],[32,2,["conversation","name"]],[30,[36,8],["i18n_participants_full_names","msg-overlay/components/conversation-bubble-header-controls"],[["names"],[[30,[36,7],[[32,2,["conversation"]]],null]]]]],null]]]]]],null],[2,"\\n"],[13]],"hasEval":false,"upvars":["concat","fn","component","hash","if","global-helpers@or","ember-set-helper@set","msg-shared@get-participant-names","t","artdeco-icons-web@li-icon","unless"]}',moduleName:"msg-overlay/components/conversation-bubble-header-controls.hbs"})
var n=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=n}))
define("msg-overlay/components/conversation-bubble-header",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const t=Ember.HTMLBars.template({id:"J3xeI9JQ",block:'{"symbols":["@hasBadge","@presenceStatus","@bubble","@headerReactionNotification","@isCompanySender","@draftConversation","@showDraftGroupConversation","@toggleMinimize","@handleSuccessfulDiscardRequest","@toggleShowRenameConversation","@enableReportingSponsoredConversation","@toggleConversationMute","@createGroupChat","@trackingModuleName","@actionTrackingPrefix","@showVideoMeetingButtonInHeader","@updateMessageCompose","@handleCloseBubble","@openEditGroupScreen","@toggleJumboSize"],"statements":[[11,"header"],[16,0,[31,["msg-overlay-bubble-header msg-overlay-conversation-bubble-header justify-space-between\\n    ",[30,[36,0],[[32,3,["isInMailCompose"]]," premium-accent-bar"],null]]]],[24,"tabindex","-1"],[4,[38,15],["click",[32,8]],null],[4,[38,16],[[30,[36,0],[[32,3,["isMinimized"]],"overlay.maximize_conversation_window_bar","overlay.minimize_conversation_window_bar"],null]],null],[12],[2,"\\n"],[2,"  "],[10,"div"],[15,0,[31,["msg-overlay-bubble-header__badge-container\\n      ",[30,[36,0],[[32,1],"msg-overlay-bubble-header--inverse msg-overlay-bubble-header--is-badged"],null]]]],[12],[13],[2,"\\n\\n"],[2,"  "],[8,"msg-ui@delay-remove-from-dom",[],[["@containerClass","@renderIf","@delay","@hideClass"],["align-items-center display-flex",[32,3,["isNew"]],132,"msg-overlay-conversation-bubble-header--fade-out"]],[["default"],[{"statements":[[2,"\\n    "],[10,"div"],[14,0,"flex-grow-1"],[12],[2,"\\n      "],[10,"h2"],[15,0,[31,["msg-overlay-bubble-header__title truncate t-14 t-bold\\n          ",[30,[36,0],[[32,1],"msg-overlay-bubble-header-dark--active","t-black"],null],"\\n          pr1"]]],[14,"tabindex","-1"],[12],[2,"\\n"],[6,[37,0],[[32,3,["messageContext"]]],null,[["default","else"],[{"statements":[[6,[37,8],["profile.view",[32,3,["messageRecipients","firstObject","publicIdentifier"]]],[["bubbles"],[false]],[["default"],[{"statements":[[2,"            "],[10,"span"],[15,0,[31,["t-14 t-bold hoverable-link-text\\n                ",[30,[36,0],[[32,1],"msg-overlay-bubble-header-dark--active","t-black"],null]]]],[12],[2,"\\n              "],[1,[30,[36,5],null,[["firstName","lastName","type"],[[32,3,["messageRecipients","firstObject","firstName"]],[32,3,["messageRecipients","firstObject","lastName"]],"full"]]]],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]},{"statements":[[6,[37,0],[[32,7]],null,[["default","else"],[{"statements":[[2,"          "],[1,[30,[36,0],[[32,6,["name"]],[32,6,["name"]],[30,[36,1],["i18n_participant_familiar","msg-overlay/components/conversation-bubble-header"],[["names"],[[32,6,["participantNames"]]]]]],null]],[2,"\\n"],[6,[37,3],[[32,3,["isMinimized"]]],null,[["default"],[{"statements":[[2,"            "],[10,"h3"],[15,0,[31,["t-12 t-normal truncate js-msg-group-participants\\n                ",[30,[36,0],[[32,1],"msg-overlay-bubble-header-dark--active","t-black"],null]]]],[12],[2,"\\n"],[6,[37,0],[[32,6,["name"]]],null,[["default","else"],[{"statements":[[2,"                "],[1,[30,[36,1],["i18n_participant_familiar","msg-overlay/components/conversation-bubble-header"],[["names"],[[32,6,["participantNames"]]]]]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                "],[1,[30,[36,1],["i18n_num_participants_in_group_conversation","msg-overlay/components/conversation-bubble-header"],[["count"],[[32,6,["participantNames","length"]]]]]],[2,"\\n"]],"parameters":[]}]]],[2,"            "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]},{"statements":[[6,[37,0],[[30,[36,14],[[32,3,["isConversationLoadingState"]],[32,3,["isConversationErrorState"]]],null]],null,[["default","else"],[{"statements":[],"parameters":[]},{"statements":[[6,[37,0],[[32,3,["isConversationPreview"]]],null,[["default","else"],[{"statements":[[2,"            "],[1,[30,[36,1],["i18n_join_group_chat","msg-overlay/components/conversation-bubble-header"],null]],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,0],[[32,3,["isForward"]]],null,[["default","else"],[{"statements":[[2,"            "],[1,[30,[36,1],["i18n_forward_message","msg-overlay/components/conversation-bubble-header"],null]],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,0],[[32,3,["showGroupEditScreen"]]],null,[["default","else"],[{"statements":[[2,"            "],[1,[30,[36,1],["i18n_new_group_conversation","msg-overlay/components/conversation-bubble-header"],null]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"            "],[1,[30,[36,1],["i18n_new_message","msg-overlay/components/conversation-bubble-header"],null]],[2,"\\n          "]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]],[2,"        "]],"parameters":[]}]]]],"parameters":[]}]]],[2,"      "],[13],[2,"\\n    "],[13],[2,"\\n  "]],"parameters":[]}]]],[2,"\\n\\n"],[6,[37,3],[[32,3,["isNew"]]],null,[["default"],[{"statements":[[2,"    "],[10,"div"],[15,0,[31,[[30,[36,0],[[32,3,["isNew"]],"msg-overlay-conversation-bubble-header--hidden","msg-overlay-conversation-bubble-header--fade-in"],null],"\\n        display-flex align-items-center flex-grow-1 overflow-hidden"]]],[12],[2,"\\n"],[2,"      "],[10,"div"],[12],[2,"\\n"],[6,[37,0],[[30,[36,4],[[32,3,["conversation"]]],null]],null,[["default","else"],[{"statements":[[2,"          "],[8,"presence@entity-with-presence",[],[["@miniProfile","@miniProfileUrn","@size"],[[32,3,["conversation","participants","firstObject","miniProfile"]],[32,3,["conversation","participants","firstObject","miniProfile","entityUrn"]],1]],null],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,0],[[32,3,["conversation","participants"]]],null,[["default"],[{"statements":[[2,"          "],[8,"msg-facepile-grid@conversation-facepile-grid",[[24,0,"mr1"]],[["@conversation","@entitySize","@iconSize"],[[32,3,["conversation"]],1,"small"]],null],[2,"\\n        "]],"parameters":[]}]]]],"parameters":[]}]]],[2,"      "],[13],[2,"\\n\\n"],[2,"      "],[10,"div"],[14,0,"pl2 flex-grow-1 overflow-hidden"],[12],[2,"\\n        "],[10,"h2"],[15,0,[31,["pl1 msg-overlay-bubble-header__title truncate t-14 t-bold\\n            ",[30,[36,0],[[32,1],"msg-overlay-bubble-header-dark--active","t-black"],null],"\\n            pr1"]]],[14,"tabindex","-1"],[12],[2,"\\n"],[6,[37,0],[[30,[36,14],[[32,3,["conversation","participants","firstObject","miniCompany"]],[30,[36,13],[[32,3,["conversation"]]],null]],null]],null,[["default","else"],[{"statements":[[6,[37,0],[[32,5]],null,[["default","else"],[{"statements":[[2,"              "],[8,"ember-engines@link-to-external",[],[["@route","@model"],["companies.company",[30,[36,12],[[32,3,["conversation","participants","firstObject","miniCompany","entityUrn"]]],null]]],[["default"],[{"statements":[[2,"\\n                "],[10,"span"],[15,0,[31,["hoverable-link-text\\n                    ",[30,[36,0],[[32,1],"msg-overlay-bubble-header-dark--active","t-black"],null]]]],[12],[2,"\\n                  "],[1,[30,[36,1],["i18n_participant_familiar","msg-overlay/components/conversation-bubble-header"],[["names"],[[30,[36,6],[[32,3,["conversation"]]],null]]]]],[2,"\\n                "],[13],[2,"\\n              "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"              "],[1,[30,[36,1],["i18n_participant_familiar","msg-overlay/components/conversation-bubble-header"],[["names"],[[30,[36,6],[[32,3,["conversation"]]],null]]]]],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]},{"statements":[[6,[37,0],[[32,3,["conversation","groupChat"]]],null,[["default","else"],[{"statements":[[2,"            "],[1,[30,[36,0],[[32,3,["conversation","name"]],[32,3,["conversation","name"]],[30,[36,1],["i18n_participant_familiar","msg-overlay/components/conversation-bubble-header"],[["names"],[[30,[36,11],[[32,3,["conversation"]],true],null]]]]],null]],[2,"\\n\\n"],[6,[37,3],[[32,3,["isMinimized"]]],null,[["default"],[{"statements":[[2,"              "],[10,"h3"],[15,0,[31,["t-12 t-normal truncate js-msg-group-participants\\n                  ",[30,[36,0],[[32,1],"msg-overlay-bubble-header-dark--active","t-black"],null]]]],[12],[2,"\\n"],[6,[37,0],[[32,3,["conversation","name"]]],null,[["default","else"],[{"statements":[[6,[37,0],[[30,[36,9],[[32,3,["conversation","participants","length"]],0],null]],null,[["default","else"],[{"statements":[[2,"                    "],[1,[30,[36,1],["i18n_just_you","msg-overlay/components/conversation-bubble-header"],null]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                    "],[1,[30,[36,1],["i18n_participant_familiar","msg-overlay/components/conversation-bubble-header"],[["names"],[[30,[36,11],[[32,3,["conversation"]],true],null]]]]],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]},{"statements":[[2,"                  "],[1,[30,[36,1],["i18n_num_participants_in_group_conversation","msg-overlay/components/conversation-bubble-header"],[["count"],[[30,[36,10],[[32,3,["conversation"]]],null]]]]],[2,"\\n"]],"parameters":[]}]]],[2,"              "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]},{"statements":[[6,[37,0],[[32,3,["isMinimized"]]],null,[["default","else"],[{"statements":[[2,"            "],[1,[30,[36,1],["i18n_participants_full_names","msg-overlay/components/conversation-bubble-header"],[["names"],[[30,[36,6],[[32,3,["conversation"]]],null]]]]],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,0],[[30,[36,9],[[32,3,["conversation","participants","firstObject","miniProfile","publicIdentifier"]],"UNKNOWN"],null]],null,[["default","else"],[{"statements":[[2,"              "],[10,"span"],[15,0,[31,["t-14 t-bold\\n                  ",[30,[36,0],[[32,1],"msg-overlay-bubble-header-dark--active","t-black"],null]]]],[12],[2,"\\n                "],[1,[30,[36,1],["i18n_participants_full_names","msg-overlay/components/conversation-bubble-header"],[["names"],[[30,[36,6],[[32,3,["conversation"]]],null]]]]],[2,"\\n              "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,8],["profile.view",[30,[36,7],[[32,3,["conversation"]]],null]],[["bubbles"],[false]],[["default"],[{"statements":[[2,"                "],[10,"span"],[15,0,[31,["t-14 t-bold hoverable-link-text\\n                    ",[30,[36,0],[[32,1],"msg-overlay-bubble-header-dark--active","t-black"],null]]]],[12],[2,"\\n                  "],[1,[30,[36,1],["i18n_participants_full_names","msg-overlay/components/conversation-bubble-header"],[["names"],[[30,[36,6],[[32,3,["conversation"]]],null]]]]],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"          "]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]],[2,"        "],[13],[2,"\\n\\n"],[6,[37,0],[[32,4]],null,[["default","else"],[{"statements":[[2,"          "],[10,"span"],[15,0,[31,["pl1 msg-overlay-conversation-bubble__reaction-header-notification truncate t-12\\n              ",[30,[36,0],[[32,1],"msg-overlay-bubble-header-dark--active","t-black--light"],null]]]],[12],[2,"\\n            "],[1,[30,[36,1],["i18n_reaction_notification","msg-overlay/components/conversation-bubble-header"],[["reactorName","emoji"],[[30,[36,5],null,[["firstName","lastName","type"],[[32,4,["reactor","firstName"]],[32,4,["reactor","lastName"]],"familiar"]]],[32,4,["emoji"]]]]]],[2,"\\n          "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,0],[[30,[36,4],[[32,3,["conversation"]]],null]],null,[["default"],[{"statements":[[6,[37,3],[[32,3,["isMinimized"]]],null,[["default"],[{"statements":[[6,[37,0],[[32,2,["isOnline"]]],null,[["default","else"],[{"statements":[[2,"              "],[10,"div"],[15,0,[31,["pl1 truncate t-12 t-normal\\n                  ",[30,[36,0],[[32,1],"msg-overlay-bubble-header-dark--active","t-black"],null]]]],[12],[2,"\\n                "],[1,[30,[36,1],["i18n_active_now","msg-overlay/components/conversation-bubble-header"],null]],[2,"\\n              "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,0],[[32,2,["isReachable"]]],null,[["default"],[{"statements":[[2,"              "],[10,"div"],[15,0,[31,["pl1 truncate t-12 t-normal\\n                  ",[30,[36,0],[[32,1],"msg-overlay-bubble-header-dark--active","t-black"],null]]]],[12],[2,"\\n                "],[1,[30,[36,0],[[32,2,["lastActiveAt"]],[30,[36,1],["i18n_mobile","msg-overlay/components/conversation-bubble-header"],[["date"],[[30,[36,2],[[32,2,["lastActiveAt"]],"short-ago"],null]]]],[30,[36,1],["i18n_available_on_mobile","msg-overlay/components/conversation-bubble-header"],null]],null]],[2,"\\n              "],[13],[2,"\\n            "]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]],[2,"        "]],"parameters":[]}]]]],"parameters":[]}]]],[2,"      "],[13],[2,"\\n    "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[2,"  "],[8,"msg-overlay@conversation-bubble-header-controls",[],[["@bubble","@showDraftGroupConversation","@handleSuccessfulDiscardRequest","@toggleShowRenameConversation","@enableReportingSponsoredConversation","@toggleConversationMute","@createGroupChat","@trackingModuleName","@actionTrackingPrefix","@showVideoMeetingButtonInHeader","@updateMessageCompose","@hasBadge","@handleCloseBubble","@openEditGroupScreen","@toggleJumboSize"],[[32,3],[32,7],[32,9],[32,10],[32,11],[32,12],[32,13],[32,14],[32,15],[32,16],[32,17],[32,1],[32,18],[32,19],[32,20]]],null],[2,"\\n\\n"],[13]],"hasEval":false,"upvars":["if","t","global-helpers@time-ago","unless","msg-shared@has-presence","ember-cli-pemberly-i18n@format-name","msg-shared@get-participant-names","msg-shared@get-recipient-profile-id","ember-engines@link-to-external","global-helpers@eq","msg-shared@get-total-participants-count","msg-shared@participant-names-with-self","global-helpers@urn-to-id","msg-shared@is-conversation-with-advertiser","global-helpers@or","on","ember-cli-pemberly-tracking@track-interaction"]}',moduleName:"msg-overlay/components/conversation-bubble-header.hbs"})
var n=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=n}))
define("msg-overlay/components/conversation-bubble-thread",["exports","@babel/runtime/helpers/esm/defineProperty","@glimmer/component","msg-shared/utils/constants"],(function(e,t,n,a){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const o=Ember.HTMLBars.template({id:"MxgQKuea",block:'{"symbols":["@bubbleId","@composeViewContext","@bubble","@didSubmitMessage","@draftConversation","@dragAndDropTrackingKeys","@handleSuccessfulDiscardRequest","@setHasDraft","@hasPrefilledConversationName","@isOriginalSize","@messageContext","@messagingSettings","@showRenameConversationForm","@toggleShowRenameConversation","@setFocusToRenameConversationForm","@contextWidth"],"statements":[[8,"msg-ui@thread",[[4,[38,0],null,[["onSelector"],[".msg-form__contenteditable"]]]],[["@actionTrackingPrefix","@addParticipantsPageKey","@bubbleId","@composeModuleKey","@composeViewContext","@conversation","@conversationDetailModuleKey","@customTrackingObject","@customPlaceholderText","@didSubmitMessage","@draftConversation","@dragAndDropTrackingKeys","@fileUploadControlName","@forwardedEvent","@handleSuccessfulDiscardRequest","@hasDraft","@setHasDraft","@hasPrefilledConversationName","@imagePasteControlName","@imageUploadControlName","@invitationUrn","@isInMailCompose","@isOpenedFromMsgButton","@isOriginalSize","@isOverlay","@messageContext","@messageActions","@messageRecipients","@messagingSettings","@msgAdapterOptions","@muteConversationControlName","@mutePageKey","@prefilledAttachments","@prefilledMessage","@quickRepliesUseCase","@recipientOpenToFreeMessages","@renamePageKey","@sendMessageControlName","@showRenameConversationForm","@subject","@toggleShowRenameConversation","@update","@smpContent","@setFocusToRenameConversationForm","@inmailReplyDeepLink","@contextWidth"],[[32,0,["CONTROL_NAMES","OVERLAY_PREFIX"]],"flagship3_messaging_overlay_participant_detail_screen_displayed",[32,1],[32,0,["MODULE_KEYS","OVERLAY_COMPOSE"]],[32,2],[32,3,["conversation"]],[32,0,["MODULE_KEYS","OVERLAY_CONVERSATION_DETAIL"]],[32,3,["trackingObject"]],[32,3,["placeholderText"]],[32,4],[32,5],[32,6],[32,0,["CONTROL_NAMES","OVERLAY","FILE_UPLOAD"]],[32,3,["forwardedEvent"]],[32,7],[32,3,["hasDraft"]],[32,8],[32,9],[32,0,["CONTROL_NAMES","OVERLAY","IMAGE_PASTE"]],[32,0,["CONTROL_NAMES","OVERLAY","IMAGE_UPLOAD"]],[32,3,["invitationUrn"]],[32,3,["isInMailCompose"]],[32,3,["isOpenedFromMsgButton"]],[32,10],true,[32,11],[32,3,["messageActions"]],[32,3,["messageRecipients"]],[32,12],[32,3,["msgAdapterOptions"]],[32,0,["CONTROL_NAMES","OVERLAY","MUTE"]],"flagship3_messaging_overlay_conversation_window_muted.page",[32,3,["attachments"]],[32,3,["message"]],"QUICK_REPLY_OVERLAY",[32,3,["msgAdapterOptions","recipientOpenToFreeMessages"]],"flagship3_messaging_overlay_conversation_window_rename.page",[32,0,["CONTROL_NAMES","OVERLAY","SEND"]],[32,13],[32,3,["subject"]],[32,14],[32,3,["update"]],[32,3,["smpContent"]],[32,15],[32,3,["inmailReplyDeepLink"]],[32,16]]],null]],"hasEval":false,"upvars":["global-modifiers@focus"]}',moduleName:"msg-overlay/components/conversation-bubble-thread.hbs"}),{CONTROL_NAMES:s,MODULE_KEYS:i}=a.default
class r extends n.default{constructor(){super(...arguments);(0,t.default)(this,"CONTROL_NAMES",s);(0,t.default)(this,"MODULE_KEYS",i)}}e.default=r
Ember._setComponentTemplate(o,r)}))
define("msg-overlay/components/conversation-bubble",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/classPrivateFieldSet","@babel/runtime/helpers/esm/classPrivateFieldGet","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","ember-batcher","ember-lifeline","@glimmer/component","global-utils/utils/is-browser","msg-shared/utils/custom-tracking","ember-cli-pemberly-tracking/utils/tracking","msg-shared/utils/constants","urn-utils","msg-spinmail-data/utils/sponsored-conversation-properties","msg-data/utils/msg-reactions-helper","global-helpers/helpers/name","msg-shared/utils/document-is-hidden","msg-shared/helpers/is-sponsored-conversation","msg-shared/helpers/is-company-profile","msg-shared/helpers/is-conversation-with-advertiser","msg-shared/helpers/is-inmail-conversation","msg-ui/utils/conversation-properties","global-utils/utils/keyboard-utils","global-utils/utils/a11y-focus-element","msg-shared/utils/get-participant-presence-statuses"],(function(e,t,n,a,o,s,i,r,l,c,m,u,d,p,b,g,h,v,y,f,_,E,C,w,S,M,O){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var k,R,x,I,D,P,T,A,N,L,B,z,F,j,U,V,q,G,H,K,Y,J,W,X,Q,$,Z,ee,te,ne,ae,oe,se,ie,re,le,ce,me,ue,de,pe,be,ge,he,ve,ye,fe,_e,Ee,Ce,we,Se,Me,Oe,ke,Re,xe,Ie,De,Pe,Te,Ae,Ne,Le,Be,ze,Fe
const je=Ember.HTMLBars.template({id:"pBr01fYI",block:'{"symbols":["assetLoader","assetLoader","@bubble","@handleSuccessfulDiscardRequest","@messagingSettings","@closeBubble"],"statements":[[11,"div"],[16,1,[31,[[32,3,["id"]]]]],[24,"tabindex","-1"],[16,0,[31,["msg-convo-wrapper msg-overlay-conversation-bubble msg-overlay-conversation-bubble--default-inactive ml4\\n    ",[30,[36,1],[[32,3,["isNew"]],"msg-overlay-conversation-bubble--is-compose"],null],"\\n    ",[30,[36,1],[[32,3,["isActive"]],"msg-overlay-conversation-bubble--is-active"],null],"\\n    ",[30,[36,1],[[32,3,["isMinimized"]],"msg-overlay-conversation-bubble--is-minimized"],null],"\\n    ",[30,[36,1],[[32,3,["isJumbo"]],"msg-overlay-conversation-bubble--jumbo","msg-overlay-conversation-bubble--petite"],null]]]],[4,[38,4],["keyup",[32,0,["handlekeyUp"]]],null],[4,[38,4],["keydown",[32,0,["handlekeyDown"]]],null],[4,[38,5],[[32,0,["handleDidInsert"]]],null],[4,[38,8],[[32,0,["impressionEventPayload"]]],[["routeName","currentRoute"],[[30,[36,7],[[30,[36,6],["outletState"],null],"render.name"],null],[30,[36,7],[[30,[36,6],["outletState"],null],"render"],null]]]],[4,[38,9],null,null],[12],[2,"\\n  "],[8,"message-button@mcie-tracking-beacon",[],[["@controlUrn","@referringModuleKey","@recipientUrns","@sourceType"],[[32,3,["entryPointData","controlUrn"]],[32,3,["entryPointData","referringModuleKey"]],[32,3,["entryPointData","recipientUrns"]],"OVERLAY"]],null],[2,"\\n"],[2,"\\n"],[2,"  "],[8,"msg-overlay@conversation-bubble-header",[],[["@hasBadge","@toggleMinimize","@bubble","@isCompanySender","@presenceStatus","@headerReactionNotification","@showDraftGroupConversation","@handleSuccessfulDiscardRequest","@toggleShowRenameConversation","@enableReportingSponsoredConversation","@toggleConversationMute","@createGroupChat","@trackingModuleName","@actionTrackingPrefix","@showVideoMeetingButtonInHeader","@updateMessageCompose","@toggleJumboSize","@handleCloseBubble","@draftConversation","@openEditGroupScreen"],[[32,0,["hasBadge"]],[32,0,["toggleMinimize"]],[32,3],[32,0,["isCompanySender"]],[32,0,["presenceStatus"]],[32,0,["headerReactionNotification"]],[32,0,["showDraftGroupConversation"]],[32,0,["handleSuccessfulDiscardRequest"]],[32,0,["toggleShowRenameConversation"]],[32,0,["enableReportingSponsoredConversation"]],[32,0,["toggleConversationMute"]],[32,0,["createGroupChat"]],[32,0,["trackingModuleName"]],[32,0,["actionTrackingPrefix"]],[32,0,["showVideoMeetingButtonInHeader"]],[32,0,["updateMessageCompose"]],[32,0,["toggleJumboSize"]],[32,0,["handleCloseBubble"]],[32,0,["draftConversation"]],[32,0,["openEditGroupScreen"]]]],null],[2,"\\n\\n"],[2,"  "],[11,"div"],[16,0,[31,["msg-overlay-conversation-bubble__content-wrapper relative display-flex flex-column\\n      ",[30,[36,1],[[32,0,["showRenameConversationForm"]]," msg-overlay-conversation-bubble__content-wrapper--disabled"],null]]]],[4,[38,4],["mouseup",[32,0,["onActive"]]],null],[4,[38,4],["focusin",[32,0,["onActive"]]],null],[12],[2,"\\n"],[6,[37,1],[[32,3,["isConversationPreview"]]],null,[["default","else"],[{"statements":[[2,"      "],[8,"msg-ui@conversation-preview",[],[["@bubble"],[[32,3]]],null],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,1],[[32,3,["isConversationLoadingState"]]],null,[["default","else"],[{"statements":[[2,"      "],[8,"msg-ui@conversation-loading-state",[],[["@bubble"],[[32,3]]],null],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,1],[[32,3,["isConversationErrorState"]]],null,[["default","else"],[{"statements":[[2,"      "],[8,"msg-ui@conversation-error-state",[],[["@bubble"],[[32,3]]],null],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,1],[[30,[36,3],[[32,3,["conversation"]]],null]],null,[["default","else"],[{"statements":[[2,"        "],[8,"asset-loader@deferred-asset-loader",[],[["@bundle"],["msg-spinmail"]],[["default"],[{"statements":[[2,"\\n"],[6,[37,1],[[32,2,["state","fulfilled"]]],null,[["default"],[{"statements":[[2,"            "],[8,"msg-spinmail@sponsored-conversation-bubble",[],[["@conversation","@isCompanySender"],[[32,3,["conversation"]],[32,0,["isCompanySender"]]]],null],[2,"\\n"]],"parameters":[]}]]],[2,"        "]],"parameters":[2]}]]],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,1],[[30,[36,2],[[32,3,["conversation","latestEvent","subtype"]],"SPONSORED_INMAIL"],null]],null,[["default","else"],[{"statements":[[2,"        "],[8,"asset-loader@deferred-asset-loader",[],[["@bundle"],["msg-spinmail"]],[["default"],[{"statements":[[2,"\\n"],[6,[37,1],[[32,1,["state","fulfilled"]]],null,[["default"],[{"statements":[[2,"            "],[8,"msg-spinmail@spinmail-thread",[],[["@conversation","@actionTrackingPrefix","@isCompanySender"],[[32,3,["conversation"]],[32,0,["actionTrackingPrefix"]],[32,0,["isCompanySender"]]]],null],[2,"\\n"]],"parameters":[]}]]],[2,"        "]],"parameters":[1]}]]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"        "],[8,"msg-overlay@conversation-bubble-compose",[],[["@bubble","@bubbleId","@composeToNonConnection","@composeViewContext","@contextByRecipients","@contextWidth","@createDraftGroupConversation","@didSubmitMessage","@draftConversation","@dragAndDropTrackingKeys","@handleSuccessfulDiscardRequest","@hasPrefilledConversationName","@isOriginalSize","@messageContext","@messagingSettings","@onConversationFetched","@openConversation","@openEditGroupScreen","@recipientsChanged","@setFocusToRenameConversationForm","@setHasDraft","@shouldShowExpandedTypeahead","@showDraftGroupConversation","@showRenameConversationForm","@toggleShowRenameConversation"],[[32,3],[32,3,["id"]],[32,0,["composeToNonConnection"]],[32,0,["composeViewContext"]],[32,0,["contextByRecipients"]],[32,0,["width"]],[32,0,["createDraftGroupConversation"]],[32,0,["didSubmitMessage"]],[32,0,["draftConversation"]],[32,0,["dragAndDropTrackingKeys"]],[32,4],[32,3,["groupConversationName"]],[30,[36,0],[[32,3,["isJumbo"]]],null],[32,3,["messageContext"]],[32,5],[32,0,["onConversationFetched"]],[32,0,["openConversation"]],[32,0,["openEditGroupScreen"]],[32,0,["recipientsChanged"]],[32,0,["setFocusToRenameConversationForm"]],[32,0,["setHasDraft"]],[32,0,["shouldShowExpandedTypeahead"]],[32,0,["showDraftGroupConversation"]],[32,0,["showRenameConversationForm"]],[32,0,["toggleShowRenameConversation"]]]],null],[2,"\\n      "]],"parameters":[]}]]]],"parameters":[]}]]],[2,"    "]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]],[2,"  "],[13],[2,"\\n\\n  "],[8,"artdeco-modal@artdeco-confirmation-dialog",[],[["@isOpen","@title","@content","@primaryActionText","@secondaryActionText","@onPrimary","@onSecondary","@onEscape"],[[32,0,["showMessageDiscardModal"]],[30,[36,10],["i18n_discard_message","msg-overlay/components/conversation-bubble"],null],[30,[36,10],["i18n_discard_body","msg-overlay/components/conversation-bubble"],null],[30,[36,10],["i18n_discard","msg-overlay/components/conversation-bubble"],null],[30,[36,10],["i18n_cancel","msg-overlay/components/conversation-bubble"],null],[32,6],[30,[36,11],[[32,0],"showMessageDiscardModal",false],null],[30,[36,11],[[32,0],"showMessageDiscardModal",false],null]]],null],[2,"\\n"],[13]],"hasEval":false,"upvars":["global-helpers@not","if","global-helpers@eq","msg-shared@is-sponsored-conversation","on","did-insert","-get-dynamic-var","get","ember-cli-pemberly-tracking@track-impression","msg-shared@block-scrolling","t","ember-set-helper@set"]}',moduleName:"msg-overlay/components/conversation-bubble.hbs"}),{ACTION_TYPES:Ue,CONTROL_NAMES:Ve,IMPRESSION_KEYS:{CONVERSATION_DETAIL_IMPRESSION:qe,DISPLAY_ITEM_TYPE:Ge},KEYCODES:{ESC:He},MESSAGE_TYPE:Ke,MODULE_KEYS:{OVERLAY_COMPOSE:Ye,OVERLAY_CONVERSATION_DETAIL:Je},OVERLAY:{BUBBLE_ACTIONS:{TOGGLE_JUMBO:We,TOGGLE_MINIMIZED:Xe}},PAGEVIEW_KEYS:Qe,ATTACHMENT_DRAG_AND_DROP_TRACKING_KEYS:$e}=p.default,Ze=".msg-form__contenteditable"
let et=(k=Ember.inject.service("i18n"),R=Ember.inject.service("lix"),x=Ember.inject.service("profile-services@identity-store"),I=Ember.inject.service("msg-data@data-manager"),D=Ember.inject.service("msg-overlay-manager@msg-overlay-manager"),P=Ember.inject.service("rum"),T=Ember.inject.service("tracking"),A=Ember.inject.service("persistent-toast-manager@persistent-toast-manager"),N=Ember.inject.service("authentication@authenticated-user"),L=Ember.inject.service("presence@presence-api"),B=Ember.inject.service("msg-ui@update-message-compose"),z=Ember._tracked,F=Ember._tracked,j=Ember._tracked,U=Ember._tracked,V=Ember._tracked,q=Ember._tracked,G=Ember._tracked,H=Ember._tracked,K=Ember._tracked,Y=Ember._tracked,J=Ember._tracked,W=Ember._action,X=Ember._action,Q=Ember._action,$=Ember._action,Z=Ember._action,ee=Ember._action,te=Ember._action,ne=Ember._action,ae=Ember._action,oe=Ember._action,se=Ember._action,ie=Ember._action,re=Ember._action,le=Ember._action,ce=Ember._action,me=Ember._action,ue=Ember._action,de=Ember._action,pe=Ember._action,be=Ember._action,ge=Ember._action,he=(Fe=new WeakMap,class extends c.default{get profileRoute(){return this.lix.getTreatmentIsEnabled("voyager.web.profile-tetris")?"profile.common.profile":"profile.view"}get hasBadge(){const{conversation:e}=this.args.bubble
if(Ember.testing){console.log("[MSG-56726] logging for unstable badging test: ")
console.log("hasUnseenMessages: ",Ember.get(this.args.bubble,"hasUnseenMessages"),"conversation.read: ",e&&Ember.get(e,"read"),"forcedMinimizedAtRoute",this.msgOverlay.forcedMinimizedAtRoute)}return Ember.get(this.args.bubble,"hasUnseenMessages")&&!this.msgOverlay.forcedMinimizedAtRoute&&e&&!Ember.get(e,"read")}get isCompanySender(){const{conversation:e}=this.args.bubble
return e&&(0,_.isCompanyProfile)(Ember.get(e,"participants.firstObject"))&&!Ember.get(this.args.bubble,"isMinimized")}get headerReactionNotification(){const{reactionNotification:e}=this.msgDataManager.messageReactionsHelper,{conversation:t}=this.args.bubble
if(e&&t&&(0,h.shouldDisplayReactionNotificationInHeader)(e.messageEvent,Ember.get(t,"id"),(0,o.default)(this,Fe),this.authenticatedUser))return e}get presenceStatus(){const{conversation:e}=this.args.bubble
return this.presenceAPI.getPresenceStatus(Ember.get(e,"participants.firstObject.miniProfile.entityUrn"))}get showVideoMeetingButtonInHeader(){return!Ember.get(this,"args.bubble.isMinimized")&&Ember.get(this,"args.bubble.conversation")&&(0,w.enableUserReplies)(this.args.bubble.conversation)&&"PENDING"!==Ember.get(this.args.bubble,"conversation.messageRequestState")&&"DECLINED"!==Ember.get(this.args.bubble,"conversation.messageRequestState")&&!(0,C.isInmailConversation)(this.args.bubble.conversation)&&!(0,f.isSponsoredConversation)(this.args.bubble.conversation)&&"SPONSORED_INMAIL"!==Ember.get(this.args.bubble,"conversation.latestEvent.subtype")}_fetchAndSetComposeContext(e,t,n){return this.msgDataManager.fetchComposeContext({recipients:e,composeOptionType:t,context:n}).then((e=>{if(!this.isDestroying){this.composeViewContext=e
const a="HIGH_INTENT"===t,o="MESSAGE_REQUEST"===t||a
n&&o&&Ember.set(this.args.bubble,"messageContext",{contextEntityUrn:n,contextText:Ember.get(e,"contextText"),composeOptionType:t})}}))}constructor(){var e,a,o,s,i,c
super(...arguments);(0,t.default)(this,"i18n",ve,this);(0,t.default)(this,"lix",ye,this);(0,t.default)(this,"identityStore",fe,this);(0,t.default)(this,"msgDataManager",_e,this);(0,t.default)(this,"msgOverlay",Ee,this);(0,t.default)(this,"rum",Ce,this);(0,t.default)(this,"tracking",we,this);(0,t.default)(this,"persistentToastManager",Se,this);(0,t.default)(this,"authenticatedUser",Me,this);(0,t.default)(this,"presenceAPI",Oe,this);(0,t.default)(this,"updateMessageComposeService",ke,this);(0,n.default)(this,"actionTrackingPrefix",Ve.OVERLAY_PREFIX);(0,n.default)(this,"trackingModuleName",Je);(0,t.default)(this,"composeViewContext",Re,this);(0,t.default)(this,"draftConversation",xe,this);(0,t.default)(this,"enableReportingSponsoredConversation",Ie,this);(0,t.default)(this,"messageIndexToBeAnchored",De,this);(0,t.default)(this,"shouldShowExpandedTypeahead",Pe,this);(0,t.default)(this,"showDraftGroupConversation",Te,this);(0,t.default)(this,"showMessageDiscardModal",Ae,this);(0,t.default)(this,"showRenameConversationForm",Ne,this);(0,t.default)(this,"width",Le,this);(0,t.default)(this,"contextByRecipients",Be,this);(0,t.default)(this,"setFocusToRenameConversationForm",ze,this)
Fe.set(this,{writable:!0,value:void 0});(0,n.default)(this,"dragAndDropTrackingKeys",$e.OVERLAY);(0,n.default)(this,"shouldProcessHeaderFocusEvents",!1)
this.draftConversation={name:this.args.bubble.groupConversationName||""}
const{conversation:u}=this.args.bubble
if(u&&Ember.get(u,"id")){this.msgOverlay.findConversationEvents(u)
Ember.set(this,"enableReportingSponsoredConversation",(0,g.enableReportingSponsoredMessage)(u)||(0,g.enableReportingSponsoredInMail)(u))}void 0===this.args.bubble.isJumbo&&Ember.set(this.args.bubble,"isJumbo",this.args.bubble.isInMail||this.args.bubble.isInMailCompose||u&&("SPONSORED_INMAIL"===Ember.get(u,"latestEvent.subtype")||(0,f.isSponsoredConversation)(u)&&1===Ember.get(u,"eventCollection.data").length))
let d,p,b
if(u&&!this.args.bubble.isNew){var h
d=null===(h=Ember.get(u,"participants"))||void 0===h?void 0:h.mapBy("miniProfile.entityUrn")
p="REPLY"
b=Ember.get(u,"entityUrn")}const{messageRecipients:v,composeOptionType:y}=this.args.bubble,_=this.args.bubble.context||this.args.bubble.invitationUrn||(null===(e=this.args.bubble.messageContext)||void 0===e?void 0:e.contextEntityUrn)||(null===(a=this.args.bubble.inMailComposeViewContext)||void 0===a?void 0:a.contextEntityUrn)||(null===(o=this.args.bubble.msgAdapterOptions)||void 0===o?void 0:o.jobApplication)||(null===(s=this.args.bubble.msgAdapterOptions)||void 0===s?void 0:s.groupUrn)
if((!u||this.args.bubble.isNew)&&null!=v&&v.length){d=v.mapBy("entityUrn")
p=y||(null!=_&&_.toLowerCase().includes("group")?"MESSAGE_REQUEST":null!=_&&_.toLowerCase().includes("jobapplication")?"CONNECTION_MESSAGE":this.args.bubble.isInMailCompose?"PREMIUM_INMAIL":"CONNECTION_MESSAGE")
b=_}const E=this.args.bubble.isNew&&((null==v?void 0:v.length)||y),w=!this.args.bubble.isNew
null!==(i=this.args.bubble)&&void 0!==i&&null!==(c=i.entryPointData)&&void 0!==c&&c.composeOptionOverride||!E&&!w||(this.composeViewContext=this._fetchAndSetComposeContext(d,p,b))
const S=this.rum.startPerfMeasurement(!this.args.bubble.isNew&&Ember.get(u,"eventCollection.hasInitialFetch")?"messaging-convo-bubble-subsequent-render":"messaging-convo-bubble-initial-render")
if(S.isOverlapping)S.cancel()
else{let e
this.args.bubble.isNew?e="new-bubble":u&&((0,C.isInmailConversation)(u)?e="inmail":Ember.get(u,"groupChat")?e="group-chat":Ember.get(u,"latestEvent.subtype")===Ke.M2M&&(e="1to1-mebc"))
if(e){S.spanStart(e)
Ember.run.schedule("afterRender",(()=>{if(S&&!S.isCanceled&&!S.isClosed){e&&S.spanEnd(e)
this.rum.endPerfMeasurement(S)}}))}}if(m.default){(0,l.addEventListener)(this,window,"focus",(()=>{(0,r.readDOM)((()=>{this.shouldProcessHeaderFocusEvents=!0}))}));(0,l.addEventListener)(this,window,"blur",(()=>{this.shouldProcessHeaderFocusEvents=!1}))}}impressionEventPayload(e){var t,n
let{visibleTime:a,duration:o}=e
const s=this.args.bubble.isNew?Ye:Je
let i=null===(t=this.args.bubble.messageRecipients)||void 0===t?void 0:t.filter((e=>Ember.get(e,"miniProfile.objectUrn"))).mapBy("miniProfile.objectUrn")
i=null!==(n=i)&&void 0!==n&&n.length?i:null
return{name:qe,body:{moduleKey:s,participantUrns:i,conversation:{objectUrn:"",trackingId:(0,d.generateTrackingId)()},displayItem:{type:Ge.MESSAGE_COMPOSE,visibleTime:a,duration:o,trackingObject:{objectUrn:"",trackingId:(0,d.generateTrackingId)()}}}}}handleDidInsert(e){this._element=e;(0,a.default)(this,Fe,e.querySelector(".msg-s-message-list"))
if((0,y.default)())this.args.bubble.isMinimized||(this.isPageViewEventPending=!0)
else{this._fireBubblePVE()
this.shouldProcessHeaderFocusEvents=!0}this._handleInitialFocus();(0,l.addEventListener)(this,this._element,"transitionend",(e=>{"width"===e.propertyName&&(0,r.readDOM)((()=>{this.isDestroying||(this.width=this._element.offsetWidth)}))}))
if(m.default){(0,l.addEventListener)(this,document,"mousedown",(e=>{this._element&&!this._element.contains(e.target)&&this._updateActiveState(!1)}));(0,l.addEventListener)(this,window,"visibilitychange",this._handleVisibilityChange.bind(this))}}_handleInitialFocus(){let e
if(this.args.bubble.isNew&&!this.args.bubble.isInMailCompose){var t
e=this._element.querySelector(null!==(t=this.args.bubble.messageRecipients)&&void 0!==t&&t.length&&!this.args.bubble.showGroupEditScreen?Ze:".msg-connections-typeahead__search-field")}else if(this.args.bubble.focusInputOnInit){const{conversation:t}=this.args.bubble
e=t&&(0,E.isConversationWithAdvertiser)(t)?this._element.querySelector(".msg-overlay-bubble-header"):this._element.querySelector(this.args.bubble.isInMailCompose?".msg-form__subject input":Ze)||this._element.querySelector(".msg-overlay-bubble-header__title")}if(e){e.focus()
this.onActive()}}_handleVisibilityChange(){if(!(0,y.default)()&&this.isPageViewEventPending){this._fireBubblePVE()
this.isPageViewEventPending=!1}}_updateActiveState(e){Ember.set(this.args.bubble,"isActive",e)}handlekeyUp(e){e.keyCode===He&&"false"!==e.target.getAttribute("aria-hidden")&&this.handleCloseBubble()}handlekeyDown(e){var t,n
const a=null===(t=document.querySelector(`#${this.args.bubble.id} .msg-form__send-button`))||void 0===t?void 0:t.disabled,o=null===(n=document.querySelector(`#${this.args.bubble.id} .msg-group-form__next-button`))||void 0===n?void 0:n.disabled,s=this.args.bubble.isInMailCompose&&(document.activeElement.classList.contains("emoji-hoverable-trigger")&&a||document.activeElement.classList.contains("msg-form__send-button")),i=this.args.bubble.showGroupEditScreen&&(document.activeElement.classList.contains("msg-group-form__input")&&o||document.activeElement.classList.contains("msg-group-form__next-button"))
if((0,S.isTabKey)(e)&&(document.activeElement.classList.contains("msg-form__send-toggle")||s||i)){(0,M.default)(this,`#${this.args.bubble.id}`)
e.preventDefault()}}_focusConversation(){if(m.default&&window.getSelection().toString())return
let e
const{conversation:t}=this.args.bubble
e=t&&(0,E.isConversationWithAdvertiser)(t)?".msg-overlay-bubble-header":Ze
const n=this._element.querySelector(e)
n&&n.focus()}_showSuccessToast(e){const t=this.i18n.lookupTranslation("components/msg-overlay@conversation-bubble",e)([])
this.persistentToastManager.success({message:t})}onActive(){this._updateActiveState(!0)
this.msgOverlay.markConversationAsRead(this.args.bubble)}handleCloseBubble(){this.args.bubble.hasDraft?this.showMessageDiscardModal=!0:this.args.closeBubble()
Ember.run.later((()=>{var e,t
return null===(e=this.args.bubble.messageActions)||void 0===e||null===(t=e.afterCloseBubble)||void 0===t?void 0:t.call(e)}),1)}toggleJumboSize(){this.msgOverlay.conversationBubbleLayoutManager.resizeBubble(this.args.bubble,We)
Ember.set(this.args.bubble,"isJumbo",!this.args.bubble.isJumbo)
this.shouldShowExpandedTypeahead=this.args.bubble.isJumbo&&this.args.bubble.isNew
this.msgOverlay.syncCachedConvos()}toggleMinimize(e){var t
if(null===(t=e.target)||void 0===t||!t.closest(".msg-overlay-bubble-header__controls")){this.msgOverlay.conversationBubbleLayoutManager.resizeBubble(this.args.bubble,Xe)
this.msgOverlay.syncCachedConvos()
if(this.args.bubble.isMinimized){this.args.bubble.hasUnseenMessages&&this.msgOverlay.markConversationAsRead(this.args.bubble);(0,l.runTask)(this,(()=>{this._focusConversation()}))
this._fireBubblePVE()}(0,l.runTask)(this,(()=>{Ember.set(this.args.bubble,"isMinimized",!this.args.bubble.isMinimized)
this._updateActiveState(!this.args.bubble.isMinimized)}))}}toggleShowRenameConversation(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0]
const{conversation:t}=this.args.bubble
if(t&&Ember.get(t,"groupChat")){this.setFocusToRenameConversationForm=!this.showRenameConversationForm&&e
this.showRenameConversationForm=!this.showRenameConversationForm}}openConversation(e){this.msgDataManager.fetchConversation(e).then((t=>{if(t){this.onConversationFetched(t,e,!1)
Ember.run.scheduleOnce("afterRender",(()=>this._handleInitialFocus()))}}))}createGroupChat(e){this.args.newConversation({recipients:[e],showGroupEditScreen:!0,isJumbo:!0})}openInMailCompose(e,t,n){this.identityStore.findRecord("com.linkedin.voyager.identity.shared.MiniProfile",e).then((e=>{if(!this.isDestroying){Ember.setProperties(this.args.bubble,{composeOptionType:"PREMIUM_INMAIL",isInMailCompose:!0,isJumbo:!t,isOpenedFromMsgButton:!0,messageRecipients:e?[e]:void 0,showPremiumUpsell:t,targetUrl:n})
Ember.run.scheduleOnce("afterRender",(()=>this._handleInitialFocus()))}}))}composeToNonConnection(e,t){var n
let{composeOption:a={},upsellContextUrn:o}=t
const{composeOptionType:s,composeNavigationContext:i}=Ember.getProperties(a,"composeOptionType","composeNavigationContext")
i&&this._fetchAndSetComposeContext(i.serialize().recipientUrns,s)
switch(s){case"UPSELL":this.openInMailCompose((0,b.extractEntityInfoFromUrn)(o).id,!0,null!==(n=Ember.get(a,"composeNavigationContext.targetUrl"))&&void 0!==n?n:Ember.get(a,"targetUrl"))
break
case"PREMIUM_INMAIL":this.openInMailCompose((0,b.extractEntityInfoFromUrn)(Ember.get(a,"composeNavigationContext.recipientUrns.firstObject")).id)
break
case"REPLY":this.openConversation((0,b.extractEntityInfoFromUrn)(Ember.get(a,"composeNavigationContext.existingConversationUrn")).id)
break
default:e()}}createDraftGroupConversation(e){let{recipients:t,msgGroupName:n,contextByRecipients:a}=e
this.contextByRecipients=a
n||this.msgDataManager.fetchLatestConversationByRecipients(t.mapBy("entityUrn")).then((e=>{if(!this.isDestroying&&e&&!Ember.get(e,"name")){const t=Ember.get(e,"id"),n=this.msgDataManager.initEventCollection({name:t,conversationId:t})
Ember.setProperties(this.args.bubble,{conversation:e,fetchedEvents:n.fetch(),eventCollection:n})}}))
this.showDraftGroupConversation=!0
Ember.setProperties(this.args.bubble,{messageRecipients:t,showGroupEditScreen:!1,groupConversationName:n})
this.draftConversation={groupChat:!0,participantNames:t.map(v.getName),recipients:t,participants:t.map((e=>({miniProfile:e}))),name:n}}openEditGroupScreen(){this.showDraftGroupConversation=!1
Ember.set(this.args.bubble,"showGroupEditScreen",!0)}toggleConversationMute(){const{conversation:e}=this.args.bubble,t=Ember.get(e,"muted"),n=this.msgDataManager.toggleConversationMute(Ember.get(e,"entityUrn"),!t),a=t?Ue.MUTE:Ue.UNMUTE
u.default.fireDetailActionEvent({actionType:a,controlName:Ve.OVERLAY.MUTE,conversationObjectUrn:Ember.get(e,"backendUrn"),participantUrns:u.default.getParticipantTrackingUrns(Ember.get(e,"participants")),participantPresenceStatuses:(0,O.getParticipantPresenceStatuses)(e),trackingService:this.tracking})
return n}didSubmitMessage(e){this.showDraftGroupConversation=!1
Ember.setProperties(this.args.bubble,{message:"",attachments:[],conversation:e,isNew:!1,isInMailCompose:!1,forwardedEvent:void 0,update:null,smpContent:null})
const t=Ember.get(this,"args.bubble.messageActions.afterSendTracking")
if(t){const e=t()
this.tracking.fireTrackingPayload(e.name,e.body)}}onConversationFetched(e,t,n){this.msgDataManager.initEventCollection({name:Ember.get(e,"id"),conversationId:t}).fetch()
Ember.setProperties(this.args.bubble,{conversation:e,isInMailCompose:!1,isNew:n,isJumbo:Ember.get(e,"groupChat")})}recipientsChanged(e,t){this.contextByRecipients=t
Ember.setProperties(this.args.bubble,{conversation:this.conversation,messageRecipients:e})
if(e&&0!==e.length){if(1===e.length||null!=t&&t.length){var n,a
const o=null!=t&&null!==(n=t[0])&&void 0!==n&&n.contextEntityUrn.includes("company")?"MESSAGE_REQUEST":"CONNECTION_MESSAGE"
this._fetchAndSetComposeContext(e.mapBy("entityUrn"),o,null==t||null===(a=t[0])||void 0===a?void 0:a.contextEntityUrn)}}else Ember.setProperties(this.args.bubble,{fetchedEvents:void 0})}updateMessageCompose(e){let{body:t}=e
this.updateMessageComposeService.triggerUpdateMessageCompose({bubbleId:Ember.get(this.args.bubble,"id"),isOverlay:!0,messageText:t})}_fireBubblePVE(){this.args.bubble.isMinimized||this.tracking.firePageViewEvent(this.args.bubble.showGroupEditScreen?Qe.OVERLAY_COMPOSE_GROUP_CONVO_PAGEKEY:Qe.OVERLAY_CONVO)}setHasDraft(e){Ember.set(this.args.bubble,"hasDraft",e)}handleSuccessfulDiscardRequest(){var e,t
this.msgOverlay.conversationBubbleLayoutManager.closeConversationBubble(this.args.bubble)
null===(e=(t=this.args).handleSuccessfulDiscardRequest)||void 0===e||e.call(t,...arguments)}}),ve=(0,s.default)(he.prototype,"i18n",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ye=(0,s.default)(he.prototype,"lix",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fe=(0,s.default)(he.prototype,"identityStore",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_e=(0,s.default)(he.prototype,"msgDataManager",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ee=(0,s.default)(he.prototype,"msgOverlay",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ce=(0,s.default)(he.prototype,"rum",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),we=(0,s.default)(he.prototype,"tracking",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Se=(0,s.default)(he.prototype,"persistentToastManager",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Me=(0,s.default)(he.prototype,"authenticatedUser",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Oe=(0,s.default)(he.prototype,"presenceAPI",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ke=(0,s.default)(he.prototype,"updateMessageComposeService",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Re=(0,s.default)(he.prototype,"composeViewContext",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xe=(0,s.default)(he.prototype,"draftConversation",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ie=(0,s.default)(he.prototype,"enableReportingSponsoredConversation",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),De=(0,s.default)(he.prototype,"messageIndexToBeAnchored",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pe=(0,s.default)(he.prototype,"shouldShowExpandedTypeahead",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Te=(0,s.default)(he.prototype,"showDraftGroupConversation",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ae=(0,s.default)(he.prototype,"showMessageDiscardModal",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ne=(0,s.default)(he.prototype,"showRenameConversationForm",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Le=(0,s.default)(he.prototype,"width",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Be=(0,s.default)(he.prototype,"contextByRecipients",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ze=(0,s.default)(he.prototype,"setFocusToRenameConversationForm",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),(0,s.default)(he.prototype,"impressionEventPayload",[W],Object.getOwnPropertyDescriptor(he.prototype,"impressionEventPayload"),he.prototype),(0,s.default)(he.prototype,"handleDidInsert",[X],Object.getOwnPropertyDescriptor(he.prototype,"handleDidInsert"),he.prototype),(0,s.default)(he.prototype,"handlekeyUp",[Q],Object.getOwnPropertyDescriptor(he.prototype,"handlekeyUp"),he.prototype),(0,s.default)(he.prototype,"handlekeyDown",[$],Object.getOwnPropertyDescriptor(he.prototype,"handlekeyDown"),he.prototype),(0,s.default)(he.prototype,"onActive",[Z],Object.getOwnPropertyDescriptor(he.prototype,"onActive"),he.prototype),(0,s.default)(he.prototype,"handleCloseBubble",[ee],Object.getOwnPropertyDescriptor(he.prototype,"handleCloseBubble"),he.prototype),(0,s.default)(he.prototype,"toggleJumboSize",[te],Object.getOwnPropertyDescriptor(he.prototype,"toggleJumboSize"),he.prototype),(0,s.default)(he.prototype,"toggleMinimize",[ne],Object.getOwnPropertyDescriptor(he.prototype,"toggleMinimize"),he.prototype),(0,s.default)(he.prototype,"toggleShowRenameConversation",[ae],Object.getOwnPropertyDescriptor(he.prototype,"toggleShowRenameConversation"),he.prototype),(0,s.default)(he.prototype,"openConversation",[oe],Object.getOwnPropertyDescriptor(he.prototype,"openConversation"),he.prototype),(0,s.default)(he.prototype,"createGroupChat",[se],Object.getOwnPropertyDescriptor(he.prototype,"createGroupChat"),he.prototype),(0,s.default)(he.prototype,"composeToNonConnection",[ie],Object.getOwnPropertyDescriptor(he.prototype,"composeToNonConnection"),he.prototype),(0,s.default)(he.prototype,"createDraftGroupConversation",[re],Object.getOwnPropertyDescriptor(he.prototype,"createDraftGroupConversation"),he.prototype),(0,s.default)(he.prototype,"openEditGroupScreen",[le],Object.getOwnPropertyDescriptor(he.prototype,"openEditGroupScreen"),he.prototype),(0,s.default)(he.prototype,"toggleConversationMute",[ce],Object.getOwnPropertyDescriptor(he.prototype,"toggleConversationMute"),he.prototype),(0,s.default)(he.prototype,"didSubmitMessage",[me],Object.getOwnPropertyDescriptor(he.prototype,"didSubmitMessage"),he.prototype),(0,s.default)(he.prototype,"onConversationFetched",[ue],Object.getOwnPropertyDescriptor(he.prototype,"onConversationFetched"),he.prototype),(0,s.default)(he.prototype,"recipientsChanged",[de],Object.getOwnPropertyDescriptor(he.prototype,"recipientsChanged"),he.prototype),(0,s.default)(he.prototype,"updateMessageCompose",[pe],Object.getOwnPropertyDescriptor(he.prototype,"updateMessageCompose"),he.prototype),(0,s.default)(he.prototype,"setHasDraft",[be],Object.getOwnPropertyDescriptor(he.prototype,"setHasDraft"),he.prototype),(0,s.default)(he.prototype,"handleSuccessfulDiscardRequest",[ge],Object.getOwnPropertyDescriptor(he.prototype,"handleSuccessfulDiscardRequest"),he.prototype),he)
e.default=et
Ember._setComponentTemplate(je,et)}))
define.alias("ember-vector-images/components/custom-image","msg-overlay/components/custom-image")
define.alias("ember-semaphore/components/ember-semaphore","msg-overlay/components/ember-semaphore")
define.alias("ember-wormhole/components/ember-wormhole","msg-overlay/components/ember-wormhole")
define.alias("ember-vector-images/components/lazy-background","msg-overlay/components/lazy-background")
define.alias("ember-vector-images/components/lazy-image","msg-overlay/components/lazy-image")
define.alias("ember-line-clamp/components/line-clamp","msg-overlay/components/line-clamp")
define.alias("artdeco-icons-web/components/linkedin-logo","msg-overlay/components/linkedin-logo")
define("msg-overlay/components/list-bubble-item",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@glimmer/component","msg-shared/utils/constants"],(function(e,t,n,a,o,s,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var r,l,c,m,u,d
const p=Ember.HTMLBars.template({id:"b7+X0u56",block:'{"symbols":["shouldShowNudgeUi","@conversation","&attrs","@openBubble","@handleBulkActionToggle","@isBulkActionsMode","@disableBulkActions","@convoIndex"],"statements":[[11,"div"],[16,0,[31,["msg-conversation-listitem__link msg-overlay-list-bubble__convo-item\\n    ",[30,[36,6],[[32,0,["showMessageRequestContext"]],"msg-message-request-convo-item"],null]]]],[24,"tabindex","0"],[24,"role","button"],[17,3],[4,[38,11],["click",[30,[36,6],[[32,6],[32,5],[30,[36,10],[[32,4],[32,2]],null]],null]],null],[4,[38,11],["keydown",[32,0,["onKeyDown"]]],null],[4,[38,11],["mousemove",[32,0,["onMouseMove"]]],null],[4,[38,12],[[32,0,["controlInteractionEventName"]]],[["interactionType"],["SHORT_PRESS"]]],[4,[38,12],[[32,0,["controlInteractionEventName"]]],[["interactionType","interactionKeys"],["KEYBOARD_PRESS","ENTER,SPACEBAR"]]],[12],[2,"\\n  "],[10,"div"],[14,0,"msg-conversation-card msg-overlay-list-bubble__convo-card display-flex"],[12],[2,"\\n    "],[8,"msg-ui@selectable-entity",[],[["@onCheckboxClick","@checkboxOnly","@isCheckboxTabbable","@conversation","@disableSelectability","@entitySize","@iconSize"],[[32,5],[32,6],[30,[36,13],[[32,6]],null],[32,2],[32,7],3,"small"]],null],[2,"\\n\\n"],[2,"    "],[11,"div"],[24,0,"msg-overlay-list-bubble__convo-card-content overflow-hidden pl2"],[4,[38,11],["click",[32,0,["onNudgeClick"]]],null],[12],[2,"\\n"],[2,"      "],[10,"div"],[14,0,"msg-overlay-list-bubble__convo-card-content-wrapper fl"],[12],[2,"\\n        "],[10,"div"],[14,0,"msg-conversation-card__row"],[12],[2,"\\n          "],[10,"h3"],[15,0,[31,["msg-conversation-listitem__participant-names msg-conversation-card__participant-names truncate t-14 t-black\\n              ",[30,[36,6],[[32,2,["read"]],"t-normal","t-bold"],null]]]],[12],[2,"\\n"],[6,[37,6],[[30,[36,14],[[32,2]],null]],null,[["default","else"],[{"statements":[[2,"              "],[1,[30,[36,2],["i18n_conversation_names","msg-overlay/components/list-bubble-item"],[["names"],[[30,[36,1],[[32,2]],null]]]]],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,6],[[32,2,["groupChat"]]],null,[["default","else"],[{"statements":[[2,"              "],[1,[30,[36,6],[[32,2,["name"]],[32,2,["name"]],[30,[36,2],["i18n_conversation_names","msg-overlay/components/list-bubble-item"],[["names"],[[30,[36,9],[[32,2],true],null]]]]],null]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"              "],[1,[30,[36,2],["i18n_participant_full_name","msg-overlay/components/list-bubble-item"],[["name"],[[30,[36,1],[[32,2]],null]]]]],[2,"\\n            "]],"parameters":[]}]]]],"parameters":[]}]]],[2,"          "],[13],[2,"\\n"],[6,[37,6],[[32,2,["latestEvent","createdAt"]]],null,[["default"],[{"statements":[[2,"            "],[10,"time"],[15,0,[31,["msg-overlay-list-bubble-item__time-stamp t-12\\n                ",[30,[36,6],[[32,2,["read"]],"t-normal t-black--light","t-bold t-black"],null]]]],[12],[2,"\\n"],[6,[37,6],[[32,0,["createdAtIsToday"]]],null,[["default","else"],[{"statements":[[2,"                "],[1,[30,[36,8],[[32,2,["latestEvent","createdAt"]]],[["format","useTimeZone"],["fmt_hm",true]]]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                "],[1,[30,[36,7],[[32,2,["latestEvent","createdAt"]]],[["format","useTimeZone"],[[30,[36,6],[[30,[36,5],[[32,2,["latestEvent","createdAt"]]],null],"fmt_md_medium","fmt_mdy_medium"],null],true]]]],[2,"\\n"]],"parameters":[]}]]],[2,"            "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"        "],[13],[2,"\\n\\n        "],[8,"msg-ui@msg-nudge",[],[["@conversation","@convoIndex"],[[32,2],[32,8]]],[["default"],[{"statements":[[2,"\\n          "],[10,"div"],[14,0,"msg-conversation-card__row"],[12],[2,"\\n            "],[10,"div"],[15,0,[31,[[30,[36,6],[[32,0,["twoLineMessageSnippetLayout"]],"msg-overlay-list-bubble__message-snippet-container"],null],"\\n                ",[30,[36,15],[[32,0,["twoLineMessageSnippetLayout"]],"truncate"],null]]]],[12],[2,"\\n"],[6,[37,6],[[32,2,["shortContextText"]]],null,[["default"],[{"statements":[[2,"                "],[10,"p"],[14,0,"display-flex align-items-center overflow-hidden t-12 t-bold"],[12],[2,"\\n                  "],[10,"span"],[14,0,"truncate flex-1"],[12],[2,"\\n                    "],[1,[30,[36,4],[[32,2,["shortContextText"]]],null]],[2,"\\n                  "],[13],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"              "],[10,"p"],[15,0,[31,[[30,[36,6],[[30,[36,16],[[32,0,["twoLineMessageSnippetLayout"]],[30,[36,13],[[32,1]],null]],null],"msg-overlay-list-bubble__message-snippet--v2","msg-overlay-list-bubble__message-snippet truncate"],null],"\\n                  m0 t-black t-12\\n                  ",[30,[36,6],[[32,2,["read"]],"t-normal t-black--light","t-bold"],null]]]],[12],[2,"\\n                "],[8,"msg-ui@message-snippet",[],[["@conversation","@latestEvent"],[[32,2],[32,2,["latestEvent"]]]],null],[2,"\\n              "],[13],[2,"\\n            "],[13],[2,"\\n            "],[10,"div"],[14,0,"msg-conversation-card__conversation-status align-items-center flex-grow-1"],[12],[2,"\\n"],[6,[37,6],[[32,2,["muted"]]],null,[["default"],[{"statements":[[2,"                "],[1,[30,[36,3],null,[["class","type","size","a11y-text"],["msg-conversation-card__action-icon mute-icon pr2","mute-icon","medium",[30,[36,2],["i18n_convo_is_muted","msg-overlay/components/list-bubble-item"],[["names"],[[30,[36,1],[[32,2]],null]]]]]]]],[2,"\\n"]],"parameters":[]}]]],[6,[37,6],[[30,[36,13],[[32,2,["read"]]],null]],null,[["default"],[{"statements":[[2,"                "],[8,"artdeco-notification-badge@artdeco-notification-badge",[[24,0,"msg-conversation-card__unread-count artdeco-notification-badge--new text-align-center"]],[["@number","@showCount"],[[30,[36,0],[[32,2,["read"]],[32,2,["unreadCount"]]],null],true]],[["default"],[{"statements":[[2,"\\n"],[2,"                "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]}]]],[2,"            "],[13],[2,"\\n          "],[13],[2,"\\n        "]],"parameters":[1]}]]],[2,"\\n      "],[13],[2,"\\n    "],[13],[2,"\\n  "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["msg-shared@unread-count-display","msg-shared@get-participant-names","t","artdeco-icons-web@li-icon","text-view-model@text-view-model","msg-ui@is-current-year","if","ember-cli-pemberly-i18n@format-date","ember-cli-pemberly-i18n@format-time","msg-shared@participant-names-with-self","fn","on","ember-cli-pemberly-tracking@track-interaction","global-helpers@not","msg-shared@is-conversation-with-advertiser","unless","global-helpers@and"]}',moduleName:"msg-overlay/components/list-bubble-item.hbs"}),{CONTROL_NAMES:{OVERLAY:b},KEYCODES:{ENTER:g,SPACEBAR:h}}=i.default
let v=(r=Ember.inject.service("msg-data@data-manager"),l=Ember._action,c=Ember._action,m=Ember._action,u=class extends s.default{constructor(){super(...arguments);(0,t.default)(this,"msgDataManager",d,this)}get controlInteractionEventName(){return"PENDING"===Ember.get(this.args,"conversation.messageRequestState")?"overlay.view_message_request_conversation":"DECLINED"===Ember.get(this.args,"conversation.messageRequestState")?"overlay.view_declined_message_request_conversation":b.VIEW_MESSAGE}get showMessageRequestContext(){return("PENDING"===Ember.get(this.args,"conversation.messageRequestState")||"DECLINED"===Ember.get(this.args,"conversation.messageRequestState"))&&Ember.get(this.args,"conversation.shortContextText")}get createdAtIsToday(){return Ember.get(this.args,"conversation.latestEvent.createdAt")>(new Date).setHours(0,0,0,0)}get twoLineMessageSnippetLayout(){return!Ember.get(this.args,"conversation.shortContextText")}onKeyDown(e){if(e.keyCode===g||e.keyCode===h){e.preventDefault()
this.args.isBulkActionsMode?this.args.handleBulkActionToggle():this.args.openBubble(this.args.conversation)}}onMouseMove(e){var t,n
null===(t=(n=this.args).onMouseMove)||void 0===t||t.call(n,e)}onNudgeClick(){this.msgDataManager.nudgingDataManager.fireClickTracking(Ember.get(this.args.conversation,"entityUrn"))}},d=(0,a.default)(u.prototype,"msgDataManager",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,a.default)(u.prototype,"onKeyDown",[l],Object.getOwnPropertyDescriptor(u.prototype,"onKeyDown"),u.prototype),(0,a.default)(u.prototype,"onMouseMove",[c],Object.getOwnPropertyDescriptor(u.prototype,"onMouseMove"),u.prototype),(0,a.default)(u.prototype,"onNudgeClick",[m],Object.getOwnPropertyDescriptor(u.prototype,"onNudgeClick"),u.prototype),u)
e.default=v
Ember._setComponentTemplate(p,v)}))
define("msg-overlay/components/list-bubble-search",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","msg-shared/utils/scroll-blocker-helper","msg-shared/utils/constants","ember-batcher","global-helpers/helpers/name","global-utils/utils/ember-cli-search-typeahead-utils","ember-lifeline","msg-shared/helpers/get-participant-names","@glimmer/component"],(function(e,t,n,a,o,s,i,r,l,c,m,u,d){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var p,b,g,h,v,y,f,_,E,C,w,S,M,O,k,R,x,I,D,P,T,A,N,L,B,z,F,j,U,V,q,G,H,K,Y,J,W,X,Q,$,Z,ee,te,ne,ae,oe,se,ie,re,le,ce
const me=Ember.HTMLBars.template({id:"VLaVfR4i",block:'{"symbols":["conversation","index","connection","index","dropdown","@clearActiveSearch","&default","@currentConvosFilter","@showSearchInput"],"statements":[[11,"div"],[16,0,[31,["msg-overlay-list-bubble-search\\n    ",[30,[36,6],[[32,0,["shouldShowSearchContent"]]," msg-overlay-list-bubble-search--search-content-visible"],null]]]],[4,[38,15],[[32,0,["onElementInsert"]]],null],[4,[38,7],null,[["pageKey","routeName","currentRoute"],["flagship3_messaging_overlay_search",[30,[36,2],[[30,[36,1],["outletState"],null],"render.name"],null],[30,[36,2],[[30,[36,1],["outletState"],null],"render"],null]]]],[12],[2,"\\n"],[6,[37,6],[[32,9]],null,[["default"],[{"statements":[[2,"    "],[10,"div"],[15,0,"msg-overlay-list-bubble-search__input-container"],[12],[2,"\\n"],[2,"      "],[10,"label"],[14,0,"a11y-text"],[14,"for","msg-overlay-list-bubble-search__search-typeahead-input"],[12],[2,"\\n        "],[1,[30,[36,0],["i18n_a11y_search_hint_text","msg-overlay/components/list-bubble-search"],null]],[2,"\\n      "],[13],[2,"\\n      "],[1,[30,[36,14],null,[["type","class","size"],["search-icon","msg-overlay-list-search__search-icon","small"]]]],[2,"\\n      "],[8,"input",[[24,1,"msg-overlay-list-bubble-search__search-typeahead-input"],[24,0,"msg-overlay-list-bubble-search__search-typeahead-input"],[16,"placeholder",[30,[36,0],["i18n_find_a_connection","msg-overlay/components/list-bubble-search"],null]],[24,"autocomplete","off"],[4,[38,11],["input",[32,0,["onInputChange"]]],null],[4,[38,11],["focusin",[32,0,["onInputFocusIn"]]],null],[4,[38,11],["focusout",[32,0,["onInputFocusOut"]]],null],[4,[38,11],["keyup",[32,0,["onKeyUp"]]],null]],[["@value","@insert-newline"],[[32,0,["searchTerm"]],[32,0,["onInputEnterKeyRelease"]]]],null],[2,"\\n      "],[8,"artdeco-dropdown@artdeco-dropdown",[],[["@class","@placement","@justification","@isOpen","@onVisibilityChange"],["msg-overlay-list-bubble__filters-dropdown","bottom","right",[32,0,["isConvoFiltersDropdownOpen"]],[32,0,["toggleConvoFilters"]]]],[["default"],[{"statements":[[2,"\\n        "],[8,[32,5,["dropdown-trigger"]],[],[["@class","@tabindex"],["msg-overlay-list-bubble__filters-btn","0"]],[["default"],[{"statements":[[2,"\\n          "],[1,[30,[36,14],null,[["type","size","a11y-text"],["filter-icon","small",[30,[36,0],["i18n_filter_messages_by","msg-overlay/components/list-bubble-search"],null]]]]],[2,"\\n        "]],"parameters":[]}]]],[2,"\\n        "],[8,[32,5,["dropdown-content"]],[],[["@classNames","@arrowDir"],["msg-overlay-list-bubble__filters-dropdown-content","right"]],[["default"],[{"statements":[[2,"\\n          "],[10,"ul"],[12],[2,"\\n            "],[10,"li"],[14,0,"msg-overlay-list-bubble__filters-dropdown-content-list-item"],[12],[2,"\\n"],[2,"              "],[8,"artdeco-dropdown@artdeco-dropdown-item",[],[["@selected","@itemSelected","@role"],[[30,[36,6],[[32,8],false,true],null],[30,[36,3],[[32,0,["applyFilter"]],""],null],"button"]],[["default"],[{"statements":[[2,"\\n                "],[1,[30,[36,0],["i18n_all_messages","msg-overlay/components/list-bubble-search"],null]],[2,"\\n              "]],"parameters":[]}]]],[2,"\\n            "],[13],[2,"\\n            "],[10,"li"],[14,0,"msg-overlay-list-bubble__filters-dropdown-content-list-item"],[12],[2,"\\n              "],[8,"artdeco-dropdown@artdeco-dropdown-item",[],[["@selected","@itemSelected","@role"],[[30,[36,5],[[32,8],"ARCHIVED"],null],[30,[36,3],[[32,0,["applyFilter"]],"ARCHIVED"],null],"button"]],[["default"],[{"statements":[[2,"\\n                "],[1,[30,[36,0],["i18n_archived","msg-overlay/components/list-bubble-search"],null]],[2,"\\n              "]],"parameters":[]}]]],[2,"\\n            "],[13],[2,"\\n            "],[10,"li"],[14,0,"msg-overlay-list-bubble__filters-dropdown-content-list-item"],[12],[2,"\\n              "],[8,"artdeco-dropdown@artdeco-dropdown-item",[],[["@selected","@itemSelected","@role"],[[30,[36,5],[[32,8],"CONNECTIONS"],null],[30,[36,3],[[32,0,["applyFilter"]],"CONNECTIONS"],null],"button"]],[["default"],[{"statements":[[2,"\\n                "],[1,[30,[36,0],["i18n_connections","msg-overlay/components/list-bubble-search"],null]],[2,"\\n              "]],"parameters":[]}]]],[2,"\\n            "],[13],[2,"\\n            "],[10,"li"],[14,0,"msg-overlay-list-bubble__filters-dropdown-content-list-item"],[12],[2,"\\n              "],[8,"artdeco-dropdown@artdeco-dropdown-item",[],[["@selected","@itemSelected","@role"],[[30,[36,5],[[32,8],"UNREAD"],null],[30,[36,3],[[32,0,["applyFilter"]],"UNREAD"],null],"button"]],[["default"],[{"statements":[[2,"\\n                "],[10,"div"],[14,0,"display-flex align-items-center justify-space-between"],[12],[2,"\\n                  "],[10,"span"],[12],[2,"\\n                    "],[1,[30,[36,0],["i18n_unread","msg-overlay/components/list-bubble-search"],null]],[2,"\\n                  "],[13],[2,"\\n                "],[13],[2,"\\n              "]],"parameters":[]}]]],[2,"\\n            "],[13],[2,"\\n            "],[10,"li"],[14,0,"msg-overlay-list-bubble__filters-dropdown-content-list-item"],[12],[2,"\\n              "],[8,"artdeco-dropdown@artdeco-dropdown-item",[],[["@selected","@itemSelected","@role"],[[30,[36,5],[[32,8],"INMAIL"],null],[30,[36,3],[[32,0,["applyFilter"]],"INMAIL"],null],"button"]],[["default"],[{"statements":[[2,"\\n                "],[1,[30,[36,0],["i18n_inmail","msg-overlay/components/list-bubble-search"],null]],[2,"\\n              "]],"parameters":[]}]]],[2,"\\n            "],[13],[2,"\\n            "],[10,"li"],[14,0,"msg-overlay-list-bubble__filters-dropdown-content-list-item"],[12],[2,"\\n              "],[8,"artdeco-dropdown@artdeco-dropdown-item",[],[["@selected","@itemSelected","@role"],[[30,[36,5],[[32,8],"BLOCKED"],null],[30,[36,3],[[32,0,["applyFilter"]],"BLOCKED"],null],"button"]],[["default"],[{"statements":[[2,"\\n                "],[1,[30,[36,0],["i18n_spam","msg-overlay/components/list-bubble-search"],null]],[2,"\\n              "]],"parameters":[]}]]],[2,"\\n            "],[13],[2,"\\n          "],[13],[2,"\\n        "]],"parameters":[]}]]],[2,"\\n      "]],"parameters":[5]}]]],[2,"\\n    "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,6],[[32,0,["shouldShowSelectedFilter"]]],null,[["default"],[{"statements":[[2,"    "],[18,7,[[30,[36,13],null,[["filterSection"],[[30,[36,12],["dummy-yield-wrapper@dummy-yield-wrapper"],null]]]]]],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,6],[[32,0,["hasActiveSearch"]]],null,[["default"],[{"statements":[[2,"    "],[8,"artdeco-button@artdeco-button",[],[["@icon","@size","@circle","@class","@text","@type","@click"],["cancel-icon","small",true,"msg-search-form__cancel-search",[30,[36,0],["i18n_cancel_search","msg-overlay/components/list-bubble-search"],null],"tertiary",[32,6]]],null],[2,"\\n"]],"parameters":[]}]]],[2,"  "],[10,"div"],[15,0,[31,["relative display-flex justify-center flex-column overflow-hidden\\n      ",[30,[36,16],[[32,0,["shouldShowSearchContent"]]," hidden"],null]]]],[12],[2,"\\n    "],[10,"div"],[14,0,"msg-overlay-list-bubble-search-content"],[12],[2,"\\n"],[6,[37,6],[[32,0,["searchPerformed"]]],null,[["default","else"],[{"statements":[[6,[37,6],[[32,0,["shouldShowSearchLoadingView"]]],null,[["default","else"],[{"statements":[[2,"          "],[8,"artdeco-loader@artdeco-loader",[],[["@size","@class"],["small","msg-overlay-list-bubble-search__loading-state"]],null],[2,"\\n"]],"parameters":[]},{"statements":[[2,"          "],[11,"div"],[24,0,"msg-overlay-list-bubble-search__search-result-container"],[4,[38,11],["mousedown",[32,0,["noOp"]]],null],[12],[2,"\\n"],[6,[37,6],[[32,0,["shouldShowNoResultView"]]],null,[["default","else"],[{"statements":[[2,"              "],[11,"div"],[24,0,"msg-overlay-list-bubble-search__no-result-container text-align-center"],[4,[38,7],null,[["pageKey","routeName","currentRoute"],["flagship3_messaging_overlay_search_no_results",[30,[36,2],[[30,[36,1],["outletState"],null],"render.name"],null],[30,[36,2],[[30,[36,1],["outletState"],null],"render"],null]]]],[12],[2,"\\n                "],[10,"div"],[14,0,"msg-overlay-list-bubble__illustration msg-overlay-list-bubble-search__no-result-illustration"],[12],[13],[2,"\\n                "],[10,"p"],[14,0,"ph2 t-14 t-black t-normal"],[12],[2,"\\n                  "],[1,[30,[36,0],["i18n_we_did_not_find_anything","msg-overlay/components/list-bubble-search"],[["searchTerm"],[[32,0,["searchTerm"]]]]]],[2,"\\n                "],[13],[2,"\\n              "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,6],[[32,0,["displayedConnections","length"]]],null,[["default"],[{"statements":[[2,"                "],[11,"header"],[24,0,"msg-overlay-list-bubble__list-header msg-overlay-list-bubble-search__result-header"],[4,[38,7],null,[["pageKey","routeName","currentRoute"],["flagship3_messaging_overlay_search_typeahead_results",[30,[36,2],[[30,[36,1],["outletState"],null],"render.name"],null],[30,[36,2],[[30,[36,1],["outletState"],null],"render"],null]]]],[12],[2,"\\n                  "],[10,"h5"],[14,0,"msg-overlay-list-bubble__list-header-title t-12 t-black--light t-bold truncate"],[12],[2,"\\n                    "],[1,[30,[36,0],["i18n_connections_matched","msg-overlay/components/list-bubble-search"],null]],[2,"\\n                  "],[13],[2,"\\n                "],[13],[2,"\\n                "],[10,"ul"],[14,0,"msg-overlay-list-bubble-search__connection-search-result-list"],[12],[2,"\\n"],[6,[37,9],[[30,[36,8],[[30,[36,8],[[32,0,["displayedConnections"]]],null]],null]],null,[["default"],[{"statements":[[2,"                    "],[8,"msg-overlay@search-connection-item",[[16,0,[30,[36,6],[[30,[36,5],[[32,4],[32,0,["highlightedItemIndex"]]],null],"msg-overlay-list-bubble-search__list-item--selected"],null]]],[["@itemIndex","@profile","@caption","@onClick","@onMouseMove"],[[32,4],[32,3,["miniProfile"]],[30,[36,10],[[32,3,["subtext"]],[32,3,["caption"]]],null],[30,[36,3],[[32,0,["onConnectionSearchResultSelect"]],[32,3,["miniProfile"]]],null],[30,[36,3],[[32,0,["onListItemMouseMove"]],[32,4],false],null]]],null],[2,"\\n"]],"parameters":[3,4]}]]],[2,"                "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,6],[[32,0,["matchedConversations","length"]]],null,[["default"],[{"statements":[[2,"                "],[11,"header"],[24,0,"msg-overlay-list-bubble__list-header msg-overlay-list-bubble-search__result-header"],[4,[38,7],null,[["pageKey","routeName","currentRoute"],["flagship3_messaging_overlay_search_results",[30,[36,2],[[30,[36,1],["outletState"],null],"render.name"],null],[30,[36,2],[[30,[36,1],["outletState"],null],"render"],null]]]],[12],[2,"\\n                  "],[10,"h5"],[14,0,"msg-overlay-list-bubble__list-header-title t-12 t-black--light t-bold truncate"],[12],[2,"\\n                    "],[1,[30,[36,0],["i18n_conversation_history","msg-overlay/components/list-bubble-search"],null]],[2,"\\n                  "],[13],[2,"\\n                "],[13],[2,"\\n"],[2,"                "],[10,"div"],[14,0,"msg-overlay-list-bubble-search__content-search-result-list"],[12],[2,"\\n"],[6,[37,9],[[30,[36,8],[[30,[36,8],[[32,0,["matchedConversations"]]],null]],null]],null,[["default"],[{"statements":[[2,"                    "],[11,"div"],[4,[38,4],[[30,[36,3],[[32,0,["createSearchItemImpressionEvent"]],[32,1],[32,2]],null]],[["routeName","currentRoute"],[[30,[36,2],[[30,[36,1],["outletState"],null],"render.name"],null],[30,[36,2],[[30,[36,1],["outletState"],null],"render"],null]]]],[12],[2,"\\n                      "],[8,"msg-overlay@list-bubble-item",[[16,0,[30,[36,6],[[30,[36,5],[[32,2],[32,0,["highlightedConversationResultIndex"]]],null],"msg-overlay-list-bubble__convo-item--selected"],null]]],[["@conversation","@convoIndex","@openBubble","@onMouseMove","@disableBulkActions"],[[32,1],[32,2],[32,0,["onContentSearchResultSelect"]],[30,[36,3],[[32,0,["onListItemMouseMove"]],[32,2],true],null],true]],null],[2,"\\n                    "],[13],[2,"\\n"]],"parameters":[1,2]}]]],[6,[37,6],[[32,0,["loadMoreInProgress"]]],null,[["default"],[{"statements":[[2,"                    "],[8,"artdeco-loader@artdeco-loader",[],[["@size"],["small"]],null],[2,"\\n"]],"parameters":[]}]]],[6,[37,6],[[32,0,["shouldLoadMoreConversations"]]],null,[["default"],[{"statements":[[2,"                    "],[8,"msg-ui@visible-beacon",[],[["@inView","@rootSelector"],[[32,0,["infiniteScroll"]],".msg-overlay-list-bubble-search-content"]],null],[2,"\\n"]],"parameters":[]}]]],[2,"                "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"          "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]},{"statements":[[2,"        "],[10,"div"],[14,0,"msg-overlay-list-bubble-search__history-placeholder-container text-align-center"],[12],[2,"\\n          "],[10,"div"],[14,0,"msg-overlay-list-bubble__illustration msg-overlay-list-bubble-search__history-placeholder-illustration"],[12],[13],[2,"\\n          "],[10,"p"],[14,0,"t-14 t-black t-normal ph2"],[12],[2,"\\n            "],[1,[30,[36,0],["i18n_search_your_messages","msg-overlay/components/list-bubble-search"],null]],[2,"\\n          "],[13],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"    "],[13],[2,"\\n  "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["t","-get-dynamic-var","get","fn","ember-cli-pemberly-tracking@track-impression","global-helpers@eq","if","ember-cli-pemberly-tracking@track-render","-track-array","each","global-helpers@or","on","component","hash","artdeco-icons-web@li-icon","did-insert","unless"]}',moduleName:"msg-overlay/components/list-bubble-search.hbs"}),{KEYCODES:ue,CONTROL_INTERACTION_KEYS:de}=i.default,pe=".msg-overlay-list-bubble-search__search-typeahead-input",be=".msg-overlay-list-bubble-search-content",ge=".msg-overlay-list-bubble-search__list-item",he=new Set(["ARCHIVED","CONNECTIONS","UNREAD","INMAIL","BLOCKED"])
let ve=(p=Ember.inject.service("lix"),b=Ember.inject.service("i18n"),g=Ember.inject.service("tracking"),h=Ember.inject.service("global-services@a11y-notification"),v=Ember.inject.service("msg-data@data-manager"),y=Ember.inject.service("search-services@search-tracking-v2"),f=Ember._tracked,_=Ember._tracked,E=Ember._tracked,C=Ember._tracked,w=Ember._tracked,S=Ember._tracked,M=Ember._tracked,O=Ember._tracked,k=Ember._tracked,R=Ember._tracked,x=Ember._tracked,I=Ember._action,D=Ember._action,P=Ember._action,T=Ember._action,A=Ember._action,N=Ember._action,L=Ember._action,B=Ember._action,z=Ember._action,F=Ember._action,j=Ember._action,U=Ember._action,V=Ember._action,q=Ember._action,G=Ember._action,H=Ember._action,K=class extends d.default{constructor(){super(...arguments);(0,t.default)(this,"lix",Y,this);(0,t.default)(this,"i18n",J,this);(0,t.default)(this,"tracking",W,this);(0,t.default)(this,"a11yNotification",X,this);(0,t.default)(this,"msgDataManager",Q,this);(0,t.default)(this,"searchTrackingV2",$,this);(0,t.default)(this,"connectionSearchPerformed",Z,this);(0,t.default)(this,"contentSearchPerformed",ee,this);(0,t.default)(this,"inputHasFocus",te,this);(0,t.default)(this,"matchedConnections",ne,this);(0,t.default)(this,"matchedConversations",ae,this);(0,t.default)(this,"shouldShowSearchLoadingView",oe,this);(0,t.default)(this,"collection",se,this);(0,t.default)(this,"highlightedItemIndex",ie,this);(0,t.default)(this,"searchTerm",re,this);(0,t.default)(this,"isConvoFiltersDropdownOpen",le,this);(0,t.default)(this,"loadMoreInProgress",ce,this);(0,n.default)(this,"collectionName",void 0);(0,n.default)(this,"searchField",void 0);(0,n.default)(this,"hasMoreContentSearchResults",!1);(0,n.default)(this,"scrollSection",void 0)}get searchPerformed(){return this.connectionSearchPerformed||this.contentSearchPerformed}get shouldShowSelectedFilter(){const{currentConvosFilter:e}=this.args
return e&&he.has(e)}get shouldShowSearchContent(){return this.inputHasFocus}get displayedConnections(){return this.matchedConnections.slice(0,3)}get shouldShowNoResultView(){return 0===this.displayedResultsLength&&this.connectionSearchPerformed&&this.contentSearchPerformed}get displayedResultsLength(){return this.displayedConnections.length+this.matchedConversations.length}get listItemCount(){return this.searchPerformed&&this.displayedResultsLength}get highlightedConversationResultIndex(){return this.highlightedItemIndex-this.displayedConnections.length}get enableInboxManager(){return this.lix.getTreatmentIsEnabled("voyager.web.messaging-inbox-manager")}get inboxManagerConversationCollection(){return this.msgDataManager.inboxManager.getConversationCollectionByName(this.collectionName)}onElementInsert(e){this.currentElement=e
this.searchField=e.querySelector(pe)
this.scrollSection=e.querySelector(be);(0,s.default)(this,this.scrollSection)}_performSearch(e){this.shouldShowSearchLoadingView=!0
const t=(new Date).getTime()
this.lastRequestTime=t
const n=[this.msgDataManager.fetchTypeaheadResults(e).then((e=>this._handleConnectionSearchResults(e,t)))],a={q:"search",keywords:e,createdBefore:Date.now()}
"ARCHIVED"===this.args.currentConvosFilter?a.folders=[this.args.currentConvosFilter]:this.args.currentConvosFilter&&(a.filters=[this.args.currentConvosFilter])
this.collectionName=`${e}-${Date.now()}`
let o
if(this.enableInboxManager)o=this.msgDataManager.inboxManager.loadCollection(this.collectionName,a).then((()=>{this._handleConversationSearchResults(this.inboxManagerConversationCollection.data,t)}))
else{this.collection=this.msgDataManager.initConversationCollection({name:this.collectionName,initialQuery:a})
o=this.collection.fetchAndLoad(a).then((e=>this._handleConversationSearchResults(e,t)))}n.push(o)
Ember.RSVP.all(n).then((()=>{if(!this.isDestroying){this.shouldShowSearchLoadingView=!1
0!==this.displayedResultsLength&&this.a11yNotify("i18n_a11y_navigate_search_results")}}))}_handleSearchTermChange(e){var t,n
const a=e?e.trim():"",o=a.length>0
this.highlightedItemIndex=-1
o?(0,m.debounceTask)(this,"_performSearch",a,150):this._clearSearchResults()
null===(t=(n=this.args).onSearchTermChange)||void 0===t||t.call(n,a)}_handleConversationSearchResults(e,t){if(t!==this.lastRequestTime||0===this.searchTerm.length)return Ember.RSVP.reject()
this.contentSearchPerformed=!0
this.matchedConversations=e
this.hasMoreContentSearchResults=e.length>0
this.a11yNotify("i18n_a11y_conversation_results_found",{resultsLength:e.length})
return Ember.RSVP.resolve()}_handleConnectionSearchResults(e,t){if(t!==this.lastRequestTime||0===this.searchTerm.length)return Ember.RSVP.reject()
this.connectionSearchPerformed=!0
this.matchedConnections=e
this.a11yNotify("i18n_a11y_connection_results_found",{resultsLength:e.length})
return Ember.RSVP.resolve()}_clearSearchResults(){this.connectionSearchPerformed=!1
this.matchedConnections=[]
this.contentSearchPerformed=!1
this.matchedConversations=[]}_clearInputField(){this.searchTerm=""
this._handleSearchTermChange("")}_moveSelectedItem(e){const t=this.listItemCount
if(0===t)return
const n=this.highlightedItemIndex
let a
a=-1===n?1===e?0:t-1:(n+e+t)%t
Ember.testing&&console.log("[MSG-56428] logging for unstable search interaction test: ","currIndex: ",n," newIndex: ",a)
this.highlightedItemIndex=a
this._a11yNotifyItemSelectionChange();(0,r.mutateDOM)((()=>{if(!this.isDestroying)if(0===a)this.scrollSection.scrollTop=0
else{const e=this.currentElement.querySelectorAll(ge)[a]
if(e){const t=e.offsetTop,n=t+e.offsetHeight
n>this.scrollSection.offsetHeight+this.scrollSection.scrollTop?this.scrollSection.scrollTop=n-this.scrollSection.offsetHeight:t<this.scrollSection.scrollTop&&(this.scrollSection.scrollTop=t)}}}))}_a11yNotifyItemSelectionChange(){if(this.searchPerformed)if(this.highlightedItemIndex<this.displayedConnections.length)this.a11yNotify("i18n_a11y_search_result_connection_fullname",{connectionName:(0,l.getName)(Ember.get(this.displayedConnections[this.highlightedItemIndex],"miniProfile"))})
else{const e=this.matchedConversations[this.highlightedConversationResultIndex]
let t
t="SPONSORED_INMAIL"===Ember.get(e,"latestEvent.subtype")?"i18n_a11y_search_result_spinmail_from_name":Ember.get(e,"groupChat")?"i18n_a11y_search_result_conversation_names":"i18n_a11y_search_result_participant_full_name"
this.a11yNotify(t,{names:(0,u.getParticipantNames)(e)})}}_openConnectionSearchResult(e){this._clearInputField()
this.args.openNewConversation({recipients:[e]})
this.tracking.fireInteractionEvent(de.SELECT_CONNECTION_SEARCH_RESULT)}_openContentSearchResult(e){const t=Ember.get(e,"backendUrn"),n=this.enableInboxManager?this.inboxManagerConversationCollection:this.collection,a=null==n?void 0:n.collectionMetadata
this._clearInputField()
this.args.openBubble(e)
this.tracking.fireInteractionEvent(de.SELECT_CONTENT_SEARCH_RESULT)
a&&this.searchTrackingV2.trackAction("MESSAGING_VIEW_RESULT",(0,c.getResultTrackingInfo)(e,Ember.get(a,"rawSearchId"),Ember.get(a,"trackingIdMap")[t]))}onKeyUp(e){if(this.inputHasFocus)switch(e.keyCode){case ue.UP_ARROW:this._moveSelectedItem(-1)
e.preventDefault()
break
case ue.DOWN_ARROW:this._moveSelectedItem(1)
e.preventDefault()
break
case ue.ESC:this._clearInputField()}}infiniteScroll(){if(!this.hasMoreContentSearchResults)return Ember.RSVP.resolve(!1)
const e=this.enableInboxManager?this.msgDataManager.inboxManager.loadMore(this.collectionName):this.collection.fetchAndLoadMore()
this.loadMoreInProgress=!0
return e.then((e=>{const t=e.length
if(!this.isDestroying){this.matchedConversations=this.enableInboxManager?this.inboxManagerConversationCollection.data:this.collection.data
this.hasMoreContentSearchResults=t}return Ember.RSVP.resolve(t)})).finally((()=>{this.loadMoreInProgress=!1}))}get shouldLoadMoreConversations(){if(!this.matchedConversations||0===this.matchedConversations.length)return!1
return!(this.enableInboxManager?this.inboxManagerConversationCollection:this.collection).lastSetOfRecordsLoaded&&!this.loadMoreInProgress}a11yNotify(e,t){const n=this.i18n.lookupTranslation("components/msg-overlay@list-bubble-search",e)
this.a11yNotification.setTextInLiveRegion(n([t]))}toggleConvoFilters(e){this.isConvoFiltersDropdownOpen=e
this.tracking.fireInteractionEvent("overlay.filter_messages_by","SHORT_PRESS")}applyFilter(e){this.isConvoFiltersDropdownOpen=!1
if(this.args.currentConvosFilter!==e){this.args.onFilterApply(e)
this._handleSearchTermChange(this.searchTerm)}}clearFilters(){this.args.onClearFilters()
this._handleSearchTermChange(this.searchTerm)}onInputFocusIn(){this.inputHasFocus=!0;(0,r.mutateDOM)((()=>{this.isDestroying||(this.scrollSection.scrollTop=0)}))
this.tracking.fireInteractionEvent(de.FOCUS_SEARCH_BOX)}onInputFocusOut(){this.inputHasFocus=!1}onInputEnterKeyRelease(){if(-1!==this.highlightedItemIndex&&this.searchPerformed){const e=this.displayedConnections.length
if(this.highlightedItemIndex<e){const e=this.displayedConnections[this.highlightedItemIndex]
this._openConnectionSearchResult(Ember.get(e,"miniProfile"))}else{const e=this.matchedConversations[this.highlightedConversationResultIndex]
this._openContentSearchResult(e)}}}clearInputField(){this._clearInputField()
this.tracking.fireInteractionEvent(de.CANCEL_SEARCH)}onConnectionSearchResultSelect(e){this._openConnectionSearchResult(e)}onContentSearchResultSelect(e){this._openContentSearchResult(e)}onInputChange(e){this.searchTerm=e.target.value
this._handleSearchTermChange(this.searchTerm)}onListItemMouseMove(e,t,n){if(this.lastX!==n.screenX||this.lastY!==n.screenY){this.highlightedItemIndex=t?e+this.displayedConnections.length:e
this.lastX=n.screenX
this.lastY=n.screenY}}createSearchItemImpressionEvent(e,t){if(this.isDestroying)return[]
const n=Ember.get(e,"backendUrn"),a=this.enableInboxManager?this.inboxManagerConversationCollection:this.collection,o=null==a?void 0:a.collectionMetadata
if(o){const a=(0,c.getResultTrackingInfo)(e,Ember.get(o,"rawSearchId"),Ember.get(o,"trackingIdMap")[n],{row:t+1,column:1})
return{name:"SearchImpressionV2Event",body:{results:[{duration:0,entityUrn:a.entityUrn,gridPosition:a.gridPosition,resultSize:{height:0,width:0},searchId:a.searchId,trackingId:a.trackingId,visibleHeight:0,visibleTime:0,isCacheHit:a.isCacheHit||!1}]}}}return[]}noOp(e){e.preventDefault()}},Y=(0,a.default)(K.prototype,"lix",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=(0,a.default)(K.prototype,"i18n",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=(0,a.default)(K.prototype,"tracking",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=(0,a.default)(K.prototype,"a11yNotification",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=(0,a.default)(K.prototype,"msgDataManager",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=(0,a.default)(K.prototype,"searchTrackingV2",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=(0,a.default)(K.prototype,"connectionSearchPerformed",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ee=(0,a.default)(K.prototype,"contentSearchPerformed",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),te=(0,a.default)(K.prototype,"inputHasFocus",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ne=(0,a.default)(K.prototype,"matchedConnections",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ae=(0,a.default)(K.prototype,"matchedConversations",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),oe=(0,a.default)(K.prototype,"shouldShowSearchLoadingView",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),se=(0,a.default)(K.prototype,"collection",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ie=(0,a.default)(K.prototype,"highlightedItemIndex",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),re=(0,a.default)(K.prototype,"searchTerm",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),le=(0,a.default)(K.prototype,"isConvoFiltersDropdownOpen",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ce=(0,a.default)(K.prototype,"loadMoreInProgress",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),(0,a.default)(K.prototype,"onElementInsert",[I],Object.getOwnPropertyDescriptor(K.prototype,"onElementInsert"),K.prototype),(0,a.default)(K.prototype,"onKeyUp",[D],Object.getOwnPropertyDescriptor(K.prototype,"onKeyUp"),K.prototype),(0,a.default)(K.prototype,"infiniteScroll",[P],Object.getOwnPropertyDescriptor(K.prototype,"infiniteScroll"),K.prototype),(0,a.default)(K.prototype,"toggleConvoFilters",[T],Object.getOwnPropertyDescriptor(K.prototype,"toggleConvoFilters"),K.prototype),(0,a.default)(K.prototype,"applyFilter",[A],Object.getOwnPropertyDescriptor(K.prototype,"applyFilter"),K.prototype),(0,a.default)(K.prototype,"clearFilters",[N],Object.getOwnPropertyDescriptor(K.prototype,"clearFilters"),K.prototype),(0,a.default)(K.prototype,"onInputFocusIn",[L],Object.getOwnPropertyDescriptor(K.prototype,"onInputFocusIn"),K.prototype),(0,a.default)(K.prototype,"onInputFocusOut",[B],Object.getOwnPropertyDescriptor(K.prototype,"onInputFocusOut"),K.prototype),(0,a.default)(K.prototype,"onInputEnterKeyRelease",[z],Object.getOwnPropertyDescriptor(K.prototype,"onInputEnterKeyRelease"),K.prototype),(0,a.default)(K.prototype,"clearInputField",[F],Object.getOwnPropertyDescriptor(K.prototype,"clearInputField"),K.prototype),(0,a.default)(K.prototype,"onConnectionSearchResultSelect",[j],Object.getOwnPropertyDescriptor(K.prototype,"onConnectionSearchResultSelect"),K.prototype),(0,a.default)(K.prototype,"onContentSearchResultSelect",[U],Object.getOwnPropertyDescriptor(K.prototype,"onContentSearchResultSelect"),K.prototype),(0,a.default)(K.prototype,"onInputChange",[V],Object.getOwnPropertyDescriptor(K.prototype,"onInputChange"),K.prototype),(0,a.default)(K.prototype,"onListItemMouseMove",[q],Object.getOwnPropertyDescriptor(K.prototype,"onListItemMouseMove"),K.prototype),(0,a.default)(K.prototype,"createSearchItemImpressionEvent",[G],Object.getOwnPropertyDescriptor(K.prototype,"createSearchItemImpressionEvent"),K.prototype),(0,a.default)(K.prototype,"noOp",[H],Object.getOwnPropertyDescriptor(K.prototype,"noOp"),K.prototype),K)
e.default=ve
Ember._setComponentTemplate(me,ve)}))
define("msg-overlay/components/list-bubble",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","extended/config/environment","msg-shared/utils/constants","msg-ui/utils/realtime-onboarding","global-utils/utils/is-browser","ember-cli-pemberly-tracking/utils/tracking","msg-shared/utils/get-participant-presence-statuses","ember-lifeline","@glimmer/component","tracked-toolbox"],(function(e,t,n,a,o,s,i,r,l,c,m,u,d,p){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var b,g,h,v,y,f,_,E,C,w,S,M,O,k,R,x,I,D,P,T,A,N,L,B,z,F,j,U,V,q,G,H,K,Y,J,W,X,Q,$,Z,ee,te,ne,ae,oe,se,ie,re,le,ce,me,ue,de,pe,be,ge,he,ve,ye,fe,_e,Ee,Ce,we,Se,Me,Oe,ke,Re,xe,Ie,De,Pe,Te,Ae,Ne,Le,Be,ze,Fe,je,Ue,Ve,qe,Ge,He,Ke,Ye,Je,We,Xe,Qe,$e,Ze,et,tt,nt,at,ot,st,it,rt,lt
const ct=Ember.HTMLBars.template({id:"zlVuz/FJ",block:'{"symbols":["conversation","index","widget","listBubbleSearch","dropdown","@messagingSettings","@openBubble","@newConversation"],"statements":[[11,"div"],[24,"tabindex","-1"],[16,0,[31,["msg-overlay-list-bubble\\n    ",[30,[36,10],[[32,0,["isMinimized"]],"msg-overlay-list-bubble--is-minimized"],null],"\\n    ",[30,[36,10],[[32,0,["isInMinimizeTransition"]],"msg-overlay-list-bubble--during-transition"],null],"\\n    ml4"]]],[4,[38,16],null,null],[4,[38,17],["transitionend",[30,[36,0],[[32,0],"isInMinimizeTransition",false],null]],null],[12],[2,"\\n  "],[10,"header"],[14,0,"msg-overlay-bubble-header"],[12],[2,"\\n    "],[10,"div"],[15,0,[31,["msg-overlay-bubble-header__badge-container\\n        ",[30,[36,10],[[32,0,["hasBadge"]],"msg-overlay-bubble-header--inverse msg-overlay-bubble-header--is-badged"],null]]]],[12],[13],[2,"\\n    "],[8,"msg-overlay@active-status-onboarding",[],[[],[]],null],[2,"\\n"],[2,"    "],[11,"div"],[24,0,"msg-overlay-bubble-header__details flex-row align-items-center ml1"],[4,[38,17],["click",[32,0,["toggleMinimize"]]],null],[4,[38,2],[[32,0,["toggleMinimizeTrackingControlName"]]],null],[12],[2,"\\n      "],[8,"presence@entity-with-presence",[],[["@alt","@title","@miniProfile","@size"],[[32,0,["authenticatedUser","miniProfile","fullName"]],[32,0,["authenticatedUser","miniProfile","fullName"]],[32,0,["authenticatedUser","miniProfile"]],1]],null],[2,"\\n      "],[10,"button"],[14,0,"msg-overlay-bubble-header__button truncate ml2"],[14,4,"button"],[12],[2,"\\n        "],[10,"span"],[15,0,[31,["truncate t-14 t-bold\\n            ",[30,[36,10],[[32,0,["hasBadge"]],"msg-overlay-bubble-header-dark--active","t-black"],null]]]],[12],[2,"\\n          "],[10,"span"],[14,"aria-hidden","true"],[12],[2,"\\n            "],[1,[30,[36,1],["messaging","msg-overlay/components/list-bubble"],null]],[2,"\\n          "],[13],[2,"\\n          "],[10,"span"],[14,0,"visually-hidden"],[12],[2,"\\n            "],[1,[30,[36,10],[[32,0,["isMinimized"]],[30,[36,1],["a11y_open_overlay","msg-overlay/components/list-bubble"],null],[30,[36,1],["a11y_minimize_overlay","msg-overlay/components/list-bubble"],null]],null]],[2,"\\n          "],[13],[2,"\\n        "],[13],[2,"\\n      "],[13],[2,"\\n\\n"],[6,[37,10],[[32,0,["hasBadge"]]],null,[["default"],[{"statements":[[2,"        "],[10,"mark"],[14,0,"msg-overlay-bubble-header__unread-count"],[14,"aria-hidden","true"],[12],[2,"\\n          "],[10,"abbr"],[15,"title",[30,[36,1],["a11y_unseen_messages","msg-overlay/components/list-bubble"],[["count"],[[32,0,["msgOverlayService","unseenMsgCount"]]]]]],[12],[2,"\\n            "],[1,[32,0,["msgOverlayService","unseenMsgCount"]]],[2,"\\n          "],[13],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[]}]]],[6,[37,10],[[32,0,["enableRealtimeConnectionStatus"]]],null,[["default"],[{"statements":[[2,"        "],[10,"div"],[12],[2,"\\n          "],[1,[30,[36,14],null,[["type","class"],["flash-on-icon",[30,[36,15],["msg-overlay-bubble-header__realtime-indicator ",[32,0,["realtimeStatusClassName"]]],null]]]]],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"    "],[13],[2,"\\n    "],[10,"div"],[14,0,"msg-overlay-bubble-header__controls display-flex"],[12],[2,"\\n"],[2,"      "],[8,"artdeco-dropdown@artdeco-dropdown",[],[["@isOpen","@onVisibilityChange","@placement","@justification","@onClick","@shouldTriggerRetainFocus"],[[32,0,["isHeaderDropdownMenuOpen"]],[30,[36,0],[[32,0],"isHeaderDropdownMenuOpen"],null],[32,0,["headerDropdownMenuPlacement"]],"right",[32,0,["stopEvtPropagation"]],false]],[["default"],[{"statements":[[2,"\\n        "],[8,[32,5,["dropdown-trigger"]],[[4,[38,2],["overlay.dropdown_menu"],null]],[["@class"],[[31,["artdeco-button artdeco-button--1 artdeco-button--circle ",[30,[36,10],[[32,0,["hasBadge"]],"artdeco-button--primary","artdeco-button--muted artdeco-button--tertiary"],null]]]]],[["default"],[{"statements":[[2,"\\n          "],[1,[30,[36,14],null,[["a11y-text","type","size","color"],[[30,[36,1],["i18n_dropdown_menu_description","msg-overlay/components/list-bubble"],null],"ellipsis-horizontal-icon","small",true]]]],[2,"\\n        "]],"parameters":[]}]]],[2,"\\n        "],[10,"div"],[14,0,"msg-overlay-bubble-header__dropdown-container"],[12],[2,"\\n          "],[8,[32,5,["dropdown-content"]],[],[["@arrowDir"],["right"]],[["default"],[{"statements":[[2,"\\n            "],[10,"ul"],[14,0,"white-space-nowrap"],[12],[2,"\\n"],[6,[37,10],[[32,0,["showManageConversationsButtonInHeaderDropdown"]]],null,[["default"],[{"statements":[[2,"                "],[8,"artdeco-dropdown@artdeco-dropdown-item",[[4,[38,2],["overlay.enter_bulk_selection"],null]],[["@itemSelected","@role"],[[32,0,["enterBulkActionsMode"]],"button"]],[["default"],[{"statements":[[2,"\\n                  "],[10,"div"],[14,0,"display-flex align-items-center"],[12],[2,"\\n                    "],[10,"span"],[12],[2,"\\n                      "],[1,[30,[36,1],["i18n_manage_conversations","msg-overlay/components/list-bubble"],null]],[2,"\\n                    "],[13],[2,"\\n                  "],[13],[2,"\\n                "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]}]]],[2,"              "],[8,"artdeco-dropdown@artdeco-dropdown-item",[[4,[38,2],["overlay.connection_list_settings_from_dropdown"],null]],[["@itemSelected","@role"],[[32,0,["openMessagingSettingsModal"]],"button"]],[["default"],[{"statements":[[2,"\\n                "],[1,[30,[36,1],["i18n_messaging_settings","msg-overlay/components/list-bubble"],null]],[2,"\\n              "]],"parameters":[]}]]],[2,"\\n"],[6,[37,12],[[32,0,["enableFocusedInbox"]]],null,[["default"],[{"statements":[[6,[37,10],[[32,0,["showMessageRequestInboxInHeaderDropdown"]]],null,[["default"],[{"statements":[[2,"                  "],[8,"artdeco-dropdown@artdeco-dropdown-item",[[4,[38,2],["overlay.overflow_view_message_request_inbox"],null]],[["@itemSelected","@role"],[[32,0,["openMessageRequestConversationList"]],"button"]],[["default"],[{"statements":[[2,"\\n                    "],[1,[30,[36,1],["i18n_message_request_inbox","msg-overlay/components/list-bubble"],null]],[2,"\\n                  "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"\\n"],[6,[37,10],[[30,[36,9],[[32,0,["currentConvosFilter"]],"MESSAGE_REQUEST_PENDING"],null]],null,[["default"],[{"statements":[[2,"                "],[8,"artdeco-dropdown@artdeco-dropdown-item",[[4,[38,2],["overlay.view_declined_message_requests"],null]],[["@itemSelected","@role"],[[32,0,["openDeclinedMessageRequestConversationList"]],"button"]],[["default"],[{"statements":[[2,"\\n                  "],[1,[30,[36,1],["i18n_declined_message_requests","msg-overlay/components/list-bubble"],null]],[2,"\\n                "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]}]]],[2,"              "],[8,"artdeco-dropdown@artdeco-dropdown-item",[],[["@itemSelected","@role"],[[32,0,["openAwayMessageSettingsModal"]],"button"]],[["default"],[{"statements":[[2,"\\n                "],[1,[30,[36,10],[[32,0,["msgDataManager","awayMessageSettings","length"]],[30,[36,1],["i18n_update_away_message","msg-overlay/components/list-bubble"],null],[30,[36,1],["i18n_set_away_message","msg-overlay/components/list-bubble"],null]],null]],[2,"\\n              "]],"parameters":[]}]]],[2,"\\n"],[6,[37,10],[[32,0,["isCompanyUser"]]],null,[["default"],[{"statements":[[2,"                "],[8,"artdeco-dropdown@artdeco-dropdown-item",[],[["@itemSelected","@role"],[[32,0,["copyRealtimePayload"]],"button"]],[["default"],[{"statements":[[2,"\\n                  "],[1,[30,[36,1],["i18n_copy_realtime_payload","msg-overlay/components/list-bubble"],null]],[2,"\\n                "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]}]]],[2,"            "],[13],[2,"\\n          "]],"parameters":[]}]]],[2,"\\n        "],[13],[2,"\\n      "]],"parameters":[5]}]]],[2,"\\n\\n"],[2,"      "],[8,"artdeco-button@artdeco-button",[[4,[38,2],["overlay.compose_message"],null]],[["@text","@type","@color","@circle","@size","@icon","@class","@click"],[[30,[36,1],["a11y_compose","msg-overlay/components/list-bubble"],null],[30,[36,10],[[32,0,["hasBadge"]],"primary","tertiary"],null],[30,[36,10],[[32,0,["hasBadge"]],"default","muted"],null],true,1,"compose-icon","msg-overlay-bubble-header__control msg-overlay-bubble-header__control--new-convo-btn",[32,0,["newConversation"]]]],null],[2,"\\n\\n"],[2,"      "],[8,"artdeco-button@artdeco-button",[[4,[38,2],[[30,[36,10],[[32,0,["isMinimized"]],"overlay_maximize_inbox","overlay_minimize_inbox"],null]],null]],[["@type","@color","@text","@circle","@size","@icon","@class","@click"],[[30,[36,10],[[32,0,["hasBadge"]],"primary","tertiary"],null],[30,[36,10],[[32,0,["hasBadge"]],"default","muted"],null],[30,[36,10],[[32,0,["isMinimized"]],[30,[36,1],["a11y_open_overlay","msg-overlay/components/list-bubble"],null],[30,[36,1],["a11y_minimize_overlay","msg-overlay/components/list-bubble"],null]],null],true,1,[30,[36,10],[[32,0,["isMinimized"]],"chevron-up-icon","chevron-down-icon"],null],"msg-overlay-bubble-header__control msg-overlay-bubble-header__control--new-convo-btn",[32,0,["toggleMinimize"]]]],null],[2,"\\n    "],[13],[2,"\\n  "],[13],[2,"\\n"],[6,[37,10],[[32,0,["shouldRenderContent"]]],null,[["default"],[{"statements":[[6,[37,10],[[32,0,["isBulkActionsMode"]]],null,[["default"],[{"statements":[[2,"      "],[8,"msg-ui@primitives/bulk-actions-panel",[],[["@selectedConversations","@willExecuteBulkAction","@didExecuteBulkAction","@onExitBulkActionsMode","@isOverlay"],[[32,0,["selectedConversations"]],[32,0,["willExecuteBulkAction"]],[32,0,["didExecuteBulkAction"]],[32,0,["onExitBulkActionsMode"]],true]],null],[2,"\\n"]],"parameters":[]}]]],[2,"\\n    "],[8,"msg-overlay@list-bubble-search",[],[["@openNewConversation","@openBubble","@currentConvosFilter","@onFilterApply","@onClearFilters","@showSearchInput","@onSearchTermChange"],[[32,8],[32,7],[32,0,["currentConvosFilter"]],[32,0,["applyFilter"]],[32,0,["clearFilters"]],[32,0,["showSearchInput"]],[32,0,["onSearchTermChange"]]]],[["default"],[{"statements":[[2,"\\n      "],[8,[32,4,["filterSection"]],[],[[],[]],[["default"],[{"statements":[[2,"\\n        "],[8,"msg-ui@selected-filter",[],[["@clearFilter","@currentFilter","@trackingPrefix","@disabled","@loadedUnreadConversations"],[[32,0,["clearFilters"]],[32,0,["currentConvosFilter"]],"overlay.",[32,0,["isBulkActionsMode"]],[32,0,["loadedUnreadConversations"]]]],null],[2,"\\n      "]],"parameters":[]}]]],[2,"\\n    "]],"parameters":[4]}]]],[2,"\\n\\n    "],[10,"div"],[14,0,"msg-overlay-list-bubble__top-static-area"],[12],[2,"\\n"],[6,[37,10],[[32,0,["showFocusedInboxTabs"]]],null,[["default"],[{"statements":[[2,"        "],[8,"msg-ui@focused-inbox-tabs",[],[["@currentSelection","@showSecondaryTabBadge","@onPrimaryTabSelect","@onSecondaryTabSelect","@isOverlay"],[[32,0,["inboxType"]],[32,0,["hasUnseenSecondaryConversations"]],[30,[36,3],[[32,0,["switchInboxTab"]],"PRIMARY"],null],[30,[36,3],[[32,0,["switchInboxTab"]],"SECONDARY"],null],true]],null],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,10],[[32,0,["showKindnessReminder"]]],null,[["default"],[{"statements":[[2,"        "],[8,"msg-ui@inbox-onboarding-widget",[[24,0,"msg-overlay-list-bubble__kindness-reminder"]],[["@type","@legoConfig","@text","@primaryActionText","@onImpression","@onDismiss","@onPrimary"],["basic",[32,0,["kindnessReminderLegoConfig"]],[30,[36,1],["i18n_kindness_reminder_text","msg-overlay/components/list-bubble"],null],[30,[36,1],["i18n_kindness_reminder_learn_more","msg-overlay/components/list-bubble"],null],[32,0,["impressionKindnessReminder"]],[32,0,["onKindnessReminderWidgetDismiss"]],[32,0,["clickKindnessReminder"]]]],null],[2,"\\n"]],"parameters":[]}]]],[2,"\\n      "],[8,"msg-ui@away-message-reminder-banner",[],[[],[]],null],[2,"\\n\\n"],[6,[37,12],[[32,0,["currentConvosFilter"]]],null,[["default"],[{"statements":[[6,[37,12],[[32,0,["isBulkActionsMode"]]],null,[["default"],[{"statements":[[6,[37,10],[[32,0,["showAwayMessageOnboarding"]]],null,[["default"],[{"statements":[[2,"            "],[8,"msg-ui@inbox-onboarding-widget",[],[["@title","@text","@legoConfig","@onDismiss","@onPrimary","@primaryActionText"],[[30,[36,1],["i18n_away_message_onboarding_title","msg-overlay/components/list-bubble"],null],[30,[36,1],["i18n_away_message_onboarding_text","msg-overlay/components/list-bubble"],null],[32,0,["awayMessageOnboardingLegoConfig"]],[30,[36,0],[[32,0],"showAwayMessageOnboarding",false],null],[30,[36,0],[[32,0],"awayMessageSettingsModalIsOpen",true],null],[30,[36,1],["i18n_set_away_message","msg-overlay/components/list-bubble"],null]]],[["default"],[{"statements":[[2,"\\n              "],[8,[32,3,["leftSection"]],[],[[],[]],[["default"],[{"statements":[[2,"\\n                "],[1,[30,[36,14],null,[["type","size","color"],["linkedin-bug","21dp","premium"]]]],[2,"\\n              "]],"parameters":[]}]]],[2,"\\n            "]],"parameters":[3]}]]],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]],[2,"    "],[13],[2,"\\n\\n"],[6,[37,10],[[32,0,["inboxDataFetchFailed"]]],null,[["default","else"],[{"statements":[[2,"      "],[10,"div"],[14,0,"msg-overlay-list-bubble__failed-to-connect-container text-align-center"],[12],[2,"\\n        "],[10,"h3"],[14,0,"t-16 t-black--light t-normal ph3 pb5"],[12],[2,"\\n          "],[1,[30,[36,1],["i18n_failed_connect","msg-overlay/components/list-bubble"],null]],[2,"\\n        "],[13],[2,"\\n        "],[8,"artdeco-button@artdeco-button",[[4,[38,2],["overlay.retry"],null]],[["@click","@type","@text"],[[32,0,["refetchInboxData"]],"secondary",[30,[36,1],["i18n_try_again","msg-overlay/components/list-bubble"],null]]],null],[2,"\\n      "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,10],[[32,0,["showMarkingAllReadLoader"]]],null,[["default"],[{"statements":[[2,"        "],[8,"msg-ui@loader",[[16,0,[30,[36,10],[[32,0,["currentConvosFilter"]],"full-height justify-center"],null]]],[["@size","@textPosition","@text","@border"],["xsmall","right",[30,[36,1],["i18n_mark_all_read_progress_text_v2","msg-overlay/components/list-bubble"],null],[30,[36,10],[[30,[36,11],[[32,0,["currentConvosFilter"]]],null],"bottom"],null]]],null],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,12],[[32,0,["hideConversationsList"]]],null,[["default"],[{"statements":[[2,"        "],[10,"section"],[14,0,"scrollable msg-overlay-list-bubble__content msg-overlay-list-bubble__content--scrollable"],[12],[2,"\\n"],[2,"          "],[11,"div"],[4,[38,13],null,[["when"],[[32,0,["shouldScrollToTop"]]]]],[12],[13],[2,"\\n"],[2,"          "],[10,"div"],[14,0,"msg-overlay-list-bubble__default-conversation-container"],[12],[2,"\\n"],[6,[37,10],[[30,[36,9],[[32,0,["currentConvosFilter"]],"MESSAGE_REQUEST_PENDING"],null]],null,[["default","else"],[{"statements":[[2,"              "],[8,"msg-ui@message-request-list-header",[],[["@trackingKey","@goBack"],["back_to_inbox_from_requests_overlay",[32,0,["backToInboxFromMessageRequestList"]]]],null],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,10],[[30,[36,9],[[32,0,["currentConvosFilter"]],"MESSAGE_REQUEST_DECLINED"],null]],null,[["default"],[{"statements":[[2,"              "],[8,"msg-ui@message-request-list-header",[],[["@isDeclinedList","@trackingKey","@goBack"],[true,"back_to_message_requests_from_declined_messages_overlay",[32,0,["messageRequestListHeaderOnGoBack"]]]],null],[2,"\\n            "]],"parameters":[]}]]]],"parameters":[]}]]],[2,"\\n"],[6,[37,10],[[32,0,["inboxDataLoaded"]]],null,[["default","else"],[{"statements":[[6,[37,10],[[32,0,["shouldShowSecondaryPreviewBanner"]]],null,[["default","else"],[{"statements":[[2,"                "],[10,"div"],[14,0,"msg-conversation-card msg-ui-focused-inbox-secondary-preview-banner__secondary-preview-banner-card display-flex"],[12],[2,"\\n                  "],[8,"msg-ui@focused-inbox-secondary-preview-banner",[],[["@classNames","@onClicked","@isOverlay"],[[31,["pl2 ",[30,[36,12],[[32,0,["showContextualRecommendations"]],"mb2"],null]," mh2 mt2 "]],[30,[36,3],[[32,0,["switchInboxTab"]],"SECONDARY"],null],true]],null],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,10],[[32,0,["showFocusedInboxOnboarding"]]],null,[["default"],[{"statements":[[2,"                "],[8,"msg-ui@focused-inbox-onboarding-widget",[],[[],[]],null],[2,"\\n              "]],"parameters":[]}]]]],"parameters":[]}]]],[6,[37,10],[[32,0,["showContextualRecommendations"]]],null,[["default"],[{"statements":[[2,"                "],[8,"msg-overlay@contextual-recommendation-list",[],[["@suggestedRecipients","@openNewConversation","@classNames"],[[32,0,["msgOverlayService","suggestedRecipients"]],[32,8],[31,[[30,[36,10],[[32,0,["shouldShowSecondaryPreviewBanner"]],"mt1","mt2"],null]," "]]]],null],[2,"\\n"]],"parameters":[]}]]],[2,"\\n              "],[10,"span"],[14,0,"visually-hidden"],[12],[2,"\\n                "],[1,[30,[36,1],["i18n_a11y_infinite_scroll","msg-overlay/components/list-bubble"],null]],[2,"\\n              "],[13],[2,"\\n"],[6,[37,10],[[32,0,["showContextualRecommendations"]]],null,[["default"],[{"statements":[[6,[37,12],[[32,0,["showMessageRequestBanner"]]],null,[["default"],[{"statements":[[2,"                  "],[10,"header"],[14,0,"msg-overlay-list-bubble__list-header"],[12],[2,"\\n                    "],[10,"h5"],[14,0,"msg-overlay-list-bubble__list-header-title t-12 t-black--light t-bold truncate"],[12],[2,"\\n                      "],[1,[30,[36,1],["i18n_messages","msg-overlay/components/list-bubble"],null]],[2,"\\n                    "],[13],[2,"\\n                  "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[6,[37,10],[[32,0,["showMessageRequestBanner"]]],null,[["default"],[{"statements":[[2,"                "],[8,"msg-ui@message-request-banner-v2",[],[["@messageRequestBundle","@openMessageRequestConversationList","@trackingKey"],[[32,0,["pendingMessageRequestBundle"]],[32,0,["openMessageRequestConversationList"]],"overlay.bundle_view_message_request_inbox"]],null],[2,"\\n"]],"parameters":[]}]]],[2,"\\n              "],[10,"div"],[14,0,"msg-conversations-container__conversations-list msg-overlay-list-bubble__conversations-list"],[12],[2,"\\n"],[6,[37,10],[[30,[36,9],[[32,0,["conversations","length"]],0],null]],null,[["default","else"],[{"statements":[[6,[37,10],[[30,[36,11],[[32,0,["currentConvosFilter"]]],null]],null,[["default","else"],[{"statements":[[6,[37,10],[[32,0,["hasStrongNetwork"]]],null,[["default","else"],[{"statements":[[2,"                      "],[8,"msg-overlay@novice-state",[],[["@memberConnections","@newConversation"],[[32,0,["memberConnections"]],[32,0,["newConversation"]]]],null],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                      "],[8,"msg-overlay@abi-flow",[],[["@isAbiComplete"],[[32,0,["isAbiComplete"]]]],null],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]},{"statements":[[2,"                    "],[10,"div"],[12],[2,"\\n                      "],[10,"div"],[14,0,"msg-overlay-list-bubble__illustration msg-overlay-list-bubble__no-results-image"],[12],[13],[2,"\\n"],[6,[37,10],[[30,[36,9],[[32,0,["currentConvosFilter"]],"CONNECTIONS"],null]],null,[["default"],[{"statements":[[2,"                        "],[10,"h4"],[14,0,"t-16 t-black t-bold ph text-align-center ph6"],[12],[2,"\\n                          "],[1,[30,[36,1],["i18n_no_messages_from_connections","msg-overlay/components/list-bubble"],null]],[2,"\\n                        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                      "],[10,"p"],[14,0,"text-align-center mb4"],[12],[2,"\\n"],[6,[37,10],[[30,[36,9],[[32,0,["currentConvosFilter"]],"BLOCKED"],null]],null,[["default","else"],[{"statements":[[2,"                          "],[1,[30,[36,1],["i18n_no_spam_messages","msg-overlay/components/list-bubble"],null]],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,10],[[30,[36,9],[[32,0,["currentConvosFilter"]],"UNREAD"],null]],null,[["default","else"],[{"statements":[[2,"                          "],[1,[30,[36,1],["i18n_no_unread_messages","msg-overlay/components/list-bubble"],null]],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,10],[[30,[36,9],[[32,0,["currentConvosFilter"]],"INMAIL"],null]],null,[["default","else"],[{"statements":[[2,"                          "],[1,[30,[36,1],["i18n_no_inmail_messages","msg-overlay/components/list-bubble"],null]],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,10],[[30,[36,9],[[32,0,["currentConvosFilter"]],"MESSAGE_REQUEST_PENDING"],null]],null,[["default","else"],[{"statements":[[2,"                          "],[1,[30,[36,1],["i18n_no_message_request","msg-overlay/components/list-bubble"],null]],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,10],[[30,[36,9],[[32,0,["currentConvosFilter"]],"MESSAGE_REQUEST_DECLINED"],null]],null,[["default","else"],[{"statements":[[2,"                          "],[1,[30,[36,1],["i18n_no_declined_message_request","msg-overlay/components/list-bubble"],null]],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,10],[[30,[36,9],[[32,0,["currentConvosFilter"]],"CONNECTIONS"],null]],null,[["default","else"],[{"statements":[[2,"                          "],[1,[30,[36,1],["i18n_reach_out_message","msg-overlay/components/list-bubble"],null]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                          "],[1,[30,[36,1],["i18n_no_results_found","msg-overlay/components/list-bubble"],null]],[2,"\\n                        "]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]],[2,"                      "],[13],[2,"\\n"],[6,[37,10],[[30,[36,9],[[32,0,["currentConvosFilter"]],"CONNECTIONS"],null]],null,[["default"],[{"statements":[[2,"                        "],[10,"div"],[14,0,"full-width display-flex justify-center"],[12],[2,"\\n                          "],[8,"artdeco-button@artdeco-button",[[24,0,"ph0"]],[["@click","@text","@type"],[[32,0,["newConversation"]],[30,[36,1],["i18n_create_new_message","msg-overlay/components/list-bubble"],null],"tertiary"]],null],[2,"\\n                        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                    "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]},{"statements":[[6,[37,8],[[30,[36,7],[[30,[36,7],[[32,0,["conversations"]]],null]],null]],[["key"],["@index"]],[["default"],[{"statements":[[2,"                    "],[8,"msg-overlay@list-bubble-item",[[4,[38,6],[[30,[36,3],[[32,0,["createListBubbleItemImpressionEvent"]],[32,1]],null]],[["routeName","currentRoute"],[[30,[36,5],[[30,[36,4],["outletState"],null],"render.name"],null],[30,[36,5],[[30,[36,4],["outletState"],null],"render"],null]]]]],[["@conversation","@convoIndex","@openBubble","@disableBulkActions","@isBulkActionsMode","@handleBulkActionToggle"],[[32,1],[32,2],[32,7],[32,0,["showMessageRequestConversationList"]],[32,0,["isBulkActionsMode"]],[30,[36,3],[[32,0,["onListBubbleItemClick"]],[32,1]],null]]],null],[2,"\\n"]],"parameters":[1,2]}]]]],"parameters":[]}]]],[2,"              "],[13],[2,"\\n"],[6,[37,10],[[32,0,["loadMoreError"]]],null,[["default"],[{"statements":[[2,"                "],[10,"div"],[14,0,"p4 mb6"],[12],[2,"\\n                  "],[8,"artdeco-empty-state@artdeco-empty-state",[],[["@class","@headline","@illustration","@message","@muted"],["msg-conversations-container__load-error",[30,[36,1],["i18n_oops","msg-overlay/components/list-bubble"],null],"no-connection",[30,[36,1],["i18n_load_more_error","msg-overlay/components/list-bubble"],null],true]],null],[2,"\\n                  "],[8,"artdeco-button@artdeco-button",[[4,[38,2],["overlay.retry"],null]],[["@class","@click","@text","@type"],["js-retry-button block mlA mrA",[32,0,["retryLoadMore"]],[30,[36,1],["i18n_try_again","msg-overlay/components/list-bubble"],null],"secondary"]],null],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]}]]],[6,[37,10],[[32,0,["loadMoreInProgress"]]],null,[["default"],[{"statements":[[2,"                "],[10,"div"],[12],[2,"\\n                  "],[8,"artdeco-loader@artdeco-loader",[],[["@size"],["small"]],null],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]},{"statements":[[2,"              "],[8,"msg-ui@loader",[[24,0,"full-height justify-center"]],[["@size"],["small"]],null],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,10],[[32,0,["shouldLoadMoreConversations"]]],null,[["default"],[{"statements":[[2,"              "],[8,"msg-ui@visible-beacon",[],[["@inView","@rootSelector"],[[32,0,["loadMore"]],".msg-overlay-list-bubble__content"]],null],[2,"\\n"]],"parameters":[]}]]],[2,"          "],[13],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]],[2,"\\n"],[6,[37,10],[[32,0,["isMessagingSettingsModalOpen"]]],null,[["default"],[{"statements":[[2,"    "],[8,"msg-shared-modals@msg-settings-modal",[],[["@messagingSettings","@closeModal"],[[32,6],[30,[36,0],[[32,0],"isMessagingSettingsModalOpen",false],null]]],null],[2,"\\n"]],"parameters":[]}]]],[6,[37,10],[[32,0,["awayMessageSettingsModalIsOpen"]]],null,[["default"],[{"statements":[[2,"    "],[8,"msg-shared-modals@away-message-settings-modal",[],[["@closeModal"],[[30,[36,0],[[32,0],"awayMessageSettingsModalIsOpen",false],null]]],null],[2,"\\n"]],"parameters":[]}]]],[13]],"hasEval":false,"upvars":["ember-set-helper@set","t","ember-cli-pemberly-tracking@track-interaction","fn","-get-dynamic-var","get","ember-cli-pemberly-tracking@track-impression","-track-array","each","global-helpers@eq","if","global-helpers@not","unless","global-modifiers@scroll-into-view","artdeco-icons-web@li-icon","concat","msg-shared@block-scrolling","on"]}',moduleName:"msg-overlay/components/list-bubble.hbs"}),{IMPRESSION_KEYS:{CONVERSATION:mt},MODULE_KEYS:{OVERLAY_CONVERSATION_LIST:ut},MESSAGE_REQUEST_STATUS:{MESSAGE_REQUEST_PENDING:dt,MESSAGE_REQUEST_DECLINED:pt},MESSAGE_REQUEST_TARGET_URLS:bt,OVERLAY_LS_CONVERSATIONS_FILTER_KEY:gt,OVERLAY:{QUALITY_MEMBER_CONNECTIONS_THRESHOLD:ht},OVERLAY_FILTERS_INTERACTION_EVENTS:vt,PAGEVIEW_KEYS:yt,KINDNESS_REMINDER_LEGO:ft,AWAY_MESSAGE_ONBOARDING_LEGO:_t,INBOX_TYPES:Et}=i.default
let Ct=(b=Ember.inject.service("authentication@authenticated-user"),g=Ember.inject.service("global-nav-badge@badge"),h=Ember.inject.service("global-services@clipboard"),v=Ember.inject.service("lix"),y=Ember.inject.service("tracking"),f=Ember.inject.service("i18n"),_=Ember.inject.service("global-services@window"),E=Ember.inject.service("global-services@a11y-notification"),C=Ember.inject.service("heathrow@heathrow"),w=Ember.inject.service("msg-overlay-manager@msg-overlay-manager"),S=Ember.inject.service("global-services@realtime-events"),M=Ember.inject.service("store"),O=Ember.inject.service("global-services@local-storage"),k=Ember.inject.service("lego@resolver"),R=Ember.inject.service("lego@tracking"),x=Ember.inject.service("msg-ui@messaging-user-settings"),I=Ember.inject.service("msg-data@data-manager"),D=Ember.inject.service("persistent-toast-manager@persistent-toast-manager"),P=Ember.inject.service("rum"),T=(0,p.localCopy)("args.filterFromDeeplink"),A=Ember._tracked,N=Ember._tracked,L=Ember._tracked,B=Ember._tracked,z=Ember._tracked,F=Ember._tracked,j=Ember._tracked,U=Ember._tracked,V=Ember._tracked,q=Ember._tracked,G=Ember._tracked,H=Ember._tracked,K=Ember._tracked,Y=Ember._tracked,J=Ember._tracked,W=Ember._tracked,X=Ember._tracked,Q=Ember._action,$=Ember._action,Z=Ember._action,ee=Ember._action,te=Ember._action,ne=Ember._action,ae=Ember._action,oe=Ember._action,se=Ember._action,ie=Ember._action,re=Ember._action,le=Ember._action,ce=Ember._action,me=Ember._action,ue=Ember._action,de=Ember._action,pe=Ember._action,be=Ember._action,ge=Ember._action,he=Ember._action,ve=Ember._action,ye=Ember._action,fe=Ember._action,_e=Ember._action,Ee=Ember._action,Ce=Ember._action,we=Ember._action,Se=Ember._action,Me=class extends d.default{get isMinimized(){return this.msgOverlayService.listBubbleIsMinimized}get shouldRenderContent(){return!this.isMinimized||this.isInMinimizeTransition}get showMessageRequestConversationList(){return this.currentConvosFilter===dt||this.currentConvosFilter===pt}get showSearchInput(){return!this.isBulkActionsMode&&(!this.showMessageRequestConversationList||this.enableFocusedInbox)}get showFocusedInboxTabs(){return this.enableFocusedInbox&&(!this.currentConvosFilter||this.currentConvosFilter===dt)}get showMessageRequestInboxInHeaderDropdown(){return!this.showMessageRequestConversationList}get showManageConversationsButtonInHeaderDropdown(){return!this.showMessageRequestConversationList}get showContextualRecommendations(){return!this.currentConvosFilter&&this.msgOverlayService.suggestedRecipients}get toggleMinimizeTrackingControlName(){return this.isMinimized?"overlay.maximize_connection_list_bar":"overlay.minimize_connection_list_bar"}get hideConversationsList(){return"UNREAD"===this.currentConvosFilter&&this.showMarkingAllReadLoader}get hasBadge(){return this.msgOverlayService.unseenMsgCount>0&&(!this.msgOverlayService.forcedMinimizedAtRoute||this.args.realtimeMsgNotAutoOpened)}get hasStrongNetwork(){return this.numConnections>ht}get showMessageRequestBanner(){return!this.enableFocusedInbox&&this.pendingMessageRequestBundle&&!this.currentConvosFilter}get showFocusedInboxOnboarding(){return this.enableFocusedInbox&&!this.currentConvosFilter&&!this.isBulkActionsMode}get showKindnessReminder(){return!this.kindnessReminderShown&&!this.currentConvosFilter&&!this.isBulkActionsMode}get realtimeStatusClassName(){return this.realtimeEvents.hasActiveConnection?"msg-overlay-bubble-header__realtime-indicator--online":"msg-overlay-bubble-header__realtime-indicator--offline"}get headerDropdownMenuPlacement(){return this.isMinimized?"top":"bottom"}get shouldLoadMoreConversations(){return!!this.conversationCollection&&(!this.conversationCollection.lastSetOfRecordsLoaded&&!this.loadMoreInProgress&&this.inboxDataLoaded&&!this.loadMoreError)}get showMarkingAllReadLoader(){return this.msgDataManager.progressIndicatorState.markAllReadIndicator&&(!this.currentConvosFilter||"UNREAD"===this.currentConvosFilter)}get conversationCollection(){if(this.enableInboxManager){let e
e=this.currentConvosFilter?this.currentConvosFilter:this.enableFocusedInbox?this.inboxType:Et.MAIN_INBOX
return this.msgDataManager.inboxManager.getConversationCollectionByName(e)}return this.currentConvosFilter?this.msgDataManager.getConversationCollection(this.currentConvosFilter):this.msgDataManager.allConversationsCollection}get conversations(){var e,t
const n=null===(e=this.conversationCollection)||void 0===e?void 0:e.data
return null!==(t=this.currentConvosFilter?n:null==n?void 0:n.filter((e=>!Ember.get(e,"archived")&&!Ember.get(e,"blocked"))))&&void 0!==t?t:[]}get loadedUnreadConversations(){var e,t
return null!==(e=null===(t=this.conversations)||void 0===t?void 0:t.filter((e=>!Ember.get(e,"read"))))&&void 0!==e?e:[]}get useNewCoachmark(){return this.lix.getTreatmentIsEnabled("voyager.web.discover-messaging-enable-coachmark")}get enableRealtimeConnectionStatus(){return this.lix.getTreatmentIsEnabled("voyager.messaging.web.show-realtime-connection-status")}get isCompanyUser(){return this.lix.getTreatmentIsEnabled("voyager.client.staff")}get enableFocusedInbox(){return this.lix.getTreatmentIsEnabled("voyager.web.messaging-focused-inbox-experience")}get enableInboxManager(){return this.lix.getTreatmentIsEnabled("voyager.web.messaging-inbox-manager")}get hasUnseenSecondaryConversations(){return!(!this.enableInboxManager||!this.enableFocusedInbox)&&null!==this.msgDataManager.inboxManager.secondaryPreviewBannerData}get shouldShowSecondaryPreviewBanner(){return this.hasUnseenSecondaryConversations&&(!this.currentConvosFilter||this.currentConvosFilter===dt)&&"PRIMARY"===this.inboxType}get shouldScrollToTop(){const e=this.conversationCollection!==this._previousConversationCollection
this._previousConversationCollection=this.conversationCollection
return e}constructor(){super(...arguments);(0,n.default)(this,"listBubbleId",`list-bubble-${Ember.guidFor(this)}`);(0,t.default)(this,"authenticatedUser",Oe,this);(0,t.default)(this,"badgeService",ke,this);(0,t.default)(this,"clipboard",Re,this);(0,t.default)(this,"lix",xe,this);(0,t.default)(this,"tracking",Ie,this);(0,t.default)(this,"i18n",De,this);(0,t.default)(this,"windowService",Pe,this);(0,t.default)(this,"a11yNotification",Te,this);(0,t.default)(this,"heathrow",Ae,this);(0,t.default)(this,"msgOverlayService",Ne,this);(0,t.default)(this,"realtimeEvents",Le,this);(0,t.default)(this,"store",Be,this);(0,t.default)(this,"localStorage",ze,this);(0,t.default)(this,"legoResolver",Fe,this);(0,t.default)(this,"legoTracking",je,this);(0,t.default)(this,"msgUserSettings",Ue,this);(0,t.default)(this,"msgDataManager",Ve,this);(0,t.default)(this,"persistentToastManager",qe,this);(0,t.default)(this,"rum",Ge,this);(0,t.default)(this,"currentConvosFilter",He,this);(0,t.default)(this,"isHeaderDropdownMenuOpen",Ke,this);(0,t.default)(this,"isMessagingSettingsModalOpen",Ye,this);(0,t.default)(this,"inboxDataFetchInProgress",Je,this);(0,t.default)(this,"inboxDataLoaded",We,this);(0,t.default)(this,"inboxDataFetchFailed",Xe,this);(0,t.default)(this,"loadMoreError",Qe,this);(0,t.default)(this,"loadMoreInProgress",$e,this);(0,t.default)(this,"pendingMessageRequestBundle",Ze,this);(0,t.default)(this,"numConnections",et,this);(0,t.default)(this,"memberConnections",tt,this);(0,t.default)(this,"awayMessageSettingsModalIsOpen",nt,this);(0,t.default)(this,"selectedConversations",at,this);(0,t.default)(this,"isBulkActionsMode",ot,this);(0,t.default)(this,"searchTerm",st,this);(0,t.default)(this,"inboxType",it,this);(0,t.default)(this,"isInMinimizeTransition",rt,this);(0,n.default)(this,"bubblePageKey","d_flagship3_messaging_overlay_connections.page");(0,n.default)(this,"bubbleMinimizeProperty","isMinimized");(0,n.default)(this,"kindnessReminderLegoConfig",ft);(0,n.default)(this,"kindnessReminderHelpCenterLink","/legal/professional-community-policies");(0,n.default)(this,"awayMessageOnboardingLegoConfig",_t);(0,t.default)(this,"kindnessReminderShown",lt,this);(0,n.default)(this,"_previousConversationCollection",null)
this.badging=this.badgeService
this.showAwayMessageOnboarding=this.authenticatedUser.isPremiumUser
new r.default(this.legoResolver,this.legoTracking,this.msgUserSettings,this.store,this.tracking,this.lix).run()
const e=this.rum.startPerfMeasurement("messaging-list-bubble-initial-render")
Ember.run.schedule("afterRender",(()=>{e&&!e.isClosed&&this.rum.endPerfMeasurement(e)}))
this.msgDataManager.subscribe((e=>{"conversationBundleUpdate"===e&&(this.pendingMessageRequestBundle=this.msgDataManager.getConversationBundleByTargetUrl(bt.URL_PENDING))}))
this._fetchInboxData(this.currentConvosFilter)}_fetchInboxData(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1]
if(this.inboxDataFetchInProgress||this.inboxDataLoaded)return Ember.RSVP.reject()
this.inboxDataFetchInProgress=!0
this.inboxDataLoaded=!1
const n=this._loadConversations(e,t),a=this._loadConversationBundles(t)
return Ember.RSVP.hashSettled({conversations:n,conversationBundles:a}).then((e=>{var t,n,a
if(this.isDestroying)return Ember.RSVP.reject()
if("rejected"===Ember.get(e.conversations,"state")){this.inboxDataFetchFailed=!0
this.tracking.firePageViewEvent(yt.OVERLAY_FAILED_TO_CONNECT)
return Ember.RSVP.resolve()}if(!(this.conversations.length||null!==(t=this.msgOverlayService.suggestedRecipients)&&void 0!==t&&t.length))return this._fetchFallbackStateData()
null===(n=(a=this.args).afterInboxDataFetch)||void 0===n||n.call(a,this.conversations)
return Ember.RSVP.resolve(e)})).finally((()=>{if(!this.isDestroying){this.inboxDataFetchInProgress=!1
this.inboxDataLoaded=!0}}))}_fetchFallbackStateData(){const{store:e}=this,t=this.heathrow.organicAbiShouldSkipImport(),n={connectionSummary:e.findRecord("com.linkedin.voyager.relationships.shared.connection.ConnectionsSummary","GET",{reload:!1,adapterOptions:{url:`/${s.default.namespace}/relationships/connectionsSummary/`}}),isAbiComplete:t}
return Ember.RSVP.hashSettled(n).then((t=>{var n
if(this.isDestroying)return Ember.RSVP.reject()
this.isAbiComplete=t.isAbiComplete.value
this.numConnections=null!==(n=Ember.get(t,"connectionSummary.value.numConnections"))&&void 0!==n?n:0
return this.numConnections>=ht?e.queryURL(`/${s.default.namespace}/relationships/connections`,{params:{start:0,count:4},reload:!1}):Ember.RSVP.resolve()})).then((e=>{if(this.isDestroying)return Ember.RSVP.reject()
e&&(this.memberConnections=Ember.get(e,"elements"))
return e}))}_loadConversations(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1]
const n=e||this.localStorage.getItem(gt)
if(n)return this.loadConversationsByFilter(n).then((()=>{this.isDestroying||this.tracking.firePageViewEvent(yt.OVERLAY_CONVERSATION_FILTERED_LIST[n])}))
let a
if(this.enableInboxManager){const{inboxManager:e}=this.msgDataManager
a=e.inboxDataLoaded&&!t?Ember.RSVP.resolve([]):e.syncInbox()}else{const e=this.msgDataManager.allConversationsCollection
if(e.hasInitialFetch)return Ember.RSVP.resolve()
a=e.fetchAndLoad({count:20})}return a}_loadConversationBundles(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0]
const t=this.msgDataManager.getConversationBundleByTargetUrl(bt.URL_PENDING)
if(!e&&t){this.pendingMessageRequestBundle=t
return Ember.RSVP.resolve()}return this.msgDataManager.fetchConversationBundles().then((()=>{this.isDestroying||(this.pendingMessageRequestBundle=this.msgDataManager.getConversationBundleByTargetUrl(bt.URL_PENDING))}))}switchInboxTab(e){this.inboxType=e
this.isBulkActionsMode=!1
"SECONDARY"===e&&this.enableInboxManager&&this.msgDataManager.inboxManager.markSecondaryInboxAsSeen()
const t="PRIMARY"===e?"flagship3_messaging_overlay_primary_tab":"flagship3_messaging_overlay_secondary_tab"
this.tracking.firePageViewEvent(t)}loadConversationsByFilter(e){this.isBulkActionsMode=!1
this.inboxDataLoaded=!1
this.inboxDataFetchInProgress=!0
this.currentConvosFilter=e
let t,n
t=e===dt?{q:"systemLabel",type:dt,excludedSystemLabelTypes:["SPAM","ARCHIVE"]}:e===pt?{q:"systemLabel",type:pt,excludedSystemLabelTypes:["SPAM","ARCHIVE"]}:"ARCHIVED"===e?{q:"search",folders:[e]}:e?{q:"search",filters:[e]}:{}
if(this.enableInboxManager){let n
n=e?this.msgDataManager.inboxManager.loadCollection(e,t):this.msgDataManager.inboxManager.syncInbox()
return n.finally((()=>{if(!this.isDestroying){this.inboxDataLoaded=!0
this.inboxDataFetchInProgress=!1}}))}if(e){n=this.msgDataManager.initConversationCollection({name:e,initialQuery:t})
if(n.hasInitialFetch){n.resetCollection()
n.hasInitialFetch=!1}}else n=this.msgDataManager.allConversationsCollection
return n.fetchAndLoad(t).finally((()=>{if(!this.isDestroying){this.inboxDataLoaded=!0
this.inboxDataFetchInProgress=!1}}))}refetchInboxData(){this.inboxDataFetchFailed=!1
this.inboxDataFetchInProgress=!1
this.inboxDataLoaded=!1
this._fetchInboxData("",!0)}infiniteScroll(){return this.loadMore()}_updateMinimizedState(e){(0,u.runTask)(this,(()=>this.msgOverlayService.updateListBubbleMinimizeState(e)))}loadMore(){var e,t
if(this.loadMoreInProgress)return Ember.RSVP.resolve()
if(0===(null===(e=this.conversations)||void 0===e?void 0:e.length))return Ember.RSVP.resolve()
this.loadMoreInProgress=!0
this.loadMoreError=!1
return(this.enableInboxManager?this.msgDataManager.inboxManager.loadMore(this.conversationCollection.name):null===(t=this.conversationCollection)||void 0===t?void 0:t.fetchAndLoadMore()).then((e=>{const t=e.length
if(!this.isDestroying){const e=this.i18n.lookupTranslation("components/msg-ui@i18n-shared","i18n_a11y_infinite_scroll_conversations")
this.a11yNotification.setTextInLiveRegion(e([{newRecordCount:t}]))}const n=this.rum.startPerfMeasurement("messaging-list-bubble-render-load-more")
Ember.run.schedule("afterRender",(()=>{n&&!n.isClosed&&this.rum.endPerfMeasurement(n)}))
return t})).catch((e=>{this.isDestroying||(this.loadMoreError=!0)
throw e})).finally((()=>{this.isDestroying||(this.loadMoreInProgress=!1)}))}newConversation(e,t){var n,a
e&&e.stopPropagation()
null===(n=(a=this.args).newConversation)||void 0===n||n.call(a,t)}retryLoadMore(){this.loadMore()}stopEvtPropagation(e){e&&e.stopPropagation()}toggleMinimize(e){var t
null==e||null===(t=e.stopPropagation)||void 0===t||t.call(e)
this.isInMinimizeTransition=!0
if(this.isMinimized){this.badging.getBadgeCount("messaging")>0&&this.badging.fireBadgeInteractionEvent(document.getElementById(this.listBubbleId),"msg-overlay-list-bubble-header","messaging")
this.msgOverlayService.markAllAsSeen()
const e=this.rum.startPerfMeasurement("messaging-list-bubble-manual-open")
Ember.run.schedule("afterRender",(()=>{e&&!e.isClosed&&this.rum.endPerfMeasurement(e)}))}this.msgOverlayService.toggleListBubbleMinimized()
this.isMinimized||this.tracking.firePageViewEvent(this.bubblePageKey)}openMessageRequestConversationList(){this.loadConversationsByFilter(dt)
this.isHeaderDropdownMenuOpen=!1
this.tracking.firePageViewEvent("d_flagship3_messaging_overlay_pending_request_inbox")}backToInboxFromMessageRequestList(){this.loadConversationsByFilter("")
this.tracking.fireInteractionEvent("overlay.back_to_inbox_from_requests")
this.msgDataManager.refreshConversationBundles()}openDeclinedMessageRequestConversationList(){this.loadConversationsByFilter(pt)
this.isHeaderDropdownMenuOpen=!1
this.tracking.firePageViewEvent("d_flagship3_messaging_overlay_declined_request_inbox")}openAwayMessageSettingsModal(e){null==e||e.stopPropagation()
this.awayMessageSettingsModalIsOpen=!0}openMessagingSettingsModal(e){e&&e.stopPropagation()
this.isMessagingSettingsModalOpen=!0}onListBubbleItemClick(e){var t
e.toggleProperty("checked")
this.selectedConversations=null===(t=this.conversations)||void 0===t?void 0:t.filter((e=>Ember.get(e,"checked")))
!this.isBulkActionsMode&&this.selectedConversations.length>0?this.isBulkActionsMode=!0:0===this.selectedConversations.length&&(this.isBulkActionsMode=!1)
const n=Ember.get(e,"checked")?"overlay.bulk_select_conversation":"overlay.bulk_unselect_conversation"
this.tracking.fireInteractionEvent(n)}enterBulkActionsMode(e){e&&e.stopPropagation()
this.isMinimized&&this.toggleMinimize()
this.isBulkActionsMode=!0
this.isHeaderDropdownMenuOpen=!1}onExitBulkActionsMode(){this.selectedConversations=[]
this.isBulkActionsMode=!1}willExecuteBulkAction(){this.isBulkActionsMode=!1}didExecuteBulkAction(e){"delete"===e&&this.selectedConversations.forEach((e=>{this.msgOverlayService.conversationBubbleLayoutManager.closeBubbleByConversation(e)}))}applyFilter(e){e?this.localStorage.setItem(gt,e):this.localStorage.removeItem(gt)
this.loadConversationsByFilter(e).then((()=>{this.tracking.firePageViewEvent(yt.OVERLAY_CONVERSATION_FILTERED_LIST[e||"ALL"])}))
this.tracking.fireInteractionEvent(vt.SELECT[e||"ALL"],"SHORT_PRESS")}clearFilters(){this.localStorage.removeItem(gt)
this.tracking.fireInteractionEvent(vt.DISMISS[this.currentConvosFilter],"SHORT_PRESS")
this.loadConversationsByFilter("")}impressionKindnessReminder(){this.tracking.firePageViewEvent("d_flagship3_messaging_overlay_kindness_banner")}clickKindnessReminder(){this.tracking.fireInteractionEvent("overlay.open_kindness_banner")
if(l.default){const e=this.kindnessReminderHelpCenterLink
if(!e)return
this.windowService.open(e,"_blank")}}onSearchTermChange(e){this.searchTerm=e}createListBubbleItemImpressionEvent(e){return this.isDestroying||this.isDestroyed?[]:{name:mt,body:{moduleKey:ut,conversations:[{objectUrn:Ember.get(e,"backendUrn"),trackingId:(0,c.generateTrackingId)()}],participantPresenceStatuses:(0,m.getParticipantPresenceStatuses)(e)}}}onKindnessReminderWidgetDismiss(){this.kindnessReminderShown=!0
this.tracking.fireInteractionEvent("overlay.dismiss_kindness_banner")}messageRequestListHeaderOnGoBack(){this.loadConversationsByFilter(dt)
this.tracking.fireInteractionEvent("overlay.back_to_message_requests_from_declined_messages")}copyRealtimePayload(){const e=this.clipboard.copyToClipboard(JSON.stringify(this.realtimeEvents.getRealtimePayloadDump()))
this.isHeaderDropdownMenuOpen=!1
if(e){const e=this.i18n.lookupTranslation("components/msg-overlay@list-bubble-v2","i18n_realtime_payload_copied")([])
this.persistentToastManager.success({message:e})}}},Oe=(0,a.default)(Me.prototype,"authenticatedUser",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ke=(0,a.default)(Me.prototype,"badgeService",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Re=(0,a.default)(Me.prototype,"clipboard",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xe=(0,a.default)(Me.prototype,"lix",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ie=(0,a.default)(Me.prototype,"tracking",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),De=(0,a.default)(Me.prototype,"i18n",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pe=(0,a.default)(Me.prototype,"windowService",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Te=(0,a.default)(Me.prototype,"a11yNotification",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ae=(0,a.default)(Me.prototype,"heathrow",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ne=(0,a.default)(Me.prototype,"msgOverlayService",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Le=(0,a.default)(Me.prototype,"realtimeEvents",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Be=(0,a.default)(Me.prototype,"store",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ze=(0,a.default)(Me.prototype,"localStorage",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fe=(0,a.default)(Me.prototype,"legoResolver",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),je=(0,a.default)(Me.prototype,"legoTracking",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ue=(0,a.default)(Me.prototype,"msgUserSettings",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ve=(0,a.default)(Me.prototype,"msgDataManager",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qe=(0,a.default)(Me.prototype,"persistentToastManager",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ge=(0,a.default)(Me.prototype,"rum",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),He=(0,a.default)(Me.prototype,"currentConvosFilter",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ke=(0,a.default)(Me.prototype,"isHeaderDropdownMenuOpen",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ye=(0,a.default)(Me.prototype,"isMessagingSettingsModalOpen",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Je=(0,a.default)(Me.prototype,"inboxDataFetchInProgress",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),We=(0,a.default)(Me.prototype,"inboxDataLoaded",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Xe=(0,a.default)(Me.prototype,"inboxDataFetchFailed",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Qe=(0,a.default)(Me.prototype,"loadMoreError",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),$e=(0,a.default)(Me.prototype,"loadMoreInProgress",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ze=(0,a.default)(Me.prototype,"pendingMessageRequestBundle",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),et=(0,a.default)(Me.prototype,"numConnections",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),tt=(0,a.default)(Me.prototype,"memberConnections",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),nt=(0,a.default)(Me.prototype,"awayMessageSettingsModalIsOpen",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),at=(0,a.default)(Me.prototype,"selectedConversations",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ot=(0,a.default)(Me.prototype,"isBulkActionsMode",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),st=(0,a.default)(Me.prototype,"searchTerm",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),it=(0,a.default)(Me.prototype,"inboxType",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Et.PRIMARY}}),rt=(0,a.default)(Me.prototype,"isInMinimizeTransition",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),lt=(0,a.default)(Me.prototype,"kindnessReminderShown",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),(0,a.default)(Me.prototype,"switchInboxTab",[Q],Object.getOwnPropertyDescriptor(Me.prototype,"switchInboxTab"),Me.prototype),(0,a.default)(Me.prototype,"loadConversationsByFilter",[$],Object.getOwnPropertyDescriptor(Me.prototype,"loadConversationsByFilter"),Me.prototype),(0,a.default)(Me.prototype,"refetchInboxData",[Z],Object.getOwnPropertyDescriptor(Me.prototype,"refetchInboxData"),Me.prototype),(0,a.default)(Me.prototype,"infiniteScroll",[ee],Object.getOwnPropertyDescriptor(Me.prototype,"infiniteScroll"),Me.prototype),(0,a.default)(Me.prototype,"loadMore",[te],Object.getOwnPropertyDescriptor(Me.prototype,"loadMore"),Me.prototype),(0,a.default)(Me.prototype,"newConversation",[ne],Object.getOwnPropertyDescriptor(Me.prototype,"newConversation"),Me.prototype),(0,a.default)(Me.prototype,"retryLoadMore",[ae],Object.getOwnPropertyDescriptor(Me.prototype,"retryLoadMore"),Me.prototype),(0,a.default)(Me.prototype,"stopEvtPropagation",[oe],Object.getOwnPropertyDescriptor(Me.prototype,"stopEvtPropagation"),Me.prototype),(0,a.default)(Me.prototype,"toggleMinimize",[se],Object.getOwnPropertyDescriptor(Me.prototype,"toggleMinimize"),Me.prototype),(0,a.default)(Me.prototype,"openMessageRequestConversationList",[ie],Object.getOwnPropertyDescriptor(Me.prototype,"openMessageRequestConversationList"),Me.prototype),(0,a.default)(Me.prototype,"backToInboxFromMessageRequestList",[re],Object.getOwnPropertyDescriptor(Me.prototype,"backToInboxFromMessageRequestList"),Me.prototype),(0,a.default)(Me.prototype,"openDeclinedMessageRequestConversationList",[le],Object.getOwnPropertyDescriptor(Me.prototype,"openDeclinedMessageRequestConversationList"),Me.prototype),(0,a.default)(Me.prototype,"openAwayMessageSettingsModal",[ce],Object.getOwnPropertyDescriptor(Me.prototype,"openAwayMessageSettingsModal"),Me.prototype),(0,a.default)(Me.prototype,"openMessagingSettingsModal",[me],Object.getOwnPropertyDescriptor(Me.prototype,"openMessagingSettingsModal"),Me.prototype),(0,a.default)(Me.prototype,"onListBubbleItemClick",[ue],Object.getOwnPropertyDescriptor(Me.prototype,"onListBubbleItemClick"),Me.prototype),(0,a.default)(Me.prototype,"enterBulkActionsMode",[de],Object.getOwnPropertyDescriptor(Me.prototype,"enterBulkActionsMode"),Me.prototype),(0,a.default)(Me.prototype,"onExitBulkActionsMode",[pe],Object.getOwnPropertyDescriptor(Me.prototype,"onExitBulkActionsMode"),Me.prototype),(0,a.default)(Me.prototype,"willExecuteBulkAction",[be],Object.getOwnPropertyDescriptor(Me.prototype,"willExecuteBulkAction"),Me.prototype),(0,a.default)(Me.prototype,"didExecuteBulkAction",[ge],Object.getOwnPropertyDescriptor(Me.prototype,"didExecuteBulkAction"),Me.prototype),(0,a.default)(Me.prototype,"applyFilter",[he],Object.getOwnPropertyDescriptor(Me.prototype,"applyFilter"),Me.prototype),(0,a.default)(Me.prototype,"clearFilters",[ve],Object.getOwnPropertyDescriptor(Me.prototype,"clearFilters"),Me.prototype),(0,a.default)(Me.prototype,"impressionKindnessReminder",[ye],Object.getOwnPropertyDescriptor(Me.prototype,"impressionKindnessReminder"),Me.prototype),(0,a.default)(Me.prototype,"clickKindnessReminder",[fe],Object.getOwnPropertyDescriptor(Me.prototype,"clickKindnessReminder"),Me.prototype),(0,a.default)(Me.prototype,"onSearchTermChange",[_e],Object.getOwnPropertyDescriptor(Me.prototype,"onSearchTermChange"),Me.prototype),(0,a.default)(Me.prototype,"createListBubbleItemImpressionEvent",[Ee],Object.getOwnPropertyDescriptor(Me.prototype,"createListBubbleItemImpressionEvent"),Me.prototype),(0,a.default)(Me.prototype,"onKindnessReminderWidgetDismiss",[Ce],Object.getOwnPropertyDescriptor(Me.prototype,"onKindnessReminderWidgetDismiss"),Me.prototype),(0,a.default)(Me.prototype,"messageRequestListHeaderOnGoBack",[we],Object.getOwnPropertyDescriptor(Me.prototype,"messageRequestListHeaderOnGoBack"),Me.prototype),(0,a.default)(Me.prototype,"copyRealtimePayload",[Se],Object.getOwnPropertyDescriptor(Me.prototype,"copyRealtimePayload"),Me.prototype),Me)
e.default=Ct
Ember._setComponentTemplate(ct,Ct)}))
define.alias("ember-media-player/components/media-player","msg-overlay/components/media-player")
define.alias("ember-media-player/components/media-player/big-play-button","msg-overlay/components/media-player/big-play-button")
define.alias("ember-media-player/components/media-player/caption","msg-overlay/components/media-player/caption")
define.alias("ember-media-player/components/media-player/control/back-to-start","msg-overlay/components/media-player/control/back-to-start")
define.alias("ember-media-player/components/media-player/control/captions-menu","msg-overlay/components/media-player/control/captions-menu")
define.alias("ember-media-player/components/media-player/control/custom","msg-overlay/components/media-player/control/custom")
define.alias("ember-media-player/components/media-player/control/fullscreen","msg-overlay/components/media-player/control/fullscreen")
define.alias("ember-media-player/components/media-player/control/next","msg-overlay/components/media-player/control/next")
define.alias("ember-media-player/components/media-player/control/playback-rate","msg-overlay/components/media-player/control/playback-rate")
define.alias("ember-media-player/components/media-player/control/previous","msg-overlay/components/media-player/control/previous")
define.alias("ember-media-player/components/media-player/control/settings","msg-overlay/components/media-player/control/settings")
define.alias("ember-media-player/components/media-player/control/settings/auto-advance","msg-overlay/components/media-player/control/settings/auto-advance")
define.alias("ember-media-player/components/media-player/control/settings/autoplay","msg-overlay/components/media-player/control/settings/autoplay")
define.alias("ember-media-player/components/media-player/control/settings/quality","msg-overlay/components/media-player/control/settings/quality")
define.alias("ember-media-player/components/media-player/control/skipahead","msg-overlay/components/media-player/control/skipahead")
define.alias("ember-media-player/components/media-player/control/skipback","msg-overlay/components/media-player/control/skipback")
define.alias("ember-media-player/components/media-player/control/theater-mode","msg-overlay/components/media-player/control/theater-mode")
define.alias("ember-media-player/components/media-player/end-screen","msg-overlay/components/media-player/end-screen")
define.alias("ember-media-player/components/media-player/error-screen","msg-overlay/components/media-player/error-screen")
define("msg-overlay/components/messaging-overlay-container",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@glimmer/component","global-utils/utils/is-browser","msg-shared/utils/document-is-hidden","msg-ui/utils/notification-sounds","msg-shared/utils/constants","msg-data/utils/messaging-settings","msg-shared/helpers/is-sponsored-conversation","ember-lifeline","msg-shared/helpers/is-inmail-conversation","msg-shared/helpers/get-participant-names"],(function(e,t,n,a,o,s,i,r,l,c,m,u,d,p,b){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var g,h,v,y,f,_,E,C,w,S,M,O,k,R,x,I,D,P,T,A,N,L,B,z,F,j,U,V,q,G,H,K,Y,J,W,X,Q,$,Z,ee,te,ne,ae,oe,se,ie,re,le
const ce=Ember.HTMLBars.template({id:"1gnbqswC",block:'{"symbols":["bubble","bubble"],"statements":[[6,[37,2],[[32,0,["focusedMessagingMode"]]],null,[["default"],[{"statements":[[2,"  "],[10,"span"],[14,0,"msg-overlay-container__dimmed-background"],[12],[13],[2,"\\n"]],"parameters":[]}]]],[10,"aside"],[14,1,"msg-overlay"],[14,0,"msg-overlay-container msg-overlay-container-reflow"],[12],[2,"\\n  "],[8,"msg-overlay@list-bubble",[],[["@filterFromDeeplink","@realtimeMsgNotAutoOpened","@messagingSettings","@newConversation","@openBubble","@afterInboxDataFetch"],[[32,0,["filterFromDeeplink"]],[32,0,["realtimeMsgNotAutoOpened"]],[32,0,["messagingSettings"]],[32,0,["newConversation"]],[32,0,["openConversation"]],[32,0,["afterInboxDataFetch"]]]],null],[2,"\\n\\n"],[6,[37,4],[[30,[36,3],[[30,[36,3],[[32,0,["conversationBubbleLayoutManager","avBubbles"]]],null]],null]],null,[["default"],[{"statements":[[2,"    "],[8,"msg-overlay@audio-bubble",[],[["@bubble","@bubbleId","@closeBubble","@isMinimized","@toggleMinimize"],[[32,2],[30,[36,1],[[32,0,["conversationBubbleLayoutManager","avBubbleIds"]],[32,2]],null],[30,[36,0],[[32,0,["closeAVBubble"]],[32,2]],null],[32,0,["isAudioBubbleMinimized"]],[32,0,["toggleAudioBubbleMinimized"]]]],null],[2,"\\n"]],"parameters":[2]}]]],[2,"\\n"],[6,[37,4],[[30,[36,3],[[30,[36,3],[[32,0,["conversationBubbleLayoutManager","openBubbles"]]],null]],null]],null,[["default"],[{"statements":[[2,"    "],[8,"msg-overlay@conversation-bubble",[],[["@bubble","@closeBubble","@handleSuccessfulDiscardRequest","@messagingSettings","@newConversation"],[[32,1],[30,[36,0],[[32,0,["closeBubble"]],[32,1]],null],[32,0,["handleSuccessfulDiscardRequest"]],[32,0,["messagingSettings"]],[32,0,["newConversation"]]]],null],[2,"\\n"]],"parameters":[1]}]]],[2,"\\n"],[2,"  "],[10,"div"],[14,1,"msg-overlay__emoji-hoverable-outlet"],[12],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["fn","global-helpers@map-get","if","-track-array","each"]}',moduleName:"msg-overlay/components/messaging-overlay-container.hbs"}),{CONTROL_NAMES:{OVERLAY:me},MESSAGE_TYPE:ue}=c.default,de=/^messaging/,pe=/^profile/,be=/^(feed.update.index|jobs.view.index|companies.company.index|profile.view.index.index)/
let ge=(g=Ember.inject.service("prefetch"),h=Ember.inject.service("i18n"),v=Ember.inject.service("global-nav-badge@badge"),y=Ember.inject.service("authentication@authenticated-user"),f=Ember.inject.service("profile-services@identity-store"),_=Ember.inject.service("lix"),E=Ember.inject.service("router"),C=Ember.inject.service("tracking"),w=Ember.inject.service("msg-overlay-manager@msg-overlay-manager"),S=Ember.inject.service("html-document-title@document-title-poller"),M=Ember.inject.service("msg-shared@first-message"),O=Ember.inject.service("msg-data@data-manager"),k=Ember.inject.service("msg-shared@component-context"),R=Ember.inject.service("client-sensor-web@client-sensor"),x=Ember.inject.service("rum"),I=Ember._tracked,D=Ember._tracked,P=Ember._tracked,T=Ember._tracked,A=Ember._action,N=Ember._action,L=Ember._action,B=Ember._action,z=Ember._action,F=Ember._action,j=Ember._action,U=Ember._action,V=Ember._action,q=class extends s.default{get conversationBubbleLayoutManager(){return this.msgOverlayManager.conversationBubbleLayoutManager}get isMessagingRoute(){var e
return null===(e=this.router.currentRouteName)||void 0===e?void 0:e.match(de)}get isProfileRoute(){var e
return null===(e=this.router.currentRouteName)||void 0===e?void 0:e.match(pe)}get isContextualRoute(){var e
return null===(e=this.router.currentRouteName)||void 0===e?void 0:e.match(be)}get isAudioBubbleMinimized(){return this.msgOverlayManager.audioBubbleIsMinimized}constructor(){super(...arguments);(0,n.default)(this,"rumComponentId","msg-overlay");(0,t.default)(this,"prefetch",G,this);(0,t.default)(this,"i18n",H,this);(0,t.default)(this,"badgeService",K,this);(0,t.default)(this,"authenticatedUser",Y,this);(0,t.default)(this,"identityStore",J,this);(0,t.default)(this,"lix",W,this);(0,t.default)(this,"router",X,this);(0,t.default)(this,"tracking",Q,this);(0,t.default)(this,"msgOverlayManager",$,this);(0,t.default)(this,"documentTitle",Z,this);(0,t.default)(this,"firstMessage",ee,this);(0,t.default)(this,"msgDataManager",te,this);(0,t.default)(this,"msgComponentContextService",ne,this);(0,t.default)(this,"clientSensor",ae,this);(0,t.default)(this,"rum",oe,this);(0,t.default)(this,"filterFromDeeplink",se,this);(0,t.default)(this,"focusedMessagingMode",ie,this);(0,t.default)(this,"messagingSettings",re,this);(0,t.default)(this,"realtimeMsgNotAutoOpened",le,this)
this.msgComponentContextService.setTo("overlay")
const e=Ember.get(this,"router.currentRoute.queryParams"),a=e&&"true"===e.msgOverlay
a&&this._handleDeeplink(e)
this._showFirstMessage()
this.msgOverlayManager.setUnseenConvoCountFromBadge()
this._fetchMessagingSettings().then((e=>{if(!this.isDestroying){this.messagingSettings=e
a||this._restoreCachedState(e)}}))
this._attachListeners()
this.msgDataManager.subscribe(this.onEvent.bind(this))
this._downloadDeferredAssets()
this.msgOverlayManager.setOverlayHasLoaded()}willDestroy(){this.msgOverlayManager.off("newConversation",this,"_newConversation")}_downloadDeferredAssets(){this.prefetch.prefetchAssets("msg-conversation-ui")
this.prefetch.prefetchAssets("msg-spinmail")
this.prefetch.prefetchAssets("tenor-gif")}_fetchMessagingSettings(){return(0,m.findMessagingSettingsRequest)(this.identityStore,this.lix,"com.linkedin.voyager.identity.profile.MessagingSettings",Ember.get(this,"authenticatedUser.miniProfile.entityUrn")).catch((e=>{this.messageSettings={pressEnterToSend:!0}
throw e}))}_restoreCachedState(e){const t=this.msgOverlayManager.getCachedOverlayData()
Ember.get(e,"messagingOverlayPopups")&&this._setListMinimizedState(t)
Object.keys(t).length&&this._showCachedConvos(t)}_handleDeeplink(e){const{chatId:t,msgConversationId:n,msgRecipientId:a,msgCompose:o,msgRecent:s,msgFilter:i,msgControlName:r}=e
this.filterFromDeeplink=i
if("true"===o){let e=Ember.RSVP.resolve()
a&&(e=this.identityStore.findRecord("com.linkedin.voyager.identity.shared.MiniProfile",a))
e.then((e=>{if(!this.isDestroying){this._newConversation({isMinimized:!1,isJumbo:!0,isNew:!0,messageRecipients:e?[e]:void 0})
this.msgOverlayManager.updateListBubbleMinimizeState(!1)
this._measureListBubbleAutomaticOpenPerformance()
this.focusedMessagingMode=!0}}))}else n?this.msgDataManager.fetchConversation(n).then((e=>{this.isDestroying||this._showDeeplinkedConvo(e,r)})):t?this._showConversationPreview(t):s&&(this.shouldOpenMostRecentConversation=!0)}afterInboxDataFetch(e){if(!this.isDestroying){this.conversationDataFetched=!0
this.msgOverlayManager.listBubbleIsMinimized||this._measureListBubbleAutomaticOpenPerformance()
if(this.shouldOpenMostRecentConversation){e.length&&this._showDeeplinkedConvo(e[0])
this.shouldOpenMostRecentConversation=!1}}}_showConversationPreview(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1]
this._newConversation({previewKey:e,isConversationPreview:!0,isMinimized:!1,isJumbo:!0,focusInputOnInit:!0})
this.focusedMessagingMode=t}_showDeeplinkedConvo(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:""
this._createConversationBubble({conversation:e,inmailReplyDeepLink:t,isMinimized:!1,isJumbo:!0,hasUnseenMessages:!Ember.get(e,"read"),focusInputOnInit:!0})
this.msgOverlayManager.updateListBubbleMinimizeState(!1)
this._measureListBubbleAutomaticOpenPerformance()
this.focusedMessagingMode=!0}_attachListeners(){if(i.default){(0,d.addEventListener)(this,window,"blur",this._onWindowBlur.bind(this));(0,d.addEventListener)(this,window,"focus",this._onWindowFocus.bind(this));(0,d.addEventListener)(this,document,"click",this._exitFocusedMessagingMode);(0,d.addEventListener)(this,window,"visibilitychange",this._handleVisibilityChange.bind(this))
this.msgOverlayManager.on("newConversation",this,"_newConversation")
this.msgOverlayManager.on("conversationPreview",this,"openConversationPreview")
this.msgOverlayManager.on("conversationLoadingState",this,"openNewLoadingBubble")
this.msgOverlayManager.on("closeExistingBubble",this._closeBubbleByConversation.bind(this))}}_exitFocusedMessagingMode(e){let{target:t}=e
t.classList&&t.classList.contains("msg-overlay-container__dimmed-background")&&(this.focusedMessagingMode=!1)}_setListMinimizedState(e){if(this.msgOverlayManager.forcedMinimizedAtRoute)return
const t=Ember.get(e,"_listBubble")
if(t&&!Ember.get(t,"isMinimized")){this.msgOverlayManager.updateListBubbleMinimizeState(!1)
this._measureListBubbleAutomaticOpenPerformance()}}_showCachedConvos(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})._conversationWindows
if(!e||this.msgOverlayManager.forcedMinimizedAtRoute)return
const t=e.reduce(((e,t)=>{let{convoRecordPromises:n,cachedConvoJumboState:a,cachedConvoMinimzedState:o}=e
const{convoId:s,isJumbo:i,isMinimized:r}=t,l=this.msgDataManager.fetchConversation(s)
n.push(l)
a[s]=i
o[s]=r
return{convoRecordPromises:n,cachedConvoJumboState:a,cachedConvoMinimzedState:o}}),{convoRecordPromises:[],cachedConvoJumboState:{},cachedConvoMinimzedState:{}})
Ember.RSVP.all(t.convoRecordPromises).then((e=>{e.forEach((e=>{var n
this.msgDataManager.fetchParticipantReceipts(Ember.get(e,"entityUrn")).then((t=>{this.msgDataManager.seenReceiptsManager.setSeenReceipts(Ember.get(e,"entityUrn"),t)}))
const a=null!==(n=t.cachedConvoJumboState[e.id])&&void 0!==n?n:Ember.get(e,"groupChat")
this._createConversationBubble({conversation:e,isMinimized:!Ember.get(this.messagingSettings,"messagingOverlayPopups")||t.cachedConvoMinimzedState[e.id],isJumbo:a,hasUnseenMessages:!Ember.get(e,"read")})}))}))}_measureListBubbleAutomaticOpenPerformance(){if(this.conversationDataFetched&&!this.listBubbleAutomaticOpenPerfMeasurement&&!this.listBubbleAutomaticOpenPerfMeasurement){this.listBubbleAutomaticOpenPerfMeasurement=this.rum.startPerfMeasurement("messaging-list-bubble-automatic-open")
Ember.run.schedule("afterRender",(()=>{this.listBubbleAutomaticOpenPerfMeasurement&&!this.listBubbleAutomaticOpenPerfMeasurement.isClosed&&this.rum.endPerfMeasurement(this.listBubbleAutomaticOpenPerfMeasurement)}))}}_isMessagingFormFocused(){if(i.default){const e=document.activeElement&&document.activeElement.classList
return e&&e.contains("msg-messaging-form__message")}return!1}_onWindowBlur(){this._isMessagingFormFocused()&&document.activeElement.blur()}_onWindowFocus(){this.documentTitle.resetTitle()}_handleVisibilityChange(){(0,r.default)()?this._isMessagingFormFocused()&&document.activeElement.blur():this._reloadOpenConversationEvents()}_reloadOpenConversationEvents(){return(this.msgOverlayManager.conversationBubbleLayoutManager.openBubbles||[]).forEach((e=>{if(e.conversation&&Ember.get(e.conversation,"id")){const t=Ember.get(e.conversation,"id")
this.msgDataManager.initEventCollection({name:`${t}`,conversationId:t}).fetchAndLoad({reload:!0})}}))}_fireWillRenderTrackingAndSetExpectedRenderState(e){this.clientSensor.incrementMetricCounter({groupName:"messaging",metricName:"realtime-message-should-be-rendered-in-overlay"})
const t=this.msgDataManager.receivedRealtimeMessages[Ember.get(e,"latestEvent.entityUrn")]
t&&(t.fireExpectedRenderClientSensor=!0)}_realtimeConversationCreated(e){const t=i.default&&document.hasFocus()&&!(0,r.default)()
if((0,p.isInmailConversation)(e)&&!t){this._playSound(l.notificationSounds.RECEIVE)
this._updateDocumentTitle(e)
return!1}if(Ember.get(e,"muted")||Ember.get(e,"latestEvent.subtype")!==ue.M2M&&Ember.get(e,"latestEvent.subtype")!==ue.INMAIL_REPLY)return!1
const n=this.conversationBubbleLayoutManager.getBubbleByConversation(e),{isMessagingRoute:a}=this
let o=!1
if(n){this._fireWillRenderTrackingAndSetExpectedRenderState(e)
if(n.isActive&&!n.isMinimized&&t)this.msgOverlayManager.markConversationAsRead(n)
else{Ember.set(n,"hasUnseenMessages",!0)
a||(o=!0)}}else if(!a&&"PENDING"!==Ember.get(e,"messageRequestState")&&"DECLINED"!==Ember.get(e,"messageRequestState")){this._createConversationBubble({conversation:e,focusInputOnInit:!1,hasUnseenMessages:!0,isJumbo:Ember.get(e,"groupChat"),isMinimized:!Ember.get(this.messagingSettings,"messagingOverlayPopups"),isTriggeredByRealtime:!0}).then((t=>{this.isDestroying||t&&this._fireWillRenderTrackingAndSetExpectedRenderState(e)}))
o=!0}if(o){this.badgeService.incrementBadge("messaging");(0,d.runTask)(this,(()=>{this.msgOverlayManager.setUnseenConvoCountFromBadge()}))}t||this._updateDocumentTitle(e)
this._playSound(l.notificationSounds.RECEIVE)
return!0}_closeBubbleByConversation(e){this.conversationBubbleLayoutManager.closeBubbleByConversation(e)}onEvent(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a]
switch(e){case"realtimeMessageReceived":this._realtimeConversationCreated(...n)
break
case"realtimeConversationDelete":this._closeBubbleByConversation(...n)}}_playSound(e){Ember.get(this.messagingSettings,"messagingOverlaySounds")&&e&&l.soundPlaybackUtils.playSound(e)}_updateDocumentTitle(e){let t,n;(0,d.runTask)(this,(()=>{if(!this.isDestroying){if(Ember.get(e,"groupChat")){t="i18n_participant_messaged_group"
n=Ember.get(e,"latestEvent.from.name")}else{t="i18n_participant_messaged_you"
n=Ember.get((0,b.getParticipantNames)(e),"firstObject")}const a=this.i18n.lookupTranslation("components/msg-overlay@messaging-overlay-container",t),o=jSecure.htmlUnencode(a([{senderName:n}]))
this.documentTitle.addTitle(o)}}))}_createConversationBubble(e){return this.msgOverlayManager.createConversationBubble(e).then((t=>{if(this.isDestroying)return!1
!t&&e.isTriggeredByRealtime&&(this.realtimeMsgNotAutoOpened=!0)
return t}))}_newConversation(){let{composeOptionType:e,contextualTrackingInfo:t,conversationId:n="",conversationPromise:a,forwardedAttachments:o=[],forwardedEvent:s,groupConversationName:i,inMailComposeViewContext:r,invitationUrn:l,is1on1Compose:c=!1,isConversationLoadingState:m=!1,isConversationPreview:u=!1,isInMailCompose:d=!1,isJumbo:p=!1,isOpenedFromMsgButton:b=!1,entryPointData:g={},message:h="",messageActions:v={},messageContext:y,messageRecipients:f=[],msgAdapterOptions:_,placeholderText:E,previewKey:C="",showGroupEditScreen:w,smpContent:S=null,subject:M="",trackingObject:O,update:k=null}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},R=f
Ember.isArray(R)||(R=[R])
if(!w){const e=this.conversationBubbleLayoutManager.getBubbleByRecipients(R)
if(e){if(!h)return
this.msgOverlayManager.closeConversationBubble(e)}}const x=!l&&d,I=p||x||s&&Ember.get(s,"isInMail")
this._createConversationBubble({attachments:o,composeOptionType:e,contextualTrackingInfo:t,conversationId:n,conversationPromise:a,entryPointData:g,focusInputOnInit:!0,forwardedEvent:s,groupConversationName:i,hasUnseenMessages:!1,inMailComposeViewContext:r,invitationUrn:l,is1on1Compose:c,isConversationLoadingState:m,isConversationPreview:u,isInMailCompose:x,isJumbo:I,isMinimized:!1,isNew:!0,isOpenedFromMsgButton:b,message:h,messageActions:v,messageContext:y,messageRecipients:R,msgAdapterOptions:_,placeholderText:E,previewKey:C,showGroupEditScreen:w,smpContent:S,subject:M,trackingObject:O,update:k})}_showFirstMessage(){const{i18n:e,firstMessage:t}=this,n=Ember.get(t.getMessageInfo()||{},"inviter")
n&&this._newConversation({messageRecipients:n,message:e.lookupTranslation("components/msg-overlay@messaging-overlay-container","i18n_first_message_prompt_doing_well")()})}openConversation(e){this.realtimeMsgNotAutoOpened&&(this.realtimeMsgNotAutoOpened=!1)
if(e){this.msgDataManager.fetchParticipantReceipts(Ember.get(e,"entityUrn")).then((t=>{this.msgDataManager.seenReceiptsManager.setSeenReceipts(Ember.get(e,"entityUrn"),t)}))
const t={conversation:e,isInMail:"INMAIL"===Ember.get(e,"latestEvent.subtype"),isMinimized:!1,focusInputOnInit:!0},n=this.conversationBubbleLayoutManager.getBubbleByConversation(e)
if(n)this.msgOverlayManager.unminimizeAndReadConversation(n)
else{t.isJumbo=Ember.get(e,"groupChat")||"INMAIL"===Ember.get(e,"latestEvent.subtype")||"SPONSORED_INMAIL"===Ember.get(e,"latestEvent.subtype")||(0,u.isSponsoredConversation)(e)&&1===Ember.get(e,"eventCollection.data").length
this._createConversationBubble(t)}"INMAIL"===Ember.get(e,"latestEvent.subtype")&&this.tracking.fireInteractionEvent(me.OPEN_INMAIL)}else this._createConversationBubble({isJumbo:!1,isMinimized:!1})}openConversationPreview(e){let{previewKey:t,focusMode:n=!1}=e
this._showConversationPreview(t,n)}openNewLoadingBubble(e){this._newConversation(e)}newConversation(){let{recipients:e,messageActions:t,contextualTrackingInfo:n,conversationPromise:a,isConversationLoadingState:o,isConversationPreview:s,previewKey:i,isInMailCompose:r,forwardedEvent:l,showGroupEditScreen:c,isJumbo:m,composeOptionType:u}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}
this._newConversation({conversationPromise:a,isConversationLoadingState:o,isConversationPreview:s,previewKey:i,isInMailCompose:r,contextualTrackingInfo:n,forwardedEvent:l,messageActions:t,messageRecipients:e,showGroupEditScreen:c,isJumbo:m,composeOptionType:u})}handleSuccessfulDiscardRequest(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1]
this._closeBubbleByConversation(e)
this.msgDataManager.removeConversation(Ember.get(e,"entityUrn"))
t&&e.unloadRecord()}closeBubble(e){this.focusedMessagingMode=!1
this.msgOverlayManager.closeConversationBubble(e)}closeAVBubble(e){this.msgOverlayManager.closeAVBubble(e)}toggleAudioBubbleMinimized(){this.msgOverlayManager.toggleAudioBubbleMinimized()}},G=(0,a.default)(q.prototype,"prefetch",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=(0,a.default)(q.prototype,"i18n",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=(0,a.default)(q.prototype,"badgeService",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=(0,a.default)(q.prototype,"authenticatedUser",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=(0,a.default)(q.prototype,"identityStore",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=(0,a.default)(q.prototype,"lix",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=(0,a.default)(q.prototype,"router",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=(0,a.default)(q.prototype,"tracking",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=(0,a.default)(q.prototype,"msgOverlayManager",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=(0,a.default)(q.prototype,"documentTitle",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ee=(0,a.default)(q.prototype,"firstMessage",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),te=(0,a.default)(q.prototype,"msgDataManager",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ne=(0,a.default)(q.prototype,"msgComponentContextService",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ae=(0,a.default)(q.prototype,"clientSensor",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),oe=(0,a.default)(q.prototype,"rum",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),se=(0,a.default)(q.prototype,"filterFromDeeplink",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ie=(0,a.default)(q.prototype,"focusedMessagingMode",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),re=(0,a.default)(q.prototype,"messagingSettings",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),le=(0,a.default)(q.prototype,"realtimeMsgNotAutoOpened",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,a.default)(q.prototype,"afterInboxDataFetch",[A],Object.getOwnPropertyDescriptor(q.prototype,"afterInboxDataFetch"),q.prototype),(0,a.default)(q.prototype,"openConversation",[N],Object.getOwnPropertyDescriptor(q.prototype,"openConversation"),q.prototype),(0,a.default)(q.prototype,"openConversationPreview",[L],Object.getOwnPropertyDescriptor(q.prototype,"openConversationPreview"),q.prototype),(0,a.default)(q.prototype,"openNewLoadingBubble",[B],Object.getOwnPropertyDescriptor(q.prototype,"openNewLoadingBubble"),q.prototype),(0,a.default)(q.prototype,"newConversation",[z],Object.getOwnPropertyDescriptor(q.prototype,"newConversation"),q.prototype),(0,a.default)(q.prototype,"handleSuccessfulDiscardRequest",[F],Object.getOwnPropertyDescriptor(q.prototype,"handleSuccessfulDiscardRequest"),q.prototype),(0,a.default)(q.prototype,"closeBubble",[j],Object.getOwnPropertyDescriptor(q.prototype,"closeBubble"),q.prototype),(0,a.default)(q.prototype,"closeAVBubble",[U],Object.getOwnPropertyDescriptor(q.prototype,"closeAVBubble"),q.prototype),(0,a.default)(q.prototype,"toggleAudioBubbleMinimized",[V],Object.getOwnPropertyDescriptor(q.prototype,"toggleAudioBubbleMinimized"),q.prototype),q)
e.default=ge
Ember._setComponentTemplate(ce,ge)}))
define("msg-overlay/components/novice-state",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const t=Ember.HTMLBars.template({id:"/NHNJrua",block:'{"symbols":["connection","@memberConnections","@newConversation","&attrs"],"statements":[[11,"div"],[24,0,"text-align-center p5"],[17,4],[12],[2,"\\n"],[6,[37,3],[[32,2]],null,[["default","else"],[{"statements":[[2,"    "],[10,"div"],[14,0,"mb4"],[12],[2,"\\n"],[6,[37,2],[[30,[36,1],[[30,[36,1],[[32,2]],null]],null]],null,[["default"],[{"statements":[[2,"        "],[8,"ember-vector-images@lazy-image",[],[["@image","@class","@ghostType","@width"],[[32,1,["miniProfile","picture"]],"EntityPhoto-circle-2-stackedFacepile","person",40]],null],[2,"\\n"]],"parameters":[1]}]]],[2,"    "],[13],[2,"\\n    "],[10,"h4"],[14,0,"t-16 t-black t-bold mb3"],[12],[2,"\\n      "],[1,[30,[36,0],["i18n_reach_out","msg-overlay/components/novice-state"],null]],[2,"\\n    "],[13],[2,"\\n    "],[10,"p"],[14,0,"t-14 t-black--light t-normal mb5"],[12],[2,"\\n      "],[1,[30,[36,0],["i18n_has_connections","msg-overlay/components/novice-state"],null]],[2,"\\n    "],[13],[2,"\\n    "],[8,"artdeco-button@artdeco-button",[],[["@click"],[[32,3]]],[["default"],[{"statements":[[2,"\\n      "],[1,[30,[36,0],["i18n_send_message","msg-overlay/components/novice-state"],null]],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"    "],[10,"p"],[14,0,"t-14 t-black--light t-normal"],[12],[2,"\\n      "],[1,[30,[36,0],["i18n_no_connections","msg-overlay/components/novice-state"],null]],[2,"\\n    "],[13],[2,"\\n"]],"parameters":[]}]]],[13]],"hasEval":false,"upvars":["t","-track-array","each","if"]}',moduleName:"msg-overlay/components/novice-state.hbs"})
var n=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=n}))
define("msg-overlay/components/overlay-conversation-list-item-presenter",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@glimmer/component","msg-shared/utils/constants"],(function(e,t,n,a,o,s,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var r,l,c,m,u,d,p
const b=Ember.HTMLBars.template({id:"xJSWUvRE",block:'{"symbols":["@viewData","&attrs","@handleBulkActionToggle","@isBulkActionsMode","@disableBulkActions"],"statements":[[11,"div"],[24,0,"msg-conversation-listitem__link msg-overlay-list-bubble__convo-item"],[24,"tabindex","0"],[24,"role","button"],[17,2],[4,[38,8],["click",[32,0,["onClick"]]],null],[4,[38,8],["keydown",[32,0,["onKeyDown"]]],null],[4,[38,8],["mousemove",[32,0,["onMouseMove"]]],null],[4,[38,9],[[32,0,["controlInteractionEventName"]]],null],[4,[38,9],[[32,0,["controlInteractionEventName"]]],[["interactionType","interactionKeys"],["KEYBOARD_PRESS","ENTER,SPACEBAR"]]],[12],[2,"\\n  "],[10,"div"],[14,0,"msg-conversation-card msg-overlay-list-bubble__convo-card display-flex"],[12],[2,"\\n    "],[8,"msg-ui@selectable-entity-presenter",[],[["@viewData","@onCheckboxClick","@checkboxOnly","@disableSelectability","@entitySize","@iconSize"],[[32,1,["conversationEntityViewData"]],[30,[36,10],[[32,3],[32,1,["id"]]],null],[32,4],[32,5],3,"small"]],null],[2,"\\n\\n    "],[10,"div"],[14,0,"msg-overlay-list-bubble__convo-card-content overflow-hidden pl2"],[12],[2,"\\n"],[2,"      "],[10,"div"],[14,0,"msg-overlay-list-bubble__convo-card-content-wrapper fl"],[12],[2,"\\n        "],[10,"div"],[14,0,"msg-conversation-card__row"],[12],[2,"\\n          "],[10,"h3"],[15,0,[31,["msg-conversation-listitem__participant-names msg-conversation-card__participant-names truncate t-14 t-black\\n              ",[30,[36,1],[[32,1,["isRead"]],"t-normal","t-bold"],null]]]],[12],[2,"\\n            "],[1,[32,1,["title"]]],[2,"\\n          "],[13],[2,"\\n"],[6,[37,1],[[32,1,["timestampText"]]],null,[["default"],[{"statements":[[2,"            "],[10,"time"],[15,0,[31,["msg-overlay-list-bubble-item__time-stamp t-12\\n                ",[30,[36,1],[[32,1,["isRead"]],"t-normal t-black--light","t-bold t-black"],null]]]],[12],[2,"\\n              "],[1,[32,1,["timestampText"]]],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"        "],[13],[2,"\\n\\n        "],[10,"div"],[14,0,"msg-conversation-card__row"],[12],[2,"\\n          "],[10,"div"],[15,0,[31,[[30,[36,1],[[32,0,["twoLineMessageSnippetLayout"]],"msg-overlay-list-bubble__message-snippet-container"],null],"\\n              ",[30,[36,11],[[32,0,["twoLineMessageSnippetLayout"]],"truncate"],null]]]],[12],[2,"\\n"],[6,[37,1],[[32,1,["messageRequestContext"]]],null,[["default"],[{"statements":[[2,"              "],[10,"p"],[14,0,"display-flex align-items-center overflow-hidden t-12 t-bold"],[12],[2,"\\n                "],[10,"span"],[14,0,"truncate flex-1"],[12],[2,"\\n                  "],[1,[30,[36,7],[[32,1,["messageRequestContext"]]],null]],[2,"\\n                "],[13],[2,"\\n              "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"            "],[10,"p"],[15,0,[31,[[30,[36,1],[[30,[36,12],[[32,1,["messageRequestContext"]],[32,1,["nudgeText"]]],null],"msg-overlay-list-bubble__message-snippet truncate","msg-overlay-list-bubble__message-snippet--v2"],null],"\\n                m0 t-black t-12\\n                ",[30,[36,1],[[32,1,["isRead"]],"t-normal t-black--light","t-bold"],null]]]],[12],[2,"\\n"],[6,[37,1],[[32,1,["messageSnippetIcon"]]],null,[["default"],[{"statements":[[2,"                "],[1,[30,[36,6],null,[["type","size","class"],[[32,1,["messageSnippetIcon"]],"small","msg-conversation-card__message-snippet-icon"]]]],[2,"\\n"]],"parameters":[]}]]],[6,[37,1],[[32,1,["messageSnippetPillText"]]],null,[["default"],[{"statements":[[2,"                "],[10,"span"],[14,0,"msg-conversation-card__pill t-14 t-black t-bold pr1"],[12],[2,"\\n                  "],[1,[32,1,["messageSnippetPillText"]]],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"              "],[1,[32,1,["messageSnippetText"]]],[2,"\\n            "],[13],[2,"\\n          "],[13],[2,"\\n          "],[10,"div"],[14,0,"msg-conversation-card__conversation-status align-items-center flex-grow-1"],[12],[2,"\\n"],[6,[37,1],[[32,1,["isMute"]]],null,[["default"],[{"statements":[[2,"              "],[1,[30,[36,6],null,[["class","type","size","a11y-text"],["msg-conversation-card__action-icon mute-icon pr2","mute-icon","medium",[30,[36,5],["i18n_convo_is_muted","msg-overlay/components/overlay-conversation-list-item-presenter"],[["names"],[[32,1,["title"]]]]]]]]],[2,"\\n"]],"parameters":[]}]]],[6,[37,1],[[30,[36,13],[[32,1,["isRead"]]],null]],null,[["default"],[{"statements":[[2,"              "],[8,"artdeco-notification-badge@artdeco-notification-badge",[[24,0,"msg-conversation-card__unread-count artdeco-notification-badge--new text-align-center"]],[["@number","@showCount"],[[32,1,["conversationUnreadCount"]],true]],[["default"],[{"statements":[[2,"\\n"],[2,"              "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]}]]],[2,"          "],[13],[2,"\\n        "],[13],[2,"\\n\\n"],[6,[37,1],[[32,1,["nudgeText"]]],null,[["default"],[{"statements":[[2,"          "],[11,"p"],[16,0,[31,[[30,[36,1],[[30,[36,0],null,null],"msg-conversation-card__nudge-text--small","msg-conversation-card__nudge-text--large"],null],"\\n              msg-conversation-card__nudge-text"]]],[4,[38,4],null,[["registerOnImpression","routeName","currentRoute"],[[32,0,["onNudgeImpression"]],[30,[36,3],[[30,[36,2],["outletState"],null],"render.name"],null],[30,[36,3],[[30,[36,2],["outletState"],null],"render"],null]]]],[12],[2,"\\n            "],[1,[32,1,["nudgeText"]]],[2,"\\n          "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"      "],[13],[2,"\\n    "],[13],[2,"\\n  "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["msg-shared@is-in-overlay","if","-get-dynamic-var","get","ember-cli-pemberly-tracking@track-impression","t","artdeco-icons-web@li-icon","text-view-model@text-view-model","on","ember-cli-pemberly-tracking@track-interaction","fn","unless","global-helpers@or","global-helpers@not"]}',moduleName:"msg-overlay/components/overlay-conversation-list-item-presenter.hbs"}),{KEYCODES:{ENTER:g,SPACEBAR:h}}=i.default
let v=(r=Ember.inject.service("msg-data@data-manager"),l=Ember._action,c=Ember._action,m=Ember._action,u=Ember._action,d=class extends s.default{constructor(){super(...arguments);(0,t.default)(this,"msgDataManager",p,this)}get controlInteractionEventName(){return`overlay.${this.args.viewData.controlName}`}onKeyDown(e){if(e.keyCode===g||e.keyCode===h){e.preventDefault()
this.args.isBulkActionsMode?this.args.handleBulkActionToggle():this.args.openBubble(this.args.viewData.entityUrn)}}onMouseMove(e){var t,n
null===(t=(n=this.args).onMouseMove)||void 0===t||t.call(n,e)}onClick(){if(this.args.isBulkActionsMode)this.args.handleBulkActionToggle()
else{this.args.openBubble(this.args.viewData.entityUrn)
this.msgDataManager.nudgingDataManager.fireClickTracking(this.args.viewData.id)}}onNudgeImpression(){const{viewData:e,convoIndex:t}=this.args
return()=>this.msgDataManager.nudgingDataManager.onImpression(e.id,e.conversationBackendUrn,t+1)}},p=(0,a.default)(d.prototype,"msgDataManager",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,a.default)(d.prototype,"onKeyDown",[l],Object.getOwnPropertyDescriptor(d.prototype,"onKeyDown"),d.prototype),(0,a.default)(d.prototype,"onMouseMove",[c],Object.getOwnPropertyDescriptor(d.prototype,"onMouseMove"),d.prototype),(0,a.default)(d.prototype,"onClick",[m],Object.getOwnPropertyDescriptor(d.prototype,"onClick"),d.prototype),(0,a.default)(d.prototype,"onNudgeImpression",[u],Object.getOwnPropertyDescriptor(d.prototype,"onNudgeImpression"),d.prototype),d)
e.default=v
Ember._setComponentTemplate(b,v)}))
define("msg-overlay/components/recommendation-card",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const t=Ember.HTMLBars.template({id:"zRppOLtZ",block:'{"symbols":["@actor","@suggestion","@impressionTrackingHandler","@messageRecommendation","@interactionTrackingHandler","@isFeedContext"],"statements":[[11,"li"],[24,0,"msg-overlay-list-bubble__convo-item msg-overlay-list-bubble__profile-item"],[4,[38,4],[[32,3]],[["routeName","currentRoute"],[[30,[36,3],[[30,[36,2],["outletState"],null],"render.name"],null],[30,[36,3],[[30,[36,2],["outletState"],null],"render"],null]]]],[12],[2,"\\n  "],[11,"button"],[24,0,"msg-conversation-listitem__link msg-overlay-list-bubble__convo-item-link"],[24,"tabindex","0"],[24,4,"button"],[4,[38,5],["click",[32,4]],null],[4,[38,5],["keydown",[32,4]],[["preventDefault"],[true]]],[4,[38,6],["overlay_message_recommendation"],[["onInteract"],[[32,5]]]],[12],[2,"\\n    "],[10,"div"],[14,0,"msg-conversation-card msg-overlay-list-bubble__convo-card"],[12],[2,"\\n      "],[10,"div"],[14,0,"msg-conversation-card__presence-entity-container"],[12],[2,"\\n        "],[8,"presence@entity-with-presence",[[24,0,"msg-conversation-card__presence-entity"]],[["@miniProfile","@size"],[[32,2,["miniProfile"]],3]],null],[2,"\\n      "],[13],[2,"\\n      "],[10,"div"],[14,0,"msg-overlay-list-bubble__convo-card-content msg-overlay-list-bubble__contextual-convo-card-content"],[12],[2,"\\n        "],[10,"div"],[14,0,"msg-overlay-list-bubble__convo-card-content-wrapper"],[12],[2,"\\n          "],[10,"div"],[14,0,"msg-conversation-card__row"],[12],[2,"\\n            "],[10,"h4"],[14,0,"truncate t-14 t-black"],[12],[2,"\\n              "],[1,[30,[36,7],null,[["firstName","lastName","type"],[[32,2,["miniProfile","firstName"]],[32,2,["miniProfile","lastName"]],"full"]]]],[2,"\\n            "],[13],[2,"\\n          "],[13],[2,"\\n\\n          "],[10,"div"],[14,0,"msg-conversation-card__row"],[12],[2,"\\n            "],[10,"span"],[14,0,"msg-overlay-list-bubble__message-snippet m0 t-12 t-black--light t-normal block truncate"],[12],[2,"\\n              "],[1,[32,2,["miniProfile","occupation"]]],[2,"\\n            "],[13],[2,"\\n          "],[13],[2,"\\n\\n          "],[10,"div"],[14,0,"msg-conversation-card__row"],[12],[2,"\\n"],[6,[37,8],[[32,6]],null,[["default"],[{"statements":[[6,[37,1],[[32,2,["reasons"]]],null,[["default"],[{"statements":[[2,"                "],[10,"span"],[14,0,"t-12 t-black--light t-normal t-italic block truncate mt1"],[12],[2,"\\n                  "],[1,[30,[36,1],[[32,2,["isCurrentEmployee"]],[30,[36,0],["works_at","msg-overlay/components/recommendation-card"],[["actor"],[[32,1]]]],[30,[36,1],[[32,2,["isPreviousEmployee"]],[30,[36,0],["has_worked_at","msg-overlay/components/recommendation-card"],[["actor"],[[32,1]]]],[30,[36,1],[[32,2,["isConnectingMember"]],[30,[36,0],["knows_people_at","msg-overlay/components/recommendation-card"],[["connectionCount","actor"],[[32,2,["suggestionReason","numSecondDegreeMembers"]],[32,1]]]]],null]],null]],null]],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"          "],[13],[2,"\\n        "],[13],[2,"\\n      "],[13],[2,"\\n    "],[13],[2,"\\n  "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["t","if","-get-dynamic-var","get","ember-cli-pemberly-tracking@track-impression","on","ember-cli-pemberly-tracking@track-interaction","ember-cli-pemberly-i18n@format-name","unless"]}',moduleName:"msg-overlay/components/recommendation-card.hbs"})
var n=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=n}))
define("msg-overlay/components/search-connection-item",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const t=Ember.HTMLBars.template({id:"WyYqmKrI",block:'{"symbols":["@caption","&attrs","@onMouseMove","@onClick","@profile"],"statements":[[11,"li"],[24,0,"msg-overlay-list-bubble-search__list-item display-flex align-items-center pv2 ph3"],[17,2],[4,[38,1],["mousemove",[32,3]],null],[4,[38,1],["click",[32,4]],null],[12],[2,"\\n  "],[10,"div"],[14,0,"msg-overlay-search-result-picture circle display-flex flex-shrink-zero"],[12],[2,"\\n    "],[8,"ember-vector-images@lazy-image",[],[["@classNames","@image","@alt","@ghostType","@desiredWidth"],["msg-overlay-search-result-picture__background-img full-width full-height round",[32,5,["picture"]],[30,[36,0],["i18n_fullname","msg-overlay/components/search-connection-item"],[["name"],[[30,[36,2],[[32,5]],null]]]],"person",100]],null],[2,"\\n  "],[13],[2,"\\n\\n  "],[10,"div"],[14,0,"display-flex overflow-hidden pv1 pl2"],[12],[2,"\\n    "],[10,"h4"],[14,0,"msg-overlay-search-result-name t-12 t-black t-bold flex-shrink-zero truncate"],[12],[2,"\\n      "],[1,[30,[36,0],["i18n_fullname","msg-overlay/components/search-connection-item"],[["name"],[[30,[36,2],[[32,5]],null]]]]],[2,"\\n    "],[13],[2,"\\n"],[6,[37,3],[[32,1]],null,[["default"],[{"statements":[[2,"      "],[10,"span"],[14,0,"t-12 t-black--light t-normal flex-shrink-zero ph1 truncate"],[12],[2,"\\n        "],[1,[30,[36,0],["dot","msg-overlay/components/search-connection-item"],null]],[2,"\\n      "],[13],[2,"\\n      "],[10,"p"],[14,0,"t-12 t-black--light t-normal truncate"],[12],[2,"\\n        "],[1,[32,1]],[2,"\\n      "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"  "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["t","on","global-helpers@name","if"]}',moduleName:"msg-overlay/components/search-connection-item.hbs"})
var n=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=n}))
define.alias("ember-cli-search-typeahead/components/type-ahead","msg-overlay/components/type-ahead")
define.alias("ember-cli-search-typeahead/components/typeahead/typeahead-auto-complete","msg-overlay/components/typeahead/typeahead-auto-complete")
define.alias("ember-cli-search-typeahead/components/typeahead/typeahead-city","msg-overlay/components/typeahead/typeahead-city")
define.alias("ember-cli-search-typeahead/components/typeahead/typeahead-company","msg-overlay/components/typeahead/typeahead-company")
define.alias("ember-cli-search-typeahead/components/typeahead/typeahead-country","msg-overlay/components/typeahead/typeahead-country")
define("msg-overlay/components/typeahead/typeahead-current-location",["exports","ember-cli-search-typeahead/templates/components/typeahead/typeahead-current-location","ember-cli-search-typeahead/components/typeahead/typeahead-current-location"],(function(e,t,n){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var a=n.default.extend({_getI18nText(e){return this.get("i18n").getMessageRenderer(t.default,e)([])}})
e.default=a}))
define.alias("ember-cli-search-typeahead/components/typeahead/typeahead-degree","msg-overlay/components/typeahead/typeahead-degree")
define.alias("ember-cli-search-typeahead/components/typeahead/typeahead-field-of-study","msg-overlay/components/typeahead/typeahead-field-of-study")
define.alias("ember-cli-search-typeahead/components/typeahead/typeahead-geo","msg-overlay/components/typeahead/typeahead-geo")
define.alias("ember-cli-search-typeahead/components/typeahead/typeahead-group","msg-overlay/components/typeahead/typeahead-group")
define.alias("ember-cli-search-typeahead/components/typeahead/typeahead-hit","msg-overlay/components/typeahead/typeahead-hit")
define.alias("ember-cli-search-typeahead/components/typeahead/typeahead-industry","msg-overlay/components/typeahead/typeahead-industry")
define.alias("ember-cli-search-typeahead/components/typeahead/typeahead-input","msg-overlay/components/typeahead/typeahead-input")
define.alias("ember-cli-search-typeahead/components/typeahead/typeahead-industry","msg-overlay/components/typeahead/typeahead-job-function")
define.alias("ember-cli-search-typeahead/components/typeahead/typeahead-language","msg-overlay/components/typeahead/typeahead-language")
define.alias("ember-cli-search-typeahead/components/typeahead/typeahead-postal-code","msg-overlay/components/typeahead/typeahead-postal-code")
define.alias("ember-cli-search-typeahead/components/typeahead/typeahead-profile","msg-overlay/components/typeahead/typeahead-profile")
define.alias("ember-cli-search-typeahead/components/typeahead/typeahead-region","msg-overlay/components/typeahead/typeahead-region")
define.alias("ember-cli-search-typeahead/components/typeahead/typeahead-result-image","msg-overlay/components/typeahead/typeahead-result-image")
define.alias("ember-cli-search-typeahead/components/typeahead/typeahead-results","msg-overlay/components/typeahead/typeahead-results")
define.alias("ember-cli-search-typeahead/components/typeahead/typeahead-school","msg-overlay/components/typeahead/typeahead-school")
define.alias("ember-cli-search-typeahead/components/typeahead/typeahead-showcase","msg-overlay/components/typeahead/typeahead-showcase")
define.alias("ember-cli-search-typeahead/components/typeahead/typeahead-site-feature","msg-overlay/components/typeahead/typeahead-site-feature")
define.alias("ember-cli-search-typeahead/components/typeahead/typeahead-skill","msg-overlay/components/typeahead/typeahead-skill")
define.alias("ember-cli-search-typeahead/components/typeahead/typeahead-state","msg-overlay/components/typeahead/typeahead-state")
define.alias("ember-cli-search-typeahead/components/typeahead/typeahead-suggestion","msg-overlay/components/typeahead/typeahead-suggestion")
define.alias("ember-cli-search-typeahead/components/typeahead/typeahead-title","msg-overlay/components/typeahead/typeahead-title")
define.alias("ember-cli-search-typeahead/components/typeahead/typeahead-topic","msg-overlay/components/typeahead/typeahead-topic")
define("msg-overlay/config/environment",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
let t
try{const e="msg-overlay/config/environment",n=document.querySelector('meta[name="'+e+'"]').getAttribute("content")
t=JSON.parse(unescape(n))}catch(e){t={sparkPlaceholders:{includeHashes:["assets/media-player.amd.js"]}}}var n=t
e.default=n}))
define("msg-overlay/engine",["exports","@babel/runtime/helpers/esm/defineProperty","extended/resolver","ember-engines/engine","ember-load-initializers"],(function(e,t,n,a,o){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const s="msg-overlay"
class i extends a.default{constructor(){super(...arguments);(0,t.default)(this,"modulePrefix",s);(0,t.default)(this,"Resolver",n.default)}}(0,o.default)(i,s)
var r=i
e.default=r}))
define.alias("ember-element-helper/helpers/-element","msg-overlay/helpers/-element")
define.alias("ember-named-blocks-polyfill/helpers/-has-block-params","msg-overlay/helpers/-has-block-params")
define.alias("ember-named-blocks-polyfill/helpers/-has-block","msg-overlay/helpers/-has-block")
define.alias("ember-named-blocks-polyfill/helpers/-is-named-block-invocation","msg-overlay/helpers/-is-named-block-invocation")
define.alias("ember-named-blocks-polyfill/helpers/-named-block-invocation","msg-overlay/helpers/-named-block-invocation")
define.alias("ember-number-formatting/helpers/abbreviate-number","msg-overlay/helpers/abbreviate-number")
define.alias("ember-truth-helpers/helpers/and","msg-overlay/helpers/and")
define.alias("artdeco-datepicker/helpers/artdeco-adjust-date-for-timezone","msg-overlay/helpers/artdeco-adjust-date-for-timezone")
define.alias("artdeco-datepicker/helpers/artdeco-is-between-dates","msg-overlay/helpers/artdeco-is-between-dates")
define.alias("artdeco-datepicker/helpers/cal-dates-equal","msg-overlay/helpers/cal-dates-equal")
define.alias("ember-element-helper/helpers/element","msg-overlay/helpers/element")
define.alias("ember-truth-helpers/helpers/equal","msg-overlay/helpers/eq")
define.alias("ember-cli-pemberly-i18n/helpers/format-number","msg-overlay/helpers/format-number")
define.alias("ember-semaphore/helpers/format-title","msg-overlay/helpers/format-title")
define.alias("ember-truth-helpers/helpers/gt","msg-overlay/helpers/gt")
define.alias("ember-truth-helpers/helpers/gte","msg-overlay/helpers/gte")
define.alias("ember-truth-helpers/helpers/is-array","msg-overlay/helpers/is-array")
define.alias("ember-truth-helpers/helpers/is-empty","msg-overlay/helpers/is-empty")
define.alias("ember-truth-helpers/helpers/is-equal","msg-overlay/helpers/is-equal")
define.alias("artdeco-icons-web/helpers/li-icon","msg-overlay/helpers/li-icon")
define.alias("ember-number-formatting/helpers/localized-format-currency","msg-overlay/helpers/localized-format-currency")
define.alias("ember-number-formatting/helpers/localized-format-number","msg-overlay/helpers/localized-format-number")
define.alias("ember-truth-helpers/helpers/lt","msg-overlay/helpers/lt")
define.alias("ember-truth-helpers/helpers/lte","msg-overlay/helpers/lte")
define.alias("ember-media-player/helpers/media-action-autoplay","msg-overlay/helpers/media-action-autoplay")
define.alias("ember-media-player/helpers/media-action-seekto","msg-overlay/helpers/media-action-seekto")
define.alias("ember-truth-helpers/helpers/not-equal","msg-overlay/helpers/not-eq")
define.alias("ember-truth-helpers/helpers/not","msg-overlay/helpers/not")
define.alias("ember-truth-helpers/helpers/or","msg-overlay/helpers/or")
define.alias("ember-app-scheduler/helpers/route-idle","msg-overlay/helpers/route-idle")
define.alias("ember-set-helper/helpers/set","msg-overlay/helpers/set")
define.alias("ember-cli-pemberly-i18n/helpers/t","msg-overlay/helpers/t")
define.alias("ember-cli-pemberly-litms/helpers/tag-manager-test-helper","msg-overlay/helpers/tag-manager-test-helper")
define.alias("ember-number-formatting/helpers/trim-fractional-numbers","msg-overlay/helpers/trim-fractional-numbers")
define.alias("ember-truth-helpers/helpers/xor","msg-overlay/helpers/xor")
define("msg-overlay/initializers/artdeco",["exports","artdeco-eyeglass"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
e.initialize=o
const n=[t.default.contextClasses,t.default.floatingLabel,t.default.focusOutline]
function a(e,t){const a=e[t]
e[t]=function(){n.forEach((e=>e&&"function"==typeof e.teardown&&e.teardown()))
a&&"function"==typeof a&&a.call(e)}}function o(e){if("undefined"!=typeof document){n.forEach((e=>e.install()))
"function"==typeof e.willDestroy?a(e,"willDestroy"):"function"==typeof e.destroy&&a(e,"destroy")}}var s={name:"artdeco",initialize:o}
e.default=s}))
define("msg-overlay/initializers/ember-faker",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
e.initialize=t
function t(){}var n={name:"ember-faker",initialize:t}
e.default=n}))
define("msg-overlay/initializers/icons",["exports","artdeco-icons-web/src/icons","msg-overlay/config/environment"],(function(e,t,n){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
function a(e){throw e}var o={name:"icons",initialize:function(){const{environment:e,APP:o}=n.default
let s,i
o&&({artdecoCustomSpriteUrl:s,artdecoCustomSpriteName:i}=o)
const r="test"!==e
t.default.load(r,s,i).catch(a)}}
e.default=o}))
define.alias("ember-m3/initializers/m3-store","msg-overlay/initializers/m3-store")
define("msg-overlay/initializers/override-safestring",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
e.initialize=o
const t="ember-glimmer",n="ember-htmlbars/utils/string",a="@ember/-internals/glimmer"
function o(){let e,o=Ember.__loader.require.has
if(o(a))e=Ember.__loader.require(a).SafeString
else if(o(t))e=Ember.__loader.require(t).SafeString
else{if(!o(n))throw new Error("Cannot locate SafeString class for overriding")
e=Ember.__loader.require(n).SafeString}e.prototype.toHTML=function(){return jSecure.sanitizeHTML(this.toString())}
e.prototype.toString=function(){return`${this.string}`}}var s={name:"override-safestring",initialize:o}
e.default=s}))
define.alias("artdeco-datepicker/modifiers/artdeco-calendar-click-watcher","msg-overlay/modifiers/artdeco-calendar-click-watcher")
define.alias("@ember/render-modifiers/modifiers/did-insert","msg-overlay/modifiers/did-insert")
define.alias("@ember/render-modifiers/modifiers/did-update","msg-overlay/modifiers/did-update")
define.alias("ember-prop-modifier","msg-overlay/modifiers/prop")
define.alias("ember-ref-modifier/modifiers/ref","msg-overlay/modifiers/ref")
define.alias("@ember/render-modifiers/modifiers/will-destroy","msg-overlay/modifiers/will-destroy")
define.alias("artdeco-hoverables/services/artdeco-hoverable","msg-overlay/services/artdeco-hoverable")
define.alias("artdeco-modal/services/artdeco-modal","msg-overlay/services/artdeco-modal")
define.alias("artdeco-toast/services/artdeco-toast-time-ago","msg-overlay/services/artdeco-toast-time-ago")
define.alias("artdeco-toast/services/artdeco-toast","msg-overlay/services/artdeco-toast")
define.alias("client-sensor-web/services/client-sensor","msg-overlay/services/client-sensor")
define.alias("ember-date-service/services/date","msg-overlay/services/date")
define.alias("@linkedin/ember-restli-graphql/services/graphql","msg-overlay/services/graphql")
define.alias("@linkedin/ember-pem/services/internal-event-utils","msg-overlay/services/internal-event-utils")
define.alias("@linkedin/ember-pem/services/internal-pem-tracking","msg-overlay/services/internal-pem-tracking")
define.alias("ember-m3/services/m3-schema-manager","msg-overlay/services/m3-schema-manager")
define.alias("ember-media-player/services/media-player","msg-overlay/services/media-player")
define.alias("ember-cli-search-typeahead/services/modal-manager","msg-overlay/services/modal-manager")
define.alias("ember-number-formatting/services/number-formatter","msg-overlay/services/number-formatter")
define.alias("ember-number-formatting/services/number-locale","msg-overlay/services/number-locale")
define.alias("@linkedin/ember-pem/services/pem-tracking","msg-overlay/services/pem-tracking")
define.alias("persistent-toast-manager/services/persistent-toast-manager","msg-overlay/services/persistent-toast-manager")
define.alias("ember-media-player/services/static-asset-loader","msg-overlay/services/static-asset-loader")
define.alias("ember-cli-pemberly-m3/services/store","msg-overlay/services/store")
define.alias("ember-cli-pemberly-litms/services/tag-manager","msg-overlay/services/tag-manager")
define.alias("ember-cli-pemberly-litms/services/tracking-adapter-for-tag-manager","msg-overlay/services/tracking-adapter-for-tag-manager")
define.alias("ember-singularity/services/unified-event-handler","msg-overlay/services/unified-event-handler")
define("msg-overlay/templates/application",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var t=Ember.HTMLBars.template({id:"Hoa5u3j2",block:'{"symbols":[],"statements":[[8,"msg-overlay@messaging-overlay-container",[],[[],[]],null]],"hasEval":false,"upvars":[]}',moduleName:"msg-overlay/templates/application.hbs"})
e.default=t}))
define.alias("artdeco-datepicker/templates/components/artdeco-calendar","msg-overlay/templates/components/artdeco-calendar")
define.alias("artdeco-datepicker/templates/components/artdeco-datepicker-embedded-cal","msg-overlay/templates/components/artdeco-datepicker-embedded-cal")
define.alias("artdeco-datepicker/templates/components/artdeco-datepicker","msg-overlay/templates/components/artdeco-datepicker")
define.alias("artdeco-datepicker/templates/components/artdeco-daterange-embedded-cal","msg-overlay/templates/components/artdeco-daterange-embedded-cal")
define.alias("artdeco-datepicker/templates/components/artdeco-daterange","msg-overlay/templates/components/artdeco-daterange")
define.alias("client-sensor-web/utils/helpers","msg-overlay/utils/helpers")
define("msg-overlay/utils/recommendation-helpers",["exports","msg-shared/utils/constants"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.USECASE_PARTIAL_LOOKUP=void 0
e.normalizeUsecase=function(e,t){return`${i[e]}_${t?"FULL":"SHORT"}`}
const{CONTEXT_TYPES:{FEED_CONTEXT:n,JOB_CONTEXT:a,COMPANY_CONTEXT:o,PROFILE_CONTEXT:s}}=t.OVERLAY,i={[n]:"ARTICLE_SHARE_OVERLAY",[a]:"OVERLAY_JOB",[o]:"OVERLAY_COMPANY",[s]:"OVERLAY_PROFILE"}
e.USECASE_PARTIAL_LOOKUP=i}))
define.alias("ember-vector-images/utils/vector-url","msg-overlay/utils/vector-url")

//# sourceMappingURL=engine.map